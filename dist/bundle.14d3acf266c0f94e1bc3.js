!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=7)}([function(t,e){t.exports=function(t,e,r){return(t[0]-r[0])*(e[1]-r[1])-(e[0]-r[0])*(t[1]-r[1])}},function(t,e,r){var n=r(22);t.exports={union:function(t,e){return n(t,e,!1,!1)},intersection:function(t,e){return n(t,e,!0,!0)},diff:function(t,e){return n(t,e,!1,!0)},clip:n}},function(t,e){t.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]}},function(t,e,r){var n=r(0);t.exports=function(t,e){var r=t.point,i=e.point;return r[0]>i[0]?1:r[0]<i[0]?-1:r[1]!==i[1]?r[1]>i[1]?1:-1:function(t,e,r,i){if(t.left!==e.left)return t.left?1:-1;if(0!==n(r,t.otherEvent.point,e.otherEvent.point))return t.isBelow(e.otherEvent.point)?-1:1;return!t.isSubject&&e.isSubject?1:-1}(t,e,r)}},function(t,e){function r(){}function n(t){this._tree=t,this._ancestors=[],this._cursor=null}r.prototype.clear=function(){this._root=null,this.size=0},r.prototype.find=function(t){for(var e=this._root;null!==e;){var r=this._comparator(t,e.data);if(0===r)return e.data;e=e.get_child(r>0)}return null},r.prototype.findIter=function(t){for(var e=this._root,r=this.iterator();null!==e;){var n=this._comparator(t,e.data);if(0===n)return r._cursor=e,r;r._ancestors.push(e),e=e.get_child(n>0)}return null},r.prototype.lowerBound=function(t){for(var e=this._root,r=this.iterator(),n=this._comparator;null!==e;){var i=n(t,e.data);if(0===i)return r._cursor=e,r;r._ancestors.push(e),e=e.get_child(i>0)}for(var o=r._ancestors.length-1;o>=0;--o)if(n(t,(e=r._ancestors[o]).data)<0)return r._cursor=e,r._ancestors.length=o,r;return r._ancestors.length=0,r},r.prototype.upperBound=function(t){for(var e=this.lowerBound(t),r=this._comparator;null!==e.data()&&0===r(e.data(),t);)e.next();return e},r.prototype.min=function(){var t=this._root;if(null===t)return null;for(;null!==t.left;)t=t.left;return t.data},r.prototype.max=function(){var t=this._root;if(null===t)return null;for(;null!==t.right;)t=t.right;return t.data},r.prototype.iterator=function(){return new n(this)},r.prototype.each=function(t){for(var e,r=this.iterator();null!==(e=r.next());)if(!1===t(e))return},r.prototype.reach=function(t){for(var e,r=this.iterator();null!==(e=r.prev());)if(!1===t(e))return},n.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},n.prototype.next=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._minNode(t)}else{var e;if(null===this._cursor.right)do{if(e=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===e);else this._ancestors.push(this._cursor),this._minNode(this._cursor.right)}return null!==this._cursor?this._cursor.data:null},n.prototype.prev=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._maxNode(t)}else{var e;if(null===this._cursor.left)do{if(e=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===e);else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left)}return null!==this._cursor?this._cursor.data:null},n.prototype._minNode=function(t){for(;null!==t.left;)this._ancestors.push(t),t=t.left;this._cursor=t},n.prototype._maxNode=function(t){for(;null!==t.right;)this._ancestors.push(t),t=t.right;this._cursor=t},t.exports=r},function(t,e){t.exports={NORMAL:0,NON_CONTRIBUTING:1,SAME_TRANSITION:2,DIFFERENT_TRANSITION:3}},function(t,e,r){var n=r(18),i=r(17),o=r(8),s=o.isArray,u=o.equals,h=o.orientRings;function a(t,e){this.vertices=null,this.edges=null,this._closed=!1,this._distance=0,t&&this.data(t),this._arcSegments=void 0!==e?e:5}a.prototype.data=function(t){if(this._edges=[],!s(t))throw new Error("Offset requires at least one coodinate to work with");return s(t)&&"number"==typeof t[0]?this.vertices=t:(this.vertices=h(t),this._processContour(this.vertices,this._edges)),this},a.prototype._processContour=function(t,e){var r,i;if(s(t[0])&&"number"==typeof t[0][0])for(i=t.length,u(t[0],t[i-1])&&(i-=1),r=0;r<i;r++)e.push(new n(t[r],t[(r+1)%i]));else for(r=0,i=t.length;r<i;r++)e.push([]),this._processContour(t[r],e[e.length-1])},a.prototype.arcSegments=function(t){return this._arcSegments=t,this},a.prototype.validate=function(t){var e=t.length;return"number"==typeof t[0]?[t]:(t[0][0]===t[e-1][0]&&t[0][1]===t[e-1][1]&&e>1&&(t=t.slice(0,e-1),this._closed=!0),t)},a.prototype.createArc=function(t,e,r,n,i,o,s){var u=2*Math.PI,h=Math.atan2(n[1]-e[1],n[0]-e[0]),a=Math.atan2(i[1]-e[1],i[0]-e[0]);o%2==0&&(o-=1),h<0&&(h+=u),a<0&&(a+=u);var c=h>a?h-a:h+u-a,l=(s?-c:u-c)/o;t.push(n);for(var f=1;f<o;++f)c=h+l*f,t.push([e[0]+Math.cos(c)*r,e[1]+Math.sin(c)*r]);return t.push(i),t},a.prototype.distance=function(t,e){return this._distance=t||0,this},a.degreesToUnits=function(t,e){switch(e){case"miles":t/=69.047;break;case"feet":t/=364568;break;case"kilometers":t/=111.12;break;case"meters":case"metres":t/=111120}return t},a.prototype.ensureLastPoint=function(t){return u(t[0],t[t.length-1])||t.push([t[0][0],t[0][1]]),t},a.prototype.offset=function(t){return this.distance(t),0===this._distance?this.vertices:this._distance>0?this.margin(this._distance):this.padding(-this._distance)},a.prototype._offsetSegment=function(t,e,r,n){for(var i=[],o=[r.offset(r._inNormal[0]*n,r._inNormal[1]*n),r.inverseOffset(r._outNormal[0]*n,r._outNormal[1]*n)],s=0;s<2;s++){var u=o[s],h=o[(s+2-1)%2];this.createArc(i,0===s?t:e,n,h.next,u.current,this._arcSegments,!0)}return i},a.prototype.margin=function(t){if(this.distance(t),"number"==typeof this.vertices[0])return this.offsetPoint(this._distance);if(0===t)return this.vertices;var e=this.offsetLines(this._distance);return e=i.union(this.vertices,e),h(e)},a.prototype.padding=function(t){if(this.distance(t),0===this._distance)return this.ensureLastPoint(this.vertices);if(2===this.vertices.length&&"number"==typeof this.vertices[0])return this.vertices;var e=this.offsetLines(this._distance),r=i.diff(this.vertices,e);return h(r)},a.prototype.offsetLine=function(t){return 0===t?this.vertices:h(this.offsetLines(t))},a.prototype.offsetLines=function(t){if(t<0)throw new Error("Cannot apply negative margin to the line");var e;if(this.distance(t),s(this.vertices[0])&&"number"!=typeof this.vertices[0][0])for(var r=0,n=this._edges.length;r<n;r++)e=0===r?this.offsetContour(this.vertices[r],this._edges[r]):i.union(e,this.offsetContour(this.vertices[r],this._edges[r]));else e=1===this.vertices.length?this.offsetPoint():this.offsetContour(this.vertices,this._edges);return e},a.prototype.offsetContour=function(t,e){var r,n,o;if(s(t[0])&&"number"==typeof t[0][0])for(n=0,o=t.length-1;n<o;n++){var u=this.ensureLastPoint(this._offsetSegment(t[n],t[n+1],e[n],this._distance));r=0===n?[this.ensureLastPoint(u)]:i.union(r,this.ensureLastPoint(u))}else for(n=0,o=e.length;n<o;n++)r=0===n?this.offsetContour(t[n],e[n]):i.union(r,this.offsetContour(t[n],e[n]));return r},a.prototype.offsetPoint=function(t){this.distance(t);var e=2*this._arcSegments,r=[],n=this.vertices,i=this._distance,o=0;e%2==0&&e++;for(var s=0;s<e;s++)o+=2*Math.PI/e,r.push([n[0]+i*Math.cos(o),n[1]+i*Math.sin(o)]);return h([this.ensureLastPoint(r)])},a.orientRings=h,t.exports=a},function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"setup",function(){return l}),r.d(n,"draw",function(){return f}),r.d(n,"mousePressed",function(){return p}),r.d(n,"keyReleased",function(){return d});var i=r(1),o=r.n(i),s=r(6),u=r.n(s);const h=[[108.5,41],[55.5,375],[484.5,427],[798.5,408],[808.5,166]],a=[[108.5,241],[65.5,375],[484.5,527],[698.5,408],[808.5,166],[654.5,231]];let c=5;function l(){createCanvas(860,480).parent("#canvas"),background(55)}function f(){background(55),noFill(),strokeWeight(3),stroke(255,0,0,150),beginShape(),a.map(t=>vertex.apply(this,t)),endShape(CLOSE),fill(0,255,0,50),strokeWeight(3),stroke(0,255,0,150),beginShape(),h.map(t=>vertex.apply(this,t)),endShape(CLOSE);o.a;let t=o.a.intersection(h,a);t=t[0],fill(0,0,255,50),strokeWeight(3),stroke(0,0,255,150),beginShape(),t.map(t=>vertex.apply(this,t)),endShape();const e=(new u.a).data(t).padding(c);fill(255,255,255,50),strokeWeight(3),stroke(255,255,255,150),beginShape(),e[0].map(t=>vertex.apply(this,t)),endShape()}function p(){}function d(){switch(key){case"A":c-=c>1?1:0,console.log(c);break;case"D":c+=c<15?1:0,console.log(c)}}(t=>Object.keys(n).forEach(e=>{t[e]=n[e]}))(window)},function(t,e){var r=t.exports.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};t.exports.equals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},t.exports.orientRings=function t(e,n,i){var o,s;if(n=n||0,r(e)&&"number"==typeof e[0][0]){var u=0,h=e;for(o=0,s=h.length;o<s;o++){var a=h[o],c=h[(o+1)%s];u+=a[0]*c[1],u-=c[0]*a[1]}(!i&&u>0||i&&u<0)&&h.reverse()}else for(o=0,s=e.length;o<s;o++)t(e[o],n+1,o>0);return e}},function(t,e){function r(t,e){return t[0]*e[1]-t[1]*e[0]}function n(t,e){return t[0]*e[0]+t[1]*e[1]}t.exports=function(t,e,i,o,s){var u=[e[0]-t[0],e[1]-t[1]],h=[o[0]-i[0],o[1]-i[1]];function a(t,e,r){return[t[0]+e*r[0],t[1]+e*r[1]]}var c=[i[0]-t[0],i[1]-t[1]],l=r(u,h),f=l*l,p=n(u,u);if(f>1e-9*p*n(h,h)){var d=r(c,h)/l;if(d<0||d>1)return null;var v=r(c,u)/l;return v<0||v>1?null:s?null:[a(t,d,u)]}var _=n(c,c);if((f=(l=r(c,u))*l)>1e-9*p*_)return null;var g=n(u,c)/p,y=g+n(u,h)/p,x=Math.min(g,y),I=Math.max(g,y);return x<=1&&I>=0?1===x?s?null:[a(t,x>0?x:0,u)]:0===I?s?null:[a(t,I<1?I:1,u)]:s&&0===x&&1===I?null:[a(t,x>0?x:0,u),a(t,I<1?I:1,u)]:null}},function(t,e,r){var n=r(0),i=r(3),o=r(2);t.exports=function(t,e){return t===e?0:0!==n(t.point,t.otherEvent.point,e.point)||0!==n(t.point,t.otherEvent.point,e.otherEvent.point)?o(t.point,e.point)?t.isBelow(e.otherEvent.point)?-1:1:t.point[0]===e.point[0]?t.point[1]<e.point[1]?-1:1:1===i(t,e)?e.isAbove(t.point)?-1:1:t.isBelow(e.point)?-1:1:t.isSubject!==e.isSubject?t.isSubject?-1:1:o(t.point,e.point)?o(t.otherEvent.point,e.otherEvent.point)?0:t.contourId>e.contourId?1:-1:1===i(t,e)?1:-1}},function(t,e,r){var n=r(0),i=r(5);function o(t,e,r,n,o){this.left=e,this.point=t,this.otherEvent=r,this.isSubject=n,this.type=o||i.NORMAL,this.inOut=!1,this.otherInOut=!1,this.prevInResult=null,this.inResult=!1,this.resultInOut=!1}o.prototype={isBelow:function(t){return this.left?n(this.point,this.otherEvent.point,t)>0:n(this.otherEvent.point,this.point,t)>0},isAbove:function(t){return!this.isBelow(t)},isVertical:function(){return this.point[0]===this.otherEvent.point[0]}},t.exports=o},function(t,e,r){var n=r(4);function i(t){this.data=t,this.left=null,this.right=null}function o(t){this._root=null,this._comparator=t,this.size=0}i.prototype.get_child=function(t){return t?this.right:this.left},i.prototype.set_child=function(t,e){t?this.right=e:this.left=e},o.prototype=new n,o.prototype.insert=function(t){if(null===this._root)return this._root=new i(t),this.size++,!0;for(var e=0,r=null,n=this._root;;){if(null===n)return n=new i(t),r.set_child(e,n),ret=!0,this.size++,!0;if(0===this._comparator(n.data,t))return!1;e=this._comparator(n.data,t)<0,r=n,n=n.get_child(e)}},o.prototype.remove=function(t){if(null===this._root)return!1;var e=new i(void 0),r=e;r.right=this._root;for(var n=null,o=null,s=1;null!==r.get_child(s);){n=r,r=r.get_child(s);var u=this._comparator(t,r.data);s=u>0,0===u&&(o=r)}return null!==o&&(o.data=r.data,n.set_child(n.right===r,r.get_child(null===r.left)),this._root=e.right,this.size--,!0)},t.exports=o},function(t,e,r){var n=r(4);function i(t){this.data=t,this.left=null,this.right=null,this.red=!0}function o(t){this._root=null,this._comparator=t,this.size=0}function s(t){return null!==t&&t.red}function u(t,e){var r=t.get_child(!e);return t.set_child(!e,r.get_child(e)),r.set_child(e,t),t.red=!0,r.red=!1,r}function h(t,e){return t.set_child(!e,u(t.get_child(!e),!e)),u(t,e)}i.prototype.get_child=function(t){return t?this.right:this.left},i.prototype.set_child=function(t,e){t?this.right=e:this.left=e},o.prototype=new n,o.prototype.insert=function(t){var e=!1;if(null===this._root)this._root=new i(t),e=!0,this.size++;else{var r=new i(void 0),n=0,o=0,a=null,c=r,l=null,f=this._root;for(c.right=this._root;;){if(null===f?(f=new i(t),l.set_child(n,f),e=!0,this.size++):s(f.left)&&s(f.right)&&(f.red=!0,f.left.red=!1,f.right.red=!1),s(f)&&s(l)){var p=c.right===a;f===l.get_child(o)?c.set_child(p,u(a,!o)):c.set_child(p,h(a,!o))}var d=this._comparator(f.data,t);if(0===d)break;o=n,n=d<0,null!==a&&(c=a),a=l,l=f,f=f.get_child(n)}this._root=r.right}return this._root.red=!1,e},o.prototype.remove=function(t){if(null===this._root)return!1;var e=new i(void 0),r=e;r.right=this._root;for(var n=null,o=null,a=null,c=1;null!==r.get_child(c);){var l=c;o=n,n=r,r=r.get_child(c);var f=this._comparator(t,r.data);if(c=f>0,0===f&&(a=r),!s(r)&&!s(r.get_child(c)))if(s(r.get_child(!c))){var p=u(r,c);n.set_child(l,p),n=p}else if(!s(r.get_child(!c))){var d=n.get_child(!l);if(null!==d)if(s(d.get_child(!l))||s(d.get_child(l))){var v=o.right===n;s(d.get_child(l))?o.set_child(v,h(n,l)):s(d.get_child(!l))&&o.set_child(v,u(n,l));var _=o.get_child(v);_.red=!0,r.red=!0,_.left.red=!1,_.right.red=!1}else n.red=!1,d.red=!0,r.red=!0}}return null!==a&&(a.data=r.data,n.set_child(n.right===r,r.get_child(null===r.left)),this.size--),this._root=e.right,null!==this._root&&(this._root.red=!1),null!==a},t.exports=o},function(t,e,r){t.exports={RBTree:r(13),BinTree:r(12)}},function(t,e,r){"use strict";function n(t,e){if(!(this instanceof n))return new n(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||i,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)}function i(t,e){return t<e?-1:t>e?1:0}t.exports=n,t.exports.default=n,n.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,r=this.compare,n=e[t];t>0;){var i=t-1>>1,o=e[i];if(r(n,o)>=0)break;e[t]=o,t=i}e[t]=n},_down:function(t){for(var e=this.data,r=this.compare,n=this.length>>1,i=e[t];t<n;){var o=1+(t<<1),s=o+1,u=e[o];if(s<this.length&&r(e[s],u)<0&&(o=s,u=e[s]),r(u,i)>=0)break;e[t]=u,t=o}e[t]=i}}},function(t,e,r){var n=0,i=1,o=2,s=3,u=[],h=r(5),a=r(15),c=r(14).RBTree,l=r(11),f=r(3),p=r(10),d=r(9),v=r(2),_=Math.max,g=Math.min;function y(t,e,r,n,i,o){var s=new l(t,!1,void 0,r),u=new l(e,!1,s,r);s.otherEvent=u,s.contourId=u.contourId=n,f(s,u)>0?u.left=!0:s.left=!0,o[0]=g(o[0],t[0]),o[1]=g(o[1],t[1]),o[2]=_(o[2],t[0]),o[3]=_(o[3],t[1]),i.push(s),i.push(u)}var x=0;function I(t,e,r,n,i){var o,s;if("number"==typeof t[0][0])for(o=0,s=t.length-1;o<s;o++)y(t[o],t[o+1],e,r+1,n,i);else for(o=0,s=t.length;o<s;o++)x++,I(t[o],e,x,n,i)}function m(t,e,r,n){var i=new a(null,f);return x=0,I(t,!0,0,i,r),I(e,!1,0,i,n),i}function w(t,e,r,n){null===e?(t.inOut=!1,t.otherInOut=!0):t.isSubject===e.isSubject?(t.inOut=!e.inOut,t.otherInOut=e.otherInOut):(t.inOut=!e.otherInOut,t.otherInOut=e.isVertical()?!e.inOut:e.inOut),e&&(t.prevInResult=!E(e,n)||e.isVertical()?e.prevInResult:e),t.inResult=E(t,n)}function E(t,e){switch(t.type){case h.NORMAL:switch(e){case n:return!t.otherInOut;case i:return t.otherInOut;case o:return t.isSubject&&t.otherInOut||!t.isSubject&&!t.otherInOut;case s:return!0}case h.SAME_TRANSITION:return e===n||e===i;case h.DIFFERENT_TRANSITION:return e===o;case h.NON_CONTRIBUTING:return!1}return!1}function b(t,e,r){var n=d(t.point,t.otherEvent.point,e.point,e.otherEvent.point),i=n?n.length:0;if(0===i)return 0;if(1===i&&(v(t.point,e.point)||v(t.otherEvent.point,e.otherEvent.point)))return 0;if(2===i&&t.isSubject===e.isSubject)return t.contourId===e.contourId&&console.warn("Edges of the same polygon overlap",t.point,t.otherEvent.point,e.point,e.otherEvent.point),0;if(1===i)return v(t.point,n[0])||v(t.otherEvent.point,n[0])||N(t,n[0],r),v(e.point,n[0])||v(e.otherEvent.point,n[0])||N(e,n[0],r),1;var o=[],s=!1,u=!1;return v(t.point,e.point)?s=!0:1===f(t,e)?o.push(e,t):o.push(t,e),v(t.otherEvent.point,e.otherEvent.point)?u=!0:1===f(t.otherEvent,e.otherEvent)?o.push(e.otherEvent,t.otherEvent):o.push(t.otherEvent,e.otherEvent),s&&u||s?(t.type=h.NON_CONTRIBUTING,e.type=t.inOut===e.inOut?h.SAME_TRANSITION:h.DIFFERENT_TRANSITION,s&&!u&&N(o[0].otherEvent,o[1].point,r),2):u?(N(o[0],o[1].point,r),3):o[0]!==o[3].otherEvent?(N(o[0],o[1].point,r),N(o[1],o[2].point,r),3):(N(o[0],o[1].point,r),N(o[3].otherEvent,o[2].point,r),3)}function N(t,e,r){var n=new l(e,!1,t,t.isSubject),i=new l(e,!0,t.otherEvent,t.isSubject);return v(t.point,t.otherEvent.point)&&console.warn("what is that?",t),n.contourId=i.contourId=t.contourId,f(i,t.otherEvent)>0&&(t.otherEvent.left=!0,i.left=!1),t.otherEvent.otherEvent=i,t.otherEvent=n,r.push(i),r.push(n),r}function O(t,e,r,i,s,u){for(var h,a,l=[],f=new c(p),d=(l=[],g(i[2],s[2]));t.length;){var v=t.pop();if(l.push(v),u===n&&v.point[0]>d||u===o&&v.point[0]>i[2])break;if(v.left){if(f.insert(v),a=f.findIter(v),h=f.findIter(v),v.iterator=f.findIter(v),!h||!a){console.log("brute");var _=S(f);h=_[0],a=_[1]}if(h.data()!==f.min()?h.prev():((h=f.iterator()).prev(),h.next()),a.next(),w(v,h.data(),0,u),a.data()&&2===b(v,a.data(),t)&&(w(v,h.data(),0,u),w(v,a.data(),0,u)),h.data()&&2===b(h.data(),v,t)){var y=f.findIter(h.data());y.data()!==f.min()?y.prev():(y=f.findIter(f.max())).next(),w(h.data(),y.data(),0,u),w(v,h.data(),0,u)}}else{if(v=v.otherEvent,a=f.findIter(v),!(h=f.findIter(v))||!a)continue;h.data()!==f.min()?h.prev():((h=f.iterator()).prev(),h.next()),a.next(),f.remove(v),a.data()&&h.data()&&b(h.data(),a.data(),t)}}return l}function S(t,e){for(var r,n=t.iterator(),i=t.iterator(),o=t.iterator();null!==(r=o.next())&&(n.next(),i.next(),r!==event););return[n,i]}function R(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function P(t){return t.reverse()}function T(t){return"[object Array]"===Object.prototype.toString.call(t)}function A(t,e){return T(t[0])&&!T(t[0][0])&&(t=[t]),t[e]=[],t}function k(t){var e,r,n=function(t){var e,r,n,i=[];for(r=0,n=t.length;r<n;r++)((e=t[r]).left&&e.inResult||!e.left&&e.otherEvent.inResult)&&i.push(e);for(var o=!1;!o;)for(o=!0,r=0,n=i.length;r<n;r++)r+1<n&&1===f(i[r],i[r+1])&&(R(i,r,r+1),o=!1);for(r=0,n=i.length;r<n;r++)i[r].pos=r;for(r=0,n=i.length;r<n;r++)if(!i[r].left){var s=i[r].pos;i[r].pos=i[r].otherEvent.pos,i[r].otherEvent.pos=s}return i}(t),i=Array(n.length),o=[],s=[],u=[],h={};for(e=0,r=n.length;e<r;e++)if(!i[e]){var a=[];o.push(a);var c=o.length-1;if(s.push(0),u.push(-1),n[e].prevInResult){var l=n[e].prevInResult.contourId;n[e].prevInResult.resultInOut?h[l]&&(A(o[u[l]],c),u[c]=u[l],s[c]=s[l],h[c]=!0):(A(o[l],c),u[c]=l,s[c]=s[l]+1,h[c]=!0)}var p=e,d=n[e].point;for(a.push(d);p>=e;)i[p]=!0,n[p].left?(n[p].resultInOut=!1,n[p].contourId=c):(n[p].otherEvent.resultInOut=!0,n[p].otherEvent.contourId=c),i[p=n[p].pos]=!0,a.push(n[p].point),p=j(p,n,i);i[p=-1===p?e:p]=i[n[p].pos]=!0,n[p].otherEvent.resultInOut=!0,n[p].otherEvent.contourId=c,1&s[c]&&P(a)}return o}function j(t,e,r){for(var n=t+1,i=e.length;n<i&&v(e[n].point,e[t].point);){if(!r[n])return n;n+=1}for(n=t-1;r[n];)n-=1;return n}function C(t,e,r){var h=function(t,e,r){var h=null;return t.length*e.length==0&&(r===n?h=u:r===o?h=t:r!==i&&r!==s||(h=0===t.length?e:t)),h}(t,e,r);if(h)return h===u?null:h;var a=[1/0,1/0,-1/0,-1/0],c=[1/0,1/0,-1/0,-1/0],l=m(t,e,a,c);return(h=function(t,e,r,h,a){var c=null;return(r[0]>h[2]||h[0]>r[2]||r[1]>h[3]||h[1]>r[3])&&(a===n?c=u:a===o?c=t:a!==i&&a!==s||(c=t.concat(e))),c}(t,e,a,c,r))?h===u?null:h:k(O(l,0,0,a,c,r))}t.exports=C,t.exports.union=function(t,e){return C(t,e,i)},t.exports.diff=function(t,e){return C(t,e,o)},t.exports.xor=function(t,e){return C(t,e,s)},t.exports.intersection=function(t,e){return C(t,e,n)},t.exports.operations={INTERSECTION:n,DIFFERENCE:o,UNION:i,XOR:s},t.exports.fillQueue=m,t.exports.computeFields=w,t.exports.subdivideSegments=O,t.exports.divideSegment=N,t.exports.possibleIntersection=b},function(t,e,r){t.exports=r(16)},function(t,e){function r(t,e){this.current=t,this.next=e,this._inNormal=this.inwardsNormal(),this._outNormal=this.outwardsNormal()}r.prototype.outwardsNormal=function(){var t=this.inwardsNormal();return[-t[0],-t[1]]},r.prototype.inwardsNormal=function(){var t=this.next[0]-this.current[0],e=this.next[1]-this.current[1],r=Math.sqrt(t*t+e*e);if(0===r)throw new Error("Vertices overlap");return[-e/r,t/r]},r.prototype.offset=function(t,e){return r.offsetEdge(this.current,this.next,t,e)},r.prototype.inverseOffset=function(t,e){return r.offsetEdge(this.next,this.current,t,e)},r.offsetEdge=function(t,e,n,i){return new r([t[0]+n,t[1]+i],[e[0]+n,e[1]+i])},r.prototype.inverse=function(){return new r(this.next,this.current)},t.exports=r},function(t,e){var r=function(t,e,r,n){this.x=0,this.y=0,this.toSource=0,this.toClip=0;var i=(n.y-r.y)*(e.x-t.x)-(n.x-r.x)*(e.y-t.y);0!==i&&(this.toSource=((n.x-r.x)*(t.y-r.y)-(n.y-r.y)*(t.x-r.x))/i,this.toClip=((e.x-t.x)*(t.y-r.y)-(e.y-t.y)*(t.x-r.x))/i,this.valid()&&(this.x=t.x+this.toSource*(e.x-t.x),this.y=t.y+this.toSource*(e.y-t.y)))};r.prototype.valid=function(){return 0<this.toSource&&this.toSource<1&&0<this.toClip&&this.toClip<1},t.exports=r},function(t,e){var r=function(t,e){1===arguments.length&&(Array.isArray(t)?(e=t[1],t=t[0]):(e=t.y,t=t.x)),this.x=t,this.y=e,this.next=null,this.prev=null,this._corresponding=null,this._distance=0,this._isEntry=!0,this._isIntersection=!1,this._visited=!1};r.createIntersection=function(t,e,n){var i=new r(t,e);return i._distance=n,i._isIntersection=!0,i._isEntry=!1,i},r.prototype.visit=function(){this._visited=!0,null===this._corresponding||this._corresponding._visited||this._corresponding.visit()},r.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},r.prototype.isInside=function(t){var e=!1,r=t.first,n=r.next,i=this.x,o=this.y;do{(r.y<o&&n.y>=o||n.y<o&&r.y>=o)&&(r.x<=i||n.x<=i)&&(e^=r.x+(o-r.y)/(n.y-r.y)*(n.x-r.x)<i),n=(r=r.next).next||t.first}while(!r.equals(t.first));return e},t.exports=r},function(t,e,r){var n=r(20),i=r(19),o=function(t,e){this.first=null,this.vertices=0,this._lastUnprocessed=null,this._arrayVertices=void 0===e?Array.isArray(t[0]):e;for(var r=0,i=t.length;r<i;r++)this.addVertex(new n(t[r]))};o.prototype.addVertex=function(t){if(null==this.first)this.first=t,this.first.next=t,this.first.prev=t;else{var e=this.first,r=e.prev;e.prev=t,t.next=e,t.prev=r,r.next=t}this.vertices++},o.prototype.insertVertex=function(t,e,r){for(var n,i=e;!i.equals(r)&&i._distance<t._distance;)i=i.next;t.next=i,n=i.prev,t.prev=n,n.next=t,i.prev=t,this.vertices++},o.prototype.getNext=function(t){for(var e=t;e._isIntersection;)e=e.next;return e},o.prototype.getFirstIntersect=function(){var t=this._firstIntersect||this.first;do{if(t._isIntersection&&!t._visited)break;t=t.next}while(!t.equals(this.first));return this._firstIntersect=t,t},o.prototype.hasUnprocessed=function(){var t=this._lastUnprocessed||this.first;do{if(t._isIntersection&&!t._visited)return this._lastUnprocessed=t,!0;t=t.next}while(!t.equals(this.first));return this._lastUnprocessed=null,!1},o.prototype.getPoints=function(){var t=[],e=this.first;if(this._arrayVertices)do{t.push([e.x,e.y]),e=e.next}while(e!==this.first);else do{t.push({x:e.x,y:e.y}),e=e.next}while(e!==this.first);return t},o.prototype.clip=function(t,e,r){var s,u,h=this.first,a=t.first,c=!e&&!r,l=e&&r;do{if(!h._isIntersection)do{if(!a._isIntersection){var f=new i(h,this.getNext(h.next),a,t.getNext(a.next));if(f.valid()){var p=n.createIntersection(f.x,f.y,f.toSource),d=n.createIntersection(f.x,f.y,f.toClip);p._corresponding=d,d._corresponding=p,this.insertVertex(p,h,this.getNext(h.next)),t.insertVertex(d,a,t.getNext(a.next))}}a=a.next}while(!a.equals(t.first));h=h.next}while(!h.equals(this.first));h=this.first,a=t.first,e^=s=h.isInside(t),r^=u=a.isInside(this);do{h._isIntersection&&(h._isEntry=e,e=!e),h=h.next}while(!h.equals(this.first));do{a._isIntersection&&(a._isEntry=r,r=!r),a=a.next}while(!a.equals(t.first));for(var v=[];this.hasUnprocessed();){var _=this.getFirstIntersect(),g=new o([],this._arrayVertices);g.addVertex(new n(_.x,_.y));do{if(_.visit(),_._isEntry)do{_=_.next,g.addVertex(new n(_.x,_.y))}while(!_._isIntersection);else do{_=_.prev,g.addVertex(new n(_.x,_.y))}while(!_._isIntersection);_=_._corresponding}while(!_._visited);v.push(g.getPoints())}return 0===v.length&&(c?s?v.push(t.getPoints()):u?v.push(this.getPoints()):v.push(this.getPoints(),t.getPoints()):l?s?v.push(this.getPoints()):u&&v.push(t.getPoints()):s?v.push(t.getPoints(),this.getPoints()):u?v.push(this.getPoints(),t.getPoints()):v.push(this.getPoints()),0===v.length&&(v=null)),v},t.exports=o},function(t,e,r){var n=r(21);
/**
 * Greiner-Hormann polygon clipping
 * @license MIT
 * @author Milevski Alexander (c) 2014
 * @preserve
 */t.exports=function(t,e,r,i){var o=new n(t),s=new n(e);return o.clip(s,r,i)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21hcnRpbmV6LXBvbHlnb24tY2xpcHBpbmcvc3JjL3NpZ25lZF9hcmVhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncmVpbmVyLWhvcm1hbm4vc3JjL2dyZWluZXItaG9ybWFubi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbWFydGluZXotcG9seWdvbi1jbGlwcGluZy9zcmMvZXF1YWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tYXJ0aW5lei1wb2x5Z29uLWNsaXBwaW5nL3NyYy9jb21wYXJlX2V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmludHJlZXMvbGliL3RyZWViYXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tYXJ0aW5lei1wb2x5Z29uLWNsaXBwaW5nL3NyYy9lZGdlX3R5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BvbHlnb24tb2Zmc2V0L3NyYy9vZmZzZXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NrZXRjaC9tYWluLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcG9seWdvbi1vZmZzZXQvc3JjL3V0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tYXJ0aW5lei1wb2x5Z29uLWNsaXBwaW5nL3NyYy9zZWdtZW50X2ludGVyc2VjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbWFydGluZXotcG9seWdvbi1jbGlwcGluZy9zcmMvY29tcGFyZV9zZWdtZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbWFydGluZXotcG9seWdvbi1jbGlwcGluZy9zcmMvc3dlZXBfZXZlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JpbnRyZWVzL2xpYi9iaW50cmVlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iaW50cmVlcy9saWIvcmJ0cmVlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9iaW50cmVlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueXF1ZXVlL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tYXJ0aW5lei1wb2x5Z29uLWNsaXBwaW5nL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbWFydGluZXotcG9seWdvbi1jbGlwcGluZy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcG9seWdvbi1vZmZzZXQvc3JjL2VkZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2dyZWluZXItaG9ybWFubi9zcmMvaW50ZXJzZWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncmVpbmVyLWhvcm1hbm4vc3JjL3ZlcnRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ3JlaW5lci1ob3JtYW5uL3NyYy9wb2x5Z29uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ncmVpbmVyLWhvcm1hbm4vc3JjL2NsaXAuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJwMCIsInAxIiwicDIiLCJjbGlwIiwidW5pb24iLCJwb2x5Z29uQSIsInBvbHlnb25CIiwiaW50ZXJzZWN0aW9uIiwiZGlmZiIsInNpZ25lZEFyZWEiLCJlMSIsImUyIiwicG9pbnQiLCJsZWZ0Iiwib3RoZXJFdmVudCIsImlzQmVsb3ciLCJpc1N1YmplY3QiLCJzcGVjaWFsQ2FzZXMiLCJUcmVlQmFzZSIsIkl0ZXJhdG9yIiwidHJlZSIsInRoaXMiLCJfdHJlZSIsIl9hbmNlc3RvcnMiLCJfY3Vyc29yIiwiY2xlYXIiLCJfcm9vdCIsInNpemUiLCJmaW5kIiwiZGF0YSIsInJlcyIsIl9jb21wYXJhdG9yIiwiZ2V0X2NoaWxkIiwiZmluZEl0ZXIiLCJpdGVyIiwiaXRlcmF0b3IiLCJwdXNoIiwibG93ZXJCb3VuZCIsIml0ZW0iLCJjdXIiLCJjbXAiLCJsZW5ndGgiLCJ1cHBlckJvdW5kIiwibmV4dCIsIm1pbiIsIm1heCIsInJpZ2h0IiwiZWFjaCIsImNiIiwiaXQiLCJyZWFjaCIsInByZXYiLCJyb290IiwiX21pbk5vZGUiLCJzYXZlIiwicG9wIiwiX21heE5vZGUiLCJzdGFydCIsIk5PUk1BTCIsIk5PTl9DT05UUklCVVRJTkciLCJTQU1FX1RSQU5TSVRJT04iLCJESUZGRVJFTlRfVFJBTlNJVElPTiIsIkVkZ2UiLCJtYXJ0aW5leiIsInV0aWxzIiwiaXNBcnJheSIsImVxdWFscyIsIm9yaWVudFJpbmdzIiwiT2Zmc2V0IiwidmVydGljZXMiLCJhcmNTZWdtZW50cyIsImVkZ2VzIiwiX2Nsb3NlZCIsIl9kaXN0YW5jZSIsIl9hcmNTZWdtZW50cyIsInVuZGVmaW5lZCIsIl9lZGdlcyIsIkVycm9yIiwiX3Byb2Nlc3NDb250b3VyIiwiY29udG91ciIsImxlbiIsInZhbGlkYXRlIiwic2xpY2UiLCJjcmVhdGVBcmMiLCJjZW50ZXIiLCJyYWRpdXMiLCJzdGFydFZlcnRleCIsImVuZFZlcnRleCIsInNlZ21lbnRzIiwib3V0d2FyZHMiLCJQSTIiLCJNYXRoIiwiUEkiLCJzdGFydEFuZ2xlIiwiYXRhbjIiLCJlbmRBbmdsZSIsImFuZ2xlIiwic2VnbWVudEFuZ2xlIiwiY29zIiwic2luIiwiZGlzdGFuY2UiLCJkaXN0IiwidW5pdHMiLCJkZWdyZWVzVG9Vbml0cyIsImRlZ3JlZXMiLCJlbnN1cmVMYXN0UG9pbnQiLCJvZmZzZXQiLCJtYXJnaW4iLCJwYWRkaW5nIiwiX29mZnNldFNlZ21lbnQiLCJ2MSIsInYyIiwib2Zmc2V0cyIsIl9pbk5vcm1hbCIsImludmVyc2VPZmZzZXQiLCJfb3V0Tm9ybWFsIiwidGhpc0VkZ2UiLCJwcmV2RWRnZSIsImN1cnJlbnQiLCJvZmZzZXRQb2ludCIsIm9mZnNldExpbmVzIiwib2Zmc2V0TGluZSIsIm9mZnNldENvbnRvdXIiLCJjdXJ2ZSIsInNlZ21lbnQiLCJwb2ludHMiLCJwb2x5UG9pbnRzIiwic2V0dXAiLCJjcmVhdGVDYW52YXMiLCJwYXJlbnQiLCJiYWNrZ3JvdW5kIiwiZHJhdyIsIm5vRmlsbCIsInN0cm9rZVdlaWdodCIsInN0cm9rZSIsImJlZ2luU2hhcGUiLCJtYXAiLCJ2ZXJ0ZXgiLCJhcHBseSIsImVuZFNoYXBlIiwiQ0xPU0UiLCJmaWxsIiwiZ3JlaW5lcl9ob3JtYW5uX2RlZmF1bHQiLCJhIiwiY2xpcHBlZCIsInBhZGRlZCIsIm9mZnNldF9kZWZhdWx0IiwibW91c2VQcmVzc2VkIiwia2V5UmVsZWFzZWQiLCJjb25zb2xlIiwibG9nIiwidyIsImtleXMiLCJtYWluX25hbWVzcGFjZU9iamVjdCIsImZvckVhY2giLCJob29rIiwid2luZG93IiwiQXJyYXkiLCJhcnIiLCJ0b1N0cmluZyIsImNvb3JkaW5hdGVzIiwiZGVwdGgiLCJpc0hvbGUiLCJhcmVhIiwicmluZyIsInB0MSIsInB0MiIsInJldmVyc2UiLCJrcm9zc1Byb2R1Y3QiLCJiIiwiZG90UHJvZHVjdCIsImExIiwiYTIiLCJiMSIsImIyIiwibm9FbmRwb2ludFRvdWNoIiwidmEiLCJ2YiIsInRvUG9pbnQiLCJlIiwia3Jvc3MiLCJzcXJLcm9zcyIsInNxckxlbkEiLCJzcXJMZW5FIiwic2EiLCJzYiIsInNtaW4iLCJzbWF4IiwiY29tcGFyZUV2ZW50cyIsImxlMSIsImxlMiIsImlzQWJvdmUiLCJjb250b3VySWQiLCJFZGdlVHlwZSIsIlN3ZWVwRXZlbnQiLCJlZGdlVHlwZSIsInR5cGUiLCJpbk91dCIsIm90aGVySW5PdXQiLCJwcmV2SW5SZXN1bHQiLCJpblJlc3VsdCIsInJlc3VsdEluT3V0IiwiaXNWZXJ0aWNhbCIsIk5vZGUiLCJCaW5UcmVlIiwiY29tcGFyYXRvciIsImRpciIsInNldF9jaGlsZCIsInZhbCIsImluc2VydCIsIm5vZGUiLCJyZXQiLCJyZW1vdmUiLCJoZWFkIiwiZm91bmQiLCJyZWQiLCJSQlRyZWUiLCJpc19yZWQiLCJzaW5nbGVfcm90YXRlIiwiZG91YmxlX3JvdGF0ZSIsImxhc3QiLCJncCIsImdncCIsImRpcjIiLCJzciIsInNpYmxpbmciLCJncGMiLCJUaW55UXVldWUiLCJjb21wYXJlIiwiZGVmYXVsdENvbXBhcmUiLCJfZG93biIsImRlZmF1bHQiLCJfdXAiLCJ0b3AiLCJwZWVrIiwicG9zIiwiaGFsZkxlbmd0aCIsImJlc3QiLCJJTlRFUlNFQ1RJT04iLCJVTklPTiIsIkRJRkZFUkVOQ0UiLCJYT1IiLCJFTVBUWSIsIlF1ZXVlIiwiVHJlZSIsImNvbXBhcmVTZWdtZW50cyIsInByb2Nlc3NTZWdtZW50IiwiczEiLCJzMiIsImV2ZW50UXVldWUiLCJiYm94IiwicHJvY2Vzc1BvbHlnb24iLCJwb2x5Z29uIiwicXVldWUiLCJmaWxsUXVldWUiLCJzdWJqZWN0IiwiY2xpcHBpbmciLCJzYmJveCIsImNiYm94IiwiY29tcHV0ZUZpZWxkcyIsImV2ZW50Iiwic3dlZXBMaW5lIiwib3BlcmF0aW9uIiwicG9zc2libGVJbnRlcnNlY3Rpb24iLCJzZTEiLCJzZTIiLCJpbnRlciIsIm5pbnRlcnNlY3Rpb25zIiwid2FybiIsImRpdmlkZVNlZ21lbnQiLCJldmVudHMiLCJsZWZ0Q29pbmNpZGUiLCJyaWdodENvaW5jaWRlIiwic2UiLCJzdWJkaXZpZGVTZWdtZW50cyIsInNvcnRlZEV2ZW50cyIsInJpZ2h0Ym91bmQiLCJpdGVyYXRvcnMiLCJmaW5kSXRlckJydXRlIiwicHJldnByZXYiLCJxIiwic3dhcCIsInRlbXAiLCJjaGFuZ2VPcmllbnRhdGlvbiIsImFkZEhvbGUiLCJpZHgiLCJjb25uZWN0RWRnZXMiLCJyZXN1bHRFdmVudHMiLCJzb3J0ZWQiLCJvcmRlckV2ZW50cyIsInByb2Nlc3NlZCIsInJlc3VsdCIsImhvbGVPZiIsInJpbmdJZCIsImxvd2VyQ29udG91cklkIiwiaW5pdGlhbCIsIm5leHRQb3MiLCJuZXdQb3MiLCJib29sZWFuIiwidHJpdmlhbCIsInRyaXZpYWxPcGVyYXRpb24iLCJJbmZpbml0eSIsImNvbmNhdCIsImNvbXBhcmVCQm94ZXMiLCJ4b3IiLCJvcGVyYXRpb25zIiwiaW53YXJkc05vcm1hbCIsIm91dHdhcmRzTm9ybWFsIiwiaW53YXJkcyIsImR4IiwiZHkiLCJlZGdlTGVuZ3RoIiwic3FydCIsIm9mZnNldEVkZ2UiLCJpbnZlcnNlIiwiSW50ZXJzZWN0aW9uIiwiYzEiLCJjMiIsIngiLCJ5IiwidG9Tb3VyY2UiLCJ0b0NsaXAiLCJ2YWxpZCIsIlZlcnRleCIsImFyZ3VtZW50cyIsIl9jb3JyZXNwb25kaW5nIiwiX2lzRW50cnkiLCJfaXNJbnRlcnNlY3Rpb24iLCJfdmlzaXRlZCIsImNyZWF0ZUludGVyc2VjdGlvbiIsInZpc2l0IiwidiIsImlzSW5zaWRlIiwicG9seSIsIm9kZE5vZGVzIiwiZmlyc3QiLCJQb2x5Z29uIiwiYXJyYXlWZXJ0aWNlcyIsIl9sYXN0VW5wcm9jZXNzZWQiLCJfYXJyYXlWZXJ0aWNlcyIsImFkZFZlcnRleCIsImluc2VydFZlcnRleCIsImVuZCIsImN1cnIiLCJnZXROZXh0IiwiZ2V0Rmlyc3RJbnRlcnNlY3QiLCJfZmlyc3RJbnRlcnNlY3QiLCJoYXNVbnByb2Nlc3NlZCIsImdldFBvaW50cyIsInNvdXJjZUZvcndhcmRzIiwiY2xpcEZvcndhcmRzIiwic291cmNlSW5DbGlwIiwiY2xpcEluU291cmNlIiwic291cmNlVmVydGV4IiwiY2xpcFZlcnRleCIsImlzVW5pb24iLCJpc0ludGVyc2VjdGlvbiIsInNvdXJjZUludGVyc2VjdGlvbiIsImNsaXBJbnRlcnNlY3Rpb24iLCJsaXN0IiwiZUEiLCJlQiIsInNvdXJjZSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxhQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0IsRUFBQU8sR0FDQVgsT0FBQUMsZUFBQVUsRUFBQSxXQUF5Q1QsWUFBQSxFQUFBSyxVQUN6QyxFQUFBRSxHQUFBLGlCQUFBRixFQUFBLFFBQUFNLEtBQUFOLEVBQUFyQixFQUFB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QWlOLGlCQUVqQmpOLElBQUErTSxzQkFDUy9NLEVBQUFrTixVQUVUK0IsRUFBQW5VLEtBQUE0RyxFQUFBNE0sYUFtQkEsT0FoQkEsSUFBQVcsRUFBQTlULFNBQ0EwVCxFQUNBSixFQUFBUSxFQUFBblUsS0FBQWpDLEVBQUF5VixhQUNBSSxFQUFBTyxFQUFBblUsS0FBQWYsS0FBQXVVLGFBQ0FXLEVBQUFuVSxLQUFBZixLQUFBdVUsWUFBQXpWLEVBQUF5VixhQUNTUSxFQUNUTCxFQUFBUSxFQUFBblUsS0FBQWYsS0FBQXVVLGFBQ0FJLEdBQUFPLEVBQUFuVSxLQUFBakMsRUFBQXlWLGFBRUFHLEVBQUFRLEVBQUFuVSxLQUFBakMsRUFBQXlWLFlBQUF2VSxLQUFBdVUsYUFDQUksRUFBQU8sRUFBQW5VLEtBQUFmLEtBQUF1VSxZQUFBelYsRUFBQXlWLGFBQ0FXLEVBQUFuVSxLQUFBZixLQUFBdVUsYUFFQSxJQUFBVyxFQUFBOVQsU0FBQThULEVBQUEsT0FHQUEsR0FHQXhZLEVBQUFELFFBQUFrWCxtQkN2U0EsSUFBQUEsRUFBQXBYLEVBQUE7Ozs7OztHQW1CQUcsRUFBQUQsUUFBQSxTQUFBdUMsRUFBQUMsRUFBQWtXLEVBQUFDLEdBQ0EsSUFBQUMsRUFBQSxJQUFBMUIsRUFBQTNVLEdBQ0FGLEVBQUEsSUFBQTZVLEVBQUExVSxHQUdBLE9BRkFvVyxFQUFBdlcsT0FBQXFXLEVBQUFDIiwiZmlsZSI6ImJ1bmRsZS4xNGQzYWNmMjY2YzBmOTRlMWJjMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA3KTtcbiIsIi8qKlxuICogU2lnbmVkIGFyZWEgb2YgdGhlIHRyaWFuZ2xlIChwMCwgcDEsIHAyKVxuICogQHBhcmFtICB7QXJyYXkuPE51bWJlcj59IHAwXG4gKiBAcGFyYW0gIHtBcnJheS48TnVtYmVyPn0gcDFcbiAqIEBwYXJhbSAge0FycmF5LjxOdW1iZXI+fSBwMlxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNpZ25lZEFyZWEocDAsIHAxLCBwMikge1xuICByZXR1cm4gKHAwWzBdIC0gcDJbMF0pICogKHAxWzFdIC0gcDJbMV0pIC0gKHAxWzBdIC0gcDJbMF0pICogKHAwWzFdIC0gcDJbMV0pO1xufTtcbiIsInZhciBjbGlwID0gcmVxdWlyZSgnLi9jbGlwJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIC8qKlxuICAgICAqIEBhcGlcbiAgICAgKiBAcGFyYW0gIHtBcnJheS48QXJyYXkuPE51bWJlcj58QXJyYXkuPE9iamVjdD59IHBvbHlnb25BXG4gICAgICogQHBhcmFtICB7QXJyYXkuPEFycmF5LjxOdW1iZXI+fEFycmF5LjxPYmplY3Q+fSBwb2x5Z29uQlxuICAgICAqIEByZXR1cm4ge0FycmF5LjxBcnJheS48TnVtYmVyPj58QXJyYXkuPEFycmF5LjxPYmplY3Q+fE51bGx9XG4gICAgICovXG4gICAgdW5pb246IGZ1bmN0aW9uKHBvbHlnb25BLCBwb2x5Z29uQikge1xuICAgICAgICByZXR1cm4gY2xpcChwb2x5Z29uQSwgcG9seWdvbkIsIGZhbHNlLCBmYWxzZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBhcGlcbiAgICAgKiBAcGFyYW0gIHtBcnJheS48QXJyYXkuPE51bWJlcj58QXJyYXkuPE9iamVjdD59IHBvbHlnb25BXG4gICAgICogQHBhcmFtICB7QXJyYXkuPEFycmF5LjxOdW1iZXI+fEFycmF5LjxPYmplY3Q+fSBwb2x5Z29uQlxuICAgICAqIEByZXR1cm4ge0FycmF5LjxBcnJheS48TnVtYmVyPj58QXJyYXkuPEFycmF5LjxPYmplY3Q+PnxOdWxsfVxuICAgICAqL1xuICAgIGludGVyc2VjdGlvbjogZnVuY3Rpb24ocG9seWdvbkEsIHBvbHlnb25CKSB7XG4gICAgICAgIHJldHVybiBjbGlwKHBvbHlnb25BLCBwb2x5Z29uQiwgdHJ1ZSwgdHJ1ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBhcGlcbiAgICAgKiBAcGFyYW0gIHtBcnJheS48QXJyYXkuPE51bWJlcj58QXJyYXkuPE9iamVjdD59IHBvbHlnb25BXG4gICAgICogQHBhcmFtICB7QXJyYXkuPEFycmF5LjxOdW1iZXI+fEFycmF5LjxPYmplY3Q+fSBwb2x5Z29uQlxuICAgICAqIEByZXR1cm4ge0FycmF5LjxBcnJheS48TnVtYmVyPj58QXJyYXkuPEFycmF5LjxPYmplY3Q+PnxOdWxsfVxuICAgICAqL1xuICAgIGRpZmY6IGZ1bmN0aW9uKHBvbHlnb25BLCBwb2x5Z29uQikge1xuICAgICAgICByZXR1cm4gY2xpcChwb2x5Z29uQSwgcG9seWdvbkIsIGZhbHNlLCB0cnVlKTtcbiAgICB9LFxuXG4gICAgY2xpcDogY2xpcFxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZXF1YWxzKHAxLCBwMikge1xuICByZXR1cm4gcDFbMF0gPT09IHAyWzBdICYmIHAxWzFdID09PSBwMlsxXTtcbn07IiwidmFyIHNpZ25lZEFyZWEgPSByZXF1aXJlKCcuL3NpZ25lZF9hcmVhJyk7XG4vLyB2YXIgZXF1YWxzID0gcmVxdWlyZSgnLi9lcXVhbHMnKTtcblxuLyoqXG4gKiBAcGFyYW0gIHtTd2VlcEV2ZW50fSBlMVxuICogQHBhcmFtICB7U3dlZXBFdmVudH0gZTJcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzd2VlcEV2ZW50c0NvbXAoZTEsIGUyKSB7XG4gIHZhciBwMSA9IGUxLnBvaW50O1xuICB2YXIgcDIgPSBlMi5wb2ludDtcblxuICAvLyBEaWZmZXJlbnQgeC1jb29yZGluYXRlXG4gIGlmIChwMVswXSA+IHAyWzBdKSByZXR1cm4gMTtcbiAgaWYgKHAxWzBdIDwgcDJbMF0pIHJldHVybiAtMTtcblxuICAvLyBEaWZmZXJlbnQgcG9pbnRzLCBidXQgc2FtZSB4LWNvb3JkaW5hdGVcbiAgLy8gRXZlbnQgd2l0aCBsb3dlciB5LWNvb3JkaW5hdGUgaXMgcHJvY2Vzc2VkIGZpcnN0XG4gIGlmIChwMVsxXSAhPT0gcDJbMV0pIHJldHVybiBwMVsxXSA+IHAyWzFdID8gMSA6IC0xO1xuXG4gIHJldHVybiBzcGVjaWFsQ2FzZXMoZTEsIGUyLCBwMSwgcDIpO1xufTtcblxuXG5mdW5jdGlvbiBzcGVjaWFsQ2FzZXMoZTEsIGUyLCBwMSwgcDIpIHtcbiAgLy8gU2FtZSBjb29yZGluYXRlcywgYnV0IG9uZSBpcyBhIGxlZnQgZW5kcG9pbnQgYW5kIHRoZSBvdGhlciBpc1xuICAvLyBhIHJpZ2h0IGVuZHBvaW50LiBUaGUgcmlnaHQgZW5kcG9pbnQgaXMgcHJvY2Vzc2VkIGZpcnN0XG4gIGlmIChlMS5sZWZ0ICE9PSBlMi5sZWZ0KVxuICAgIHJldHVybiBlMS5sZWZ0ID8gMSA6IC0xO1xuXG4gIC8vIFNhbWUgY29vcmRpbmF0ZXMsIGJvdGggZXZlbnRzXG4gIC8vIGFyZSBsZWZ0IGVuZHBvaW50cyBvciByaWdodCBlbmRwb2ludHMuXG4gIC8vIG5vdCBjb2xsaW5lYXJcbiAgaWYgKHNpZ25lZEFyZWEgKHAxLCBlMS5vdGhlckV2ZW50LnBvaW50LCBlMi5vdGhlckV2ZW50LnBvaW50KSAhPT0gMCkge1xuICAgIC8vIHRoZSBldmVudCBhc3NvY2lhdGUgdG8gdGhlIGJvdHRvbSBzZWdtZW50IGlzIHByb2Nlc3NlZCBmaXJzdFxuICAgIHJldHVybiAoIWUxLmlzQmVsb3coZTIub3RoZXJFdmVudC5wb2ludCkpID8gMSA6IC0xO1xuICB9XG5cbiAgLy8gdW5jb21tZW50IHRoaXMgaWYgeW91IHdhbnQgdG8gcGxheSB3aXRoIG11bHRpcG9seWdvbnNcbiAgLy8gaWYgKGUxLmlzU3ViamVjdCA9PT0gZTIuaXNTdWJqZWN0KSB7XG4gIC8vICAgaWYoZXF1YWxzKGUxLnBvaW50LCBlMi5wb2ludCkgJiYgZTEuY29udG91cklkID09PSBlMi5jb250b3VySWQpIHtcbiAgLy8gICAgIHJldHVybiAwO1xuICAvLyAgIH0gZWxzZSB7XG4gIC8vICAgICByZXR1cm4gZTEuY29udG91cklkID4gZTIuY29udG91cklkID8gMSA6IC0xO1xuICAvLyAgIH1cbiAgLy8gfVxuXG4gIHJldHVybiAoIWUxLmlzU3ViamVjdCAmJiBlMi5pc1N1YmplY3QpID8gMSA6IC0xO1xufVxuIiwiXG5mdW5jdGlvbiBUcmVlQmFzZSgpIHt9XG5cbi8vIHJlbW92ZXMgYWxsIG5vZGVzIGZyb20gdGhlIHRyZWVcblRyZWVCYXNlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX3Jvb3QgPSBudWxsO1xuICAgIHRoaXMuc2l6ZSA9IDA7XG59O1xuXG4vLyByZXR1cm5zIG5vZGUgZGF0YSBpZiBmb3VuZCwgbnVsbCBvdGhlcndpc2VcblRyZWVCYXNlLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIHZhciByZXMgPSB0aGlzLl9yb290O1xuXG4gICAgd2hpbGUocmVzICE9PSBudWxsKSB7XG4gICAgICAgIHZhciBjID0gdGhpcy5fY29tcGFyYXRvcihkYXRhLCByZXMuZGF0YSk7XG4gICAgICAgIGlmKGMgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlcyA9IHJlcy5nZXRfY2hpbGQoYyA+IDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG59O1xuXG4vLyByZXR1cm5zIGl0ZXJhdG9yIHRvIG5vZGUgaWYgZm91bmQsIG51bGwgb3RoZXJ3aXNlXG5UcmVlQmFzZS5wcm90b3R5cGUuZmluZEl0ZXIgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgdmFyIHJlcyA9IHRoaXMuX3Jvb3Q7XG4gICAgdmFyIGl0ZXIgPSB0aGlzLml0ZXJhdG9yKCk7XG5cbiAgICB3aGlsZShyZXMgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIGMgPSB0aGlzLl9jb21wYXJhdG9yKGRhdGEsIHJlcy5kYXRhKTtcbiAgICAgICAgaWYoYyA9PT0gMCkge1xuICAgICAgICAgICAgaXRlci5fY3Vyc29yID0gcmVzO1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpdGVyLl9hbmNlc3RvcnMucHVzaChyZXMpO1xuICAgICAgICAgICAgcmVzID0gcmVzLmdldF9jaGlsZChjID4gMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn07XG5cbi8vIFJldHVybnMgYW4gaXRlcmF0b3IgdG8gdGhlIHRyZWUgbm9kZSBhdCBvciBpbW1lZGlhdGVseSBhZnRlciB0aGUgaXRlbVxuVHJlZUJhc2UucHJvdG90eXBlLmxvd2VyQm91bmQgPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgdmFyIGN1ciA9IHRoaXMuX3Jvb3Q7XG4gICAgdmFyIGl0ZXIgPSB0aGlzLml0ZXJhdG9yKCk7XG4gICAgdmFyIGNtcCA9IHRoaXMuX2NvbXBhcmF0b3I7XG5cbiAgICB3aGlsZShjdXIgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIGMgPSBjbXAoaXRlbSwgY3VyLmRhdGEpO1xuICAgICAgICBpZihjID09PSAwKSB7XG4gICAgICAgICAgICBpdGVyLl9jdXJzb3IgPSBjdXI7XG4gICAgICAgICAgICByZXR1cm4gaXRlcjtcbiAgICAgICAgfVxuICAgICAgICBpdGVyLl9hbmNlc3RvcnMucHVzaChjdXIpO1xuICAgICAgICBjdXIgPSBjdXIuZ2V0X2NoaWxkKGMgPiAwKTtcbiAgICB9XG5cbiAgICBmb3IodmFyIGk9aXRlci5fYW5jZXN0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIGN1ciA9IGl0ZXIuX2FuY2VzdG9yc1tpXTtcbiAgICAgICAgaWYoY21wKGl0ZW0sIGN1ci5kYXRhKSA8IDApIHtcbiAgICAgICAgICAgIGl0ZXIuX2N1cnNvciA9IGN1cjtcbiAgICAgICAgICAgIGl0ZXIuX2FuY2VzdG9ycy5sZW5ndGggPSBpO1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpdGVyLl9hbmNlc3RvcnMubGVuZ3RoID0gMDtcbiAgICByZXR1cm4gaXRlcjtcbn07XG5cbi8vIFJldHVybnMgYW4gaXRlcmF0b3IgdG8gdGhlIHRyZWUgbm9kZSBpbW1lZGlhdGVseSBhZnRlciB0aGUgaXRlbVxuVHJlZUJhc2UucHJvdG90eXBlLnVwcGVyQm91bmQgPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgdmFyIGl0ZXIgPSB0aGlzLmxvd2VyQm91bmQoaXRlbSk7XG4gICAgdmFyIGNtcCA9IHRoaXMuX2NvbXBhcmF0b3I7XG5cbiAgICB3aGlsZShpdGVyLmRhdGEoKSAhPT0gbnVsbCAmJiBjbXAoaXRlci5kYXRhKCksIGl0ZW0pID09PSAwKSB7XG4gICAgICAgIGl0ZXIubmV4dCgpO1xuICAgIH1cblxuICAgIHJldHVybiBpdGVyO1xufTtcblxuLy8gcmV0dXJucyBudWxsIGlmIHRyZWUgaXMgZW1wdHlcblRyZWVCYXNlLnByb3RvdHlwZS5taW4gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmVzID0gdGhpcy5fcm9vdDtcbiAgICBpZihyZXMgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgd2hpbGUocmVzLmxlZnQgIT09IG51bGwpIHtcbiAgICAgICAgcmVzID0gcmVzLmxlZnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcy5kYXRhO1xufTtcblxuLy8gcmV0dXJucyBudWxsIGlmIHRyZWUgaXMgZW1wdHlcblRyZWVCYXNlLnByb3RvdHlwZS5tYXggPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmVzID0gdGhpcy5fcm9vdDtcbiAgICBpZihyZXMgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgd2hpbGUocmVzLnJpZ2h0ICE9PSBudWxsKSB7XG4gICAgICAgIHJlcyA9IHJlcy5yaWdodDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzLmRhdGE7XG59O1xuXG4vLyByZXR1cm5zIGEgbnVsbCBpdGVyYXRvclxuLy8gY2FsbCBuZXh0KCkgb3IgcHJldigpIHRvIHBvaW50IHRvIGFuIGVsZW1lbnRcblRyZWVCYXNlLnByb3RvdHlwZS5pdGVyYXRvciA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IodGhpcyk7XG59O1xuXG4vLyBjYWxscyBjYiBvbiBlYWNoIG5vZGUncyBkYXRhLCBpbiBvcmRlclxuVHJlZUJhc2UucHJvdG90eXBlLmVhY2ggPSBmdW5jdGlvbihjYikge1xuICAgIHZhciBpdD10aGlzLml0ZXJhdG9yKCksIGRhdGE7XG4gICAgd2hpbGUoKGRhdGEgPSBpdC5uZXh0KCkpICE9PSBudWxsKSB7XG4gICAgICAgIGlmKGNiKGRhdGEpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLy8gY2FsbHMgY2Igb24gZWFjaCBub2RlJ3MgZGF0YSwgaW4gcmV2ZXJzZSBvcmRlclxuVHJlZUJhc2UucHJvdG90eXBlLnJlYWNoID0gZnVuY3Rpb24oY2IpIHtcbiAgICB2YXIgaXQ9dGhpcy5pdGVyYXRvcigpLCBkYXRhO1xuICAgIHdoaWxlKChkYXRhID0gaXQucHJldigpKSAhPT0gbnVsbCkge1xuICAgICAgICBpZihjYihkYXRhKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cblxuZnVuY3Rpb24gSXRlcmF0b3IodHJlZSkge1xuICAgIHRoaXMuX3RyZWUgPSB0cmVlO1xuICAgIHRoaXMuX2FuY2VzdG9ycyA9IFtdO1xuICAgIHRoaXMuX2N1cnNvciA9IG51bGw7XG59XG5cbkl0ZXJhdG9yLnByb3RvdHlwZS5kYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnNvciAhPT0gbnVsbCA/IHRoaXMuX2N1cnNvci5kYXRhIDogbnVsbDtcbn07XG5cbi8vIGlmIG51bGwtaXRlcmF0b3IsIHJldHVybnMgZmlyc3Qgbm9kZVxuLy8gb3RoZXJ3aXNlLCByZXR1cm5zIG5leHQgbm9kZVxuSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICBpZih0aGlzLl9jdXJzb3IgPT09IG51bGwpIHtcbiAgICAgICAgdmFyIHJvb3QgPSB0aGlzLl90cmVlLl9yb290O1xuICAgICAgICBpZihyb290ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9taW5Ob2RlKHJvb3QpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZih0aGlzLl9jdXJzb3IucmlnaHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIG5vIGdyZWF0ZXIgbm9kZSBpbiBzdWJ0cmVlLCBnbyB1cCB0byBwYXJlbnRcbiAgICAgICAgICAgIC8vIGlmIGNvbWluZyBmcm9tIGEgcmlnaHQgY2hpbGQsIGNvbnRpbnVlIHVwIHRoZSBzdGFja1xuICAgICAgICAgICAgdmFyIHNhdmU7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgc2F2ZSA9IHRoaXMuX2N1cnNvcjtcbiAgICAgICAgICAgICAgICBpZih0aGlzLl9hbmNlc3RvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnNvciA9IHRoaXMuX2FuY2VzdG9ycy5wb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnNvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUodGhpcy5fY3Vyc29yLnJpZ2h0ID09PSBzYXZlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGdldCB0aGUgbmV4dCBub2RlIGZyb20gdGhlIHN1YnRyZWVcbiAgICAgICAgICAgIHRoaXMuX2FuY2VzdG9ycy5wdXNoKHRoaXMuX2N1cnNvcik7XG4gICAgICAgICAgICB0aGlzLl9taW5Ob2RlKHRoaXMuX2N1cnNvci5yaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2N1cnNvciAhPT0gbnVsbCA/IHRoaXMuX2N1cnNvci5kYXRhIDogbnVsbDtcbn07XG5cbi8vIGlmIG51bGwtaXRlcmF0b3IsIHJldHVybnMgbGFzdCBub2RlXG4vLyBvdGhlcndpc2UsIHJldHVybnMgcHJldmlvdXMgbm9kZVxuSXRlcmF0b3IucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbigpIHtcbiAgICBpZih0aGlzLl9jdXJzb3IgPT09IG51bGwpIHtcbiAgICAgICAgdmFyIHJvb3QgPSB0aGlzLl90cmVlLl9yb290O1xuICAgICAgICBpZihyb290ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXhOb2RlKHJvb3QpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZih0aGlzLl9jdXJzb3IubGVmdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHNhdmU7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgc2F2ZSA9IHRoaXMuX2N1cnNvcjtcbiAgICAgICAgICAgICAgICBpZih0aGlzLl9hbmNlc3RvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnNvciA9IHRoaXMuX2FuY2VzdG9ycy5wb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnNvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUodGhpcy5fY3Vyc29yLmxlZnQgPT09IHNhdmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYW5jZXN0b3JzLnB1c2godGhpcy5fY3Vyc29yKTtcbiAgICAgICAgICAgIHRoaXMuX21heE5vZGUodGhpcy5fY3Vyc29yLmxlZnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jdXJzb3IgIT09IG51bGwgPyB0aGlzLl9jdXJzb3IuZGF0YSA6IG51bGw7XG59O1xuXG5JdGVyYXRvci5wcm90b3R5cGUuX21pbk5vZGUgPSBmdW5jdGlvbihzdGFydCkge1xuICAgIHdoaWxlKHN0YXJ0LmxlZnQgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5fYW5jZXN0b3JzLnB1c2goc3RhcnQpO1xuICAgICAgICBzdGFydCA9IHN0YXJ0LmxlZnQ7XG4gICAgfVxuICAgIHRoaXMuX2N1cnNvciA9IHN0YXJ0O1xufTtcblxuSXRlcmF0b3IucHJvdG90eXBlLl9tYXhOb2RlID0gZnVuY3Rpb24oc3RhcnQpIHtcbiAgICB3aGlsZShzdGFydC5yaWdodCAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9hbmNlc3RvcnMucHVzaChzdGFydCk7XG4gICAgICAgIHN0YXJ0ID0gc3RhcnQucmlnaHQ7XG4gICAgfVxuICAgIHRoaXMuX2N1cnNvciA9IHN0YXJ0O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBUcmVlQmFzZTtcblxuIiwibW9kdWxlLmV4cG9ydHMgPSB7IFxuICBOT1JNQUw6ICAgICAgICAgICAgICAgMCwgXG4gIE5PTl9DT05UUklCVVRJTkc6ICAgICAxLCBcbiAgU0FNRV9UUkFOU0lUSU9OOiAgICAgIDIsIFxuICBESUZGRVJFTlRfVFJBTlNJVElPTjogM1xufTtcbiIsInZhciBFZGdlICAgICA9IHJlcXVpcmUoJy4vZWRnZScpO1xudmFyIG1hcnRpbmV6ID0gcmVxdWlyZSgnbWFydGluZXotcG9seWdvbi1jbGlwcGluZycpO1xudmFyIHV0aWxzICAgID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG5cbnZhciBpc0FycmF5ICAgICA9IHV0aWxzLmlzQXJyYXk7XG52YXIgZXF1YWxzICAgICAgPSB1dGlscy5lcXVhbHM7XG52YXIgb3JpZW50UmluZ3MgPSB1dGlscy5vcmllbnRSaW5ncztcblxuXG4vKipcbiAqIE9mZnNldCBidWlsZGVyXG4gKlxuICogQHBhcmFtIHtBcnJheS48T2JqZWN0Pj19IHZlcnRpY2VzXG4gKiBAcGFyYW0ge051bWJlcj19ICAgICAgICBhcmNTZWdtZW50c1xuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE9mZnNldCh2ZXJ0aWNlcywgYXJjU2VnbWVudHMpIHtcblxuICAvKipcbiAgICogQHR5cGUge0FycmF5LjxPYmplY3Q+fVxuICAgKi9cbiAgdGhpcy52ZXJ0aWNlcyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtBcnJheS48RWRnZT59XG4gICAqL1xuICB0aGlzLmVkZ2VzID0gbnVsbDtcblxuICAvKipcbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqL1xuICB0aGlzLl9jbG9zZWQgPSBmYWxzZTtcblxuXG4gIC8qKlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKi9cbiAgdGhpcy5fZGlzdGFuY2UgPSAwO1xuXG4gIGlmICh2ZXJ0aWNlcykge1xuICAgIHRoaXMuZGF0YSh2ZXJ0aWNlcyk7XG4gIH1cblxuICAvKipcbiAgICogU2VnbWVudHMgaW4gZWRnZSBib3VuZGluZyBhcmNoZXNcbiAgICogQHR5cGUge051bWJlcn1cbiAgICovXG4gIHRoaXMuX2FyY1NlZ21lbnRzID0gYXJjU2VnbWVudHMgIT09IHVuZGVmaW5lZCA/IGFyY1NlZ21lbnRzIDogNTtcbn1cblxuLyoqXG4gKiBDaGFuZ2UgZGF0YSBzZXRcbiAqIEBwYXJhbSAge0FycmF5LjxBcnJheT59IHZlcnRpY2VzXG4gKiBAcmV0dXJuIHtPZmZzZXR9XG4gKi9cbk9mZnNldC5wcm90b3R5cGUuZGF0YSA9IGZ1bmN0aW9uKHZlcnRpY2VzKSB7XG4gIHRoaXMuX2VkZ2VzID0gW107XG4gIGlmICghaXNBcnJheSAodmVydGljZXMpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdPZmZzZXQgcmVxdWlyZXMgYXQgbGVhc3Qgb25lIGNvb2RpbmF0ZSB0byB3b3JrIHdpdGgnKTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KHZlcnRpY2VzKSAmJiB0eXBlb2YgdmVydGljZXNbMF0gPT09ICdudW1iZXInKSB7XG4gICAgdGhpcy52ZXJ0aWNlcyA9IHZlcnRpY2VzO1xuICB9IGVsc2Uge1xuICAgIHRoaXMudmVydGljZXMgPSBvcmllbnRSaW5ncyh2ZXJ0aWNlcyk7XG4gICAgdGhpcy5fcHJvY2Vzc0NvbnRvdXIodGhpcy52ZXJ0aWNlcywgdGhpcy5fZWRnZXMpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5cbi8qKlxuICogUmVjdXJzaXZlbHkgcHJvY2VzcyBjb250b3VyIHRvIGNyZWF0ZSBub3JtYWxzXG4gKiBAcGFyYW0gIHsqfSBjb250b3VyXG4gKiBAcGFyYW0gIHtBcnJheX0gZWRnZXNcbiAqL1xuT2Zmc2V0LnByb3RvdHlwZS5fcHJvY2Vzc0NvbnRvdXIgPSBmdW5jdGlvbihjb250b3VyLCBlZGdlcykge1xuICB2YXIgaSwgbGVuO1xuICBpZiAoaXNBcnJheShjb250b3VyWzBdKSAmJiB0eXBlb2YgY29udG91clswXVswXSA9PT0gJ251bWJlcicpIHtcbiAgICBsZW4gPSBjb250b3VyLmxlbmd0aDtcbiAgICBpZiAoZXF1YWxzKGNvbnRvdXJbMF0sIGNvbnRvdXJbbGVuIC0gMV0pKSB7XG4gICAgICBsZW4gLT0gMTsgLy8gb3RoZXJ3aXNlIHdlIGdldCBkaXZpc2lvbiBieSB6ZXJvIGluIG5vcm1hbHNcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBlZGdlcy5wdXNoKG5ldyBFZGdlKGNvbnRvdXJbaV0sIGNvbnRvdXJbKGkgKyAxKSAlIGxlbl0pKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yIChpID0gMCwgbGVuID0gY29udG91ci5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgZWRnZXMucHVzaChbXSk7XG4gICAgICB0aGlzLl9wcm9jZXNzQ29udG91cihjb250b3VyW2ldLCBlZGdlc1tlZGdlcy5sZW5ndGggLSAxXSk7XG4gICAgfVxuICB9XG59O1xuXG5cbi8qKlxuICogQHBhcmFtICB7TnVtYmVyfSBhcmNTZWdtZW50c1xuICogQHJldHVybiB7T2Zmc2V0fVxuICovXG5PZmZzZXQucHJvdG90eXBlLmFyY1NlZ21lbnRzID0gZnVuY3Rpb24oYXJjU2VnbWVudHMpIHtcbiAgdGhpcy5fYXJjU2VnbWVudHMgPSBhcmNTZWdtZW50cztcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5cbi8qKlxuICogVmFsaWRhdGVzIGlmIHRoZSBmaXJzdCBhbmQgbGFzdCBwb2ludHMgcmVwZWF0XG4gKiBUT0RPOiBjaGVjayBDQ1dcbiAqXG4gKiBAcGFyYW0gIHtBcnJheS48T2JqZWN0Pn0gdmVydGljZXNcbiAqL1xuT2Zmc2V0LnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uKHZlcnRpY2VzKSB7XG4gIHZhciBsZW4gPSB2ZXJ0aWNlcy5sZW5ndGg7XG4gIGlmICh0eXBlb2YgdmVydGljZXNbMF0gPT09ICdudW1iZXInKSByZXR1cm4gW3ZlcnRpY2VzXTtcbiAgaWYgKHZlcnRpY2VzWzBdWzBdID09PSB2ZXJ0aWNlc1tsZW4gLSAxXVswXSAmJlxuICAgIHZlcnRpY2VzWzBdWzFdID09PSB2ZXJ0aWNlc1tsZW4gLSAxXVsxXSkge1xuICAgIGlmIChsZW4gPiAxKSB7XG4gICAgICB2ZXJ0aWNlcyA9IHZlcnRpY2VzLnNsaWNlKDAsIGxlbiAtIDEpO1xuICAgICAgdGhpcy5fY2xvc2VkID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZlcnRpY2VzO1xufTtcblxuXG4vKipcbiAqIENyZWF0ZXMgYXJjaCBiZXR3ZWVuIHR3byBlZGdlc1xuICpcbiAqIEBwYXJhbSAge0FycmF5LjxPYmplY3Q+fSB2ZXJ0aWNlc1xuICogQHBhcmFtICB7T2JqZWN0fSAgICAgICAgIGNlbnRlclxuICogQHBhcmFtICB7TnVtYmVyfSAgICAgICAgIHJhZGl1c1xuICogQHBhcmFtICB7T2JqZWN0fSAgICAgICAgIHN0YXJ0VmVydGV4XG4gKiBAcGFyYW0gIHtPYmplY3R9ICAgICAgICAgZW5kVmVydGV4XG4gKiBAcGFyYW0gIHtOdW1iZXJ9ICAgICAgICAgc2VnbWVudHNcbiAqIEBwYXJhbSAge0Jvb2xlYW59ICAgICAgICBvdXR3YXJkc1xuICovXG5PZmZzZXQucHJvdG90eXBlLmNyZWF0ZUFyYyA9IGZ1bmN0aW9uKHZlcnRpY2VzLCBjZW50ZXIsIHJhZGl1cywgc3RhcnRWZXJ0ZXgsXG4gICAgZW5kVmVydGV4LCBzZWdtZW50cywgb3V0d2FyZHMpIHtcblxuICB2YXIgUEkyID0gTWF0aC5QSSAqIDIsXG4gICAgICBzdGFydEFuZ2xlID0gTWF0aC5hdGFuMihzdGFydFZlcnRleFsxXSAtIGNlbnRlclsxXSwgc3RhcnRWZXJ0ZXhbMF0gLSBjZW50ZXJbMF0pLFxuICAgICAgZW5kQW5nbGUgICA9IE1hdGguYXRhbjIoZW5kVmVydGV4WzFdIC0gY2VudGVyWzFdLCBlbmRWZXJ0ZXhbMF0gLSBjZW50ZXJbMF0pO1xuXG4gIC8vIG9kZCBudW1iZXIgcGxlYXNlXG4gIGlmIChzZWdtZW50cyAlIDIgPT09IDApIHtcbiAgICBzZWdtZW50cyAtPSAxO1xuICB9XG5cbiAgaWYgKHN0YXJ0QW5nbGUgPCAwKSB7XG4gICAgc3RhcnRBbmdsZSArPSBQSTI7XG4gIH1cblxuICBpZiAoZW5kQW5nbGUgPCAwKSB7XG4gICAgZW5kQW5nbGUgKz0gUEkyO1xuICB9XG5cbiAgdmFyIGFuZ2xlID0gKChzdGFydEFuZ2xlID4gZW5kQW5nbGUpID9cbiAgICAgICAgICAgICAgIChzdGFydEFuZ2xlIC0gZW5kQW5nbGUpIDpcbiAgICAgICAgICAgICAgIChzdGFydEFuZ2xlICsgUEkyIC0gZW5kQW5nbGUpKSxcbiAgICAgIHNlZ21lbnRBbmdsZSA9ICgob3V0d2FyZHMpID8gLWFuZ2xlIDogUEkyIC0gYW5nbGUpIC8gc2VnbWVudHM7XG5cbiAgdmVydGljZXMucHVzaChzdGFydFZlcnRleCk7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgc2VnbWVudHM7ICsraSkge1xuICAgIGFuZ2xlID0gc3RhcnRBbmdsZSArIHNlZ21lbnRBbmdsZSAqIGk7XG4gICAgdmVydGljZXMucHVzaChbXG4gICAgICBjZW50ZXJbMF0gKyBNYXRoLmNvcyhhbmdsZSkgKiByYWRpdXMsXG4gICAgICBjZW50ZXJbMV0gKyBNYXRoLnNpbihhbmdsZSkgKiByYWRpdXNcbiAgICBdKTtcbiAgfVxuICB2ZXJ0aWNlcy5wdXNoKGVuZFZlcnRleCk7XG4gIHJldHVybiB2ZXJ0aWNlcztcbn07XG5cblxuLyoqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9ICBkaXN0XG4gKiBAcGFyYW0gIHtTdHJpbmc9fSB1bml0c1xuICogQHJldHVybiB7T2Zmc2V0fVxuICovXG5PZmZzZXQucHJvdG90eXBlLmRpc3RhbmNlID0gZnVuY3Rpb24oZGlzdCwgdW5pdHMpIHtcbiAgdGhpcy5fZGlzdGFuY2UgPSBkaXN0IHx8IDA7XG4gIHJldHVybiB0aGlzO1xufTtcblxuXG4vKipcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSAge051bWJlcn0gIGRlZ3JlZXNcbiAqIEBwYXJhbSAge1N0cmluZz19IHVuaXRzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbk9mZnNldC5kZWdyZWVzVG9Vbml0cyA9IGZ1bmN0aW9uKGRlZ3JlZXMsIHVuaXRzKSB7XG4gIHN3aXRjaCAodW5pdHMpIHtcbiAgICBjYXNlICdtaWxlcyc6XG4gICAgICBkZWdyZWVzID0gZGVncmVlcyAvIDY5LjA0NztcbiAgICBicmVhaztcbiAgICBjYXNlICdmZWV0JzpcbiAgICAgIGRlZ3JlZXMgPSBkZWdyZWVzIC8gMzY0NTY4LjA7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdraWxvbWV0ZXJzJzpcbiAgICAgIGRlZ3JlZXMgPSBkZWdyZWVzIC8gMTExLjEyO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbWV0ZXJzJzpcbiAgICBjYXNlICdtZXRyZXMnOlxuICAgICAgZGVncmVlcyA9IGRlZ3JlZXMgLyAxMTExMjAuMDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2RlZ3JlZXMnOlxuICAgIGNhc2UgJ3BpeGVscyc6XG4gICAgZGVmYXVsdDpcbiAgICAgIGJyZWFrO1xuICB9XG4gIHJldHVybiBkZWdyZWVzO1xufTtcblxuXG4vKipcbiAqIEBwYXJhbSAge0FycmF5LjxPYmplY3Q+fSB2ZXJ0aWNlc1xuICogQHJldHVybiB7QXJyYXkuPE9iamVjdD59XG4gKi9cbk9mZnNldC5wcm90b3R5cGUuZW5zdXJlTGFzdFBvaW50ID0gZnVuY3Rpb24odmVydGljZXMpIHtcbiAgaWYgKCFlcXVhbHModmVydGljZXNbMF0sIHZlcnRpY2VzW3ZlcnRpY2VzLmxlbmd0aCAtIDFdKSkge1xuICAgIHZlcnRpY2VzLnB1c2goW1xuICAgICAgdmVydGljZXNbMF1bMF0sXG4gICAgICB2ZXJ0aWNlc1swXVsxXVxuICAgIF0pO1xuICB9XG4gIHJldHVybiB2ZXJ0aWNlcztcbn07XG5cblxuLyoqXG4gKiBEZWNpZGVzIGJ5IHRoZSBzaWduIGlmIGl0J3MgYSBwYWRkaW5nIG9yIGEgbWFyZ2luXG4gKlxuICogQHBhcmFtICB7TnVtYmVyfSBkaXN0XG4gKiBAcmV0dXJuIHtBcnJheS48T2JqZWN0Pn1cbiAqL1xuT2Zmc2V0LnByb3RvdHlwZS5vZmZzZXQgPSBmdW5jdGlvbihkaXN0KSB7XG4gIHRoaXMuZGlzdGFuY2UoZGlzdCk7XG4gIHJldHVybiB0aGlzLl9kaXN0YW5jZSA9PT0gMCA/IHRoaXMudmVydGljZXMgOlxuICAgICAgKHRoaXMuX2Rpc3RhbmNlID4gMCA/IHRoaXMubWFyZ2luKHRoaXMuX2Rpc3RhbmNlKSA6XG4gICAgICAgIHRoaXMucGFkZGluZygtdGhpcy5fZGlzdGFuY2UpKTtcbn07XG5cblxuLyoqXG4gKiBAcGFyYW0gIHtBcnJheS48QXJyYXkuPE51bWJlcj4+fSB2ZXJ0aWNlc1xuICogQHBhcmFtICB7QXJyYXkuPE51bWJlcj59ICAgICAgICAgcHQxXG4gKiBAcGFyYW0gIHtBcnJheS48TnVtYmVyPn0gICAgICAgICBwdDJcbiAqIEBwYXJhbSAge051bWJlcn0gICAgICAgICAgICAgICAgIGRpc3RcbiAqIEByZXR1cm4ge0FycmF5LjxBcnJheS48TnVtYmVyPj59XG4gKi9cbk9mZnNldC5wcm90b3R5cGUuX29mZnNldFNlZ21lbnQgPSBmdW5jdGlvbih2MSwgdjIsIGUxLCBkaXN0KSB7XG4gIHZhciB2ZXJ0aWNlcyA9IFtdO1xuICB2YXIgb2Zmc2V0cyA9IFtcbiAgICBlMS5vZmZzZXQoZTEuX2luTm9ybWFsWzBdICogZGlzdCwgZTEuX2luTm9ybWFsWzFdICogZGlzdCksXG4gICAgZTEuaW52ZXJzZU9mZnNldChlMS5fb3V0Tm9ybWFsWzBdICogZGlzdCwgZTEuX291dE5vcm1hbFsxXSAqIGRpc3QpXG4gIF07XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IDI7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciB0aGlzRWRnZSA9IG9mZnNldHNbaV0sXG4gICAgICAgIHByZXZFZGdlID0gb2Zmc2V0c1soaSArIGxlbiAtIDEpICUgbGVuXTtcbiAgICB0aGlzLmNyZWF0ZUFyYyhcbiAgICAgICAgICAgICAgdmVydGljZXMsXG4gICAgICAgICAgICAgIGkgPT09IDAgPyB2MSA6IHYyLCAvLyBlZGdlc1tpXS5jdXJyZW50LCAvLyBwMSBvciBwMlxuICAgICAgICAgICAgICBkaXN0LFxuICAgICAgICAgICAgICBwcmV2RWRnZS5uZXh0LFxuICAgICAgICAgICAgICB0aGlzRWRnZS5jdXJyZW50LFxuICAgICAgICAgICAgICB0aGlzLl9hcmNTZWdtZW50cyxcbiAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgKTtcbiAgfVxuXG4gIHJldHVybiB2ZXJ0aWNlcztcbn07XG5cblxuLyoqXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGRpc3RcbiAqIEByZXR1cm4ge0FycmF5LjxOdW1iZXI+fVxuICovXG5PZmZzZXQucHJvdG90eXBlLm1hcmdpbiA9IGZ1bmN0aW9uKGRpc3QpIHtcbiAgdGhpcy5kaXN0YW5jZShkaXN0KTtcblxuICBpZiAodHlwZW9mIHRoaXMudmVydGljZXNbMF0gPT09ICdudW1iZXInKSB7IC8vIHBvaW50XG4gICAgcmV0dXJuIHRoaXMub2Zmc2V0UG9pbnQodGhpcy5fZGlzdGFuY2UpO1xuICB9XG5cbiAgaWYgKGRpc3QgPT09IDApIHJldHVybiB0aGlzLnZlcnRpY2VzO1xuXG4gIHZhciB1bmlvbiA9IHRoaXMub2Zmc2V0TGluZXModGhpcy5fZGlzdGFuY2UpO1xuICAvL3JldHVybiB1bmlvbjtcbiAgdW5pb24gPSBtYXJ0aW5lei51bmlvbih0aGlzLnZlcnRpY2VzLCB1bmlvbik7XG4gIHJldHVybiBvcmllbnRSaW5ncyh1bmlvbik7XG59O1xuXG5cbi8qKlxuICogQHBhcmFtICB7TnVtYmVyfSBkaXN0XG4gKiBAcmV0dXJuIHtBcnJheS48TnVtYmVyPn1cbiAqL1xuT2Zmc2V0LnByb3RvdHlwZS5wYWRkaW5nID0gZnVuY3Rpb24oZGlzdCkge1xuICB0aGlzLmRpc3RhbmNlKGRpc3QpO1xuXG4gIGlmICh0aGlzLl9kaXN0YW5jZSA9PT0gMCkgcmV0dXJuIHRoaXMuZW5zdXJlTGFzdFBvaW50KHRoaXMudmVydGljZXMpO1xuICBpZiAodGhpcy52ZXJ0aWNlcy5sZW5ndGggPT09IDIgJiYgdHlwZW9mIHRoaXMudmVydGljZXNbMF0gPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHRoaXMudmVydGljZXM7XG4gIH1cblxuICB2YXIgdW5pb24gPSB0aGlzLm9mZnNldExpbmVzKHRoaXMuX2Rpc3RhbmNlKTtcbiAgdmFyIGRpZmYgPSBtYXJ0aW5lei5kaWZmKHRoaXMudmVydGljZXMsIHVuaW9uKTtcbiAgcmV0dXJuIG9yaWVudFJpbmdzKGRpZmYpO1xufTtcblxuXG4vKipcbiAqIENyZWF0ZXMgbWFyZ2luIHBvbHlnb25cbiAqIEBwYXJhbSAge051bWJlcn0gZGlzdFxuICogQHJldHVybiB7QXJyYXkuPE9iamVjdD59XG4gKi9cbk9mZnNldC5wcm90b3R5cGUub2Zmc2V0TGluZSA9IGZ1bmN0aW9uKGRpc3QpIHtcbiAgaWYgKGRpc3QgPT09IDApIHJldHVybiB0aGlzLnZlcnRpY2VzO1xuICByZXR1cm4gb3JpZW50UmluZ3ModGhpcy5vZmZzZXRMaW5lcyhkaXN0KSk7XG59O1xuXG5cbi8qKlxuICogSnVzdCBvZmZzZXRzIGxpbmVzLCBubyBmaWxsXG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGRpc3RcbiAqIEByZXR1cm4ge0FycmF5LjxBcnJheS48QXJyYXkuPE51bWJlcj4+Pn1cbiAqL1xuT2Zmc2V0LnByb3RvdHlwZS5vZmZzZXRMaW5lcyA9IGZ1bmN0aW9uKGRpc3QpIHtcbiAgaWYgKGRpc3QgPCAwKSB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhcHBseSBuZWdhdGl2ZSBtYXJnaW4gdG8gdGhlIGxpbmUnKTtcbiAgdmFyIHVuaW9uO1xuICB0aGlzLmRpc3RhbmNlKGRpc3QpO1xuICBpZiAoaXNBcnJheSh0aGlzLnZlcnRpY2VzWzBdKSAmJiB0eXBlb2YgdGhpcy52ZXJ0aWNlc1swXVswXSAhPT0gJ251bWJlcicpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fZWRnZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHVuaW9uID0gKGkgPT09IDApID9cbiAgICAgICAgdGhpcy5vZmZzZXRDb250b3VyKHRoaXMudmVydGljZXNbaV0sIHRoaXMuX2VkZ2VzW2ldKTpcbiAgICAgICAgbWFydGluZXoudW5pb24odW5pb24sIHRoaXMub2Zmc2V0Q29udG91cih0aGlzLnZlcnRpY2VzW2ldLCB0aGlzLl9lZGdlc1tpXSkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB1bmlvbiA9ICh0aGlzLnZlcnRpY2VzLmxlbmd0aCA9PT0gMSkgP1xuICAgICAgdGhpcy5vZmZzZXRQb2ludCgpIDpcbiAgICAgIHRoaXMub2Zmc2V0Q29udG91cih0aGlzLnZlcnRpY2VzLCB0aGlzLl9lZGdlcyk7XG4gIH1cblxuICByZXR1cm4gdW5pb247XG59O1xuXG5cbi8qKlxuICogQHBhcmFtICB7QXJyYXkuPEFycmF5LjxOdW1iZXI+PnxBcnJheS48QXJyYXkuPC4uLj4+fSBjdXJ2ZVxuICogQHBhcmFtICB7QXJyYXkuPEVkZ2U+fEFycmF5LjxBcnJheS48Li4uPj59IGVkZ2VzXG4gKiBAcmV0dXJuIHtQb2x5Z29ufVxuICovXG5PZmZzZXQucHJvdG90eXBlLm9mZnNldENvbnRvdXIgPSBmdW5jdGlvbihjdXJ2ZSwgZWRnZXMpIHtcbiAgdmFyIHVuaW9uLCBpLCBsZW47XG4gIGlmIChpc0FycmF5KGN1cnZlWzBdKSAmJiB0eXBlb2YgY3VydmVbMF1bMF0gPT09ICdudW1iZXInKSB7XG4gICAgLy8gd2UgaGF2ZSAxIGxlc3MgZWRnZSB0aGFuIHZlcnRpY2VzXG4gICAgZm9yIChpID0gMCwgbGVuID0gY3VydmUubGVuZ3RoIC0gMTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgc2VnbWVudCA9IHRoaXMuZW5zdXJlTGFzdFBvaW50KFxuICAgICAgICB0aGlzLl9vZmZzZXRTZWdtZW50KGN1cnZlW2ldLCBjdXJ2ZVtpICsgMV0sIGVkZ2VzW2ldLCB0aGlzLl9kaXN0YW5jZSlcbiAgICAgICk7XG4gICAgICB1bmlvbiA9IChpID09PSAwKSA/XG4gICAgICAgICAgICAgICAgW3RoaXMuZW5zdXJlTGFzdFBvaW50KHNlZ21lbnQpXSA6XG4gICAgICAgICAgICAgICAgbWFydGluZXoudW5pb24odW5pb24sIHRoaXMuZW5zdXJlTGFzdFBvaW50KHNlZ21lbnQpKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yIChpID0gMCwgbGVuID0gZWRnZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHVuaW9uID0gKGkgPT09IDApID9cbiAgICAgICAgdGhpcy5vZmZzZXRDb250b3VyKGN1cnZlW2ldLCBlZGdlc1tpXSkgOlxuICAgICAgICBtYXJ0aW5lei51bmlvbih1bmlvbiwgdGhpcy5vZmZzZXRDb250b3VyKGN1cnZlW2ldLCBlZGdlc1tpXSkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdW5pb247XG59O1xuXG5cbi8qKlxuICogQHBhcmFtICB7TnVtYmVyfSBkaXN0YW5jZVxuICogQHJldHVybiB7QXJyYXkuPEFycmF5LjxOdW1iZXI+fVxuICovXG5PZmZzZXQucHJvdG90eXBlLm9mZnNldFBvaW50ID0gZnVuY3Rpb24oZGlzdGFuY2UpIHtcbiAgdGhpcy5kaXN0YW5jZShkaXN0YW5jZSk7XG4gIHZhciB2ZXJ0aWNlcyA9IHRoaXMuX2FyY1NlZ21lbnRzICogMjtcbiAgdmFyIHBvaW50cyAgID0gW107XG4gIHZhciBjZW50ZXIgICA9IHRoaXMudmVydGljZXM7XG4gIHZhciByYWRpdXMgICA9IHRoaXMuX2Rpc3RhbmNlO1xuICB2YXIgYW5nbGUgICAgPSAwO1xuXG4gIGlmICh2ZXJ0aWNlcyAlIDIgPT09IDApIHZlcnRpY2VzKys7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0aWNlczsgaSsrKSB7XG4gICAgYW5nbGUgKz0gKDIgKiBNYXRoLlBJIC8gdmVydGljZXMpOyAvLyBjb3VudGVyLWNsb2Nrd2lzZVxuICAgIHBvaW50cy5wdXNoKFtcbiAgICAgIGNlbnRlclswXSArIChyYWRpdXMgKiBNYXRoLmNvcyhhbmdsZSkpLFxuICAgICAgY2VudGVyWzFdICsgKHJhZGl1cyAqIE1hdGguc2luKGFuZ2xlKSlcbiAgICBdKTtcbiAgfVxuXG4gIHJldHVybiBvcmllbnRSaW5ncyhbdGhpcy5lbnN1cmVMYXN0UG9pbnQocG9pbnRzKV0pO1xufTtcblxuXG5PZmZzZXQub3JpZW50UmluZ3MgPSBvcmllbnRSaW5ncztcblxubW9kdWxlLmV4cG9ydHMgPSBPZmZzZXQ7XG4iLCJpbXBvcnQgKiBhcyBkM2Jhc2UgZnJvbSAnZDMnO1xuaW1wb3J0IHsgd2VpZ2h0ZWRWb3Jvbm9pIH0gZnJvbSAnZDMtd2VpZ2h0ZWQtdm9yb25vaSc7XG5pbXBvcnQgZ3JlaW5lckhvcm1hbm4gZnJvbSAnZ3JlaW5lci1ob3JtYW5uJztcbmltcG9ydCB7IHJhbmRvbSwgcmFuZ2UgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHBhZCBmcm9tICdwb2x5Z29uLW9mZnNldCc7XG5pbXBvcnQgKiBhcyBwIGZyb20gJy4vY2xhc3NlcydcbmltcG9ydCAqIGFzIGhmIGZyb20gJy4vbGliL2hlbHBlckZ1bmNzJztcbnR5cGUgcHQgPSBbbnVtYmVyLCBudW1iZXJdO1xuY29uc3QgcG9seVBvaW50cyA9IFtcbiAgICBbIDEwOC41LCA0MSBdLFxuICAgIFsgNTUuNSwgMzc1IF0sXG4gICAgWyA0ODQuNSwgNDI3IF0sXG4gICAgWyA3OTguNSwgNDA4IF0sXG4gICAgWyA4MDguNSwgMTY2IF1cbl0gYXMgcHRbXTtcbmNvbnN0IGNsaXAgPSBbXG4gICAgWyAxMDguNSwgMjQxIF0sXG4gICAgWyA2NS41LCAzNzUgXSxcbiAgICBbIDQ4NC41LCA1MjcgXSxcbiAgICBbIDY5OC41LCA0MDggXSxcbiAgICBbIDgwOC41LCAxNjYgXSxcbiAgICBbIDY1NC41LCAyMzEgXVxuXSBhcyBwdFtdO1xubGV0IHBhZGRpbmcgPSA1O1xuZXhwb3J0IGZ1bmN0aW9uIHNldHVwKCkge1xuICAgIGNyZWF0ZUNhbnZhcyggODYwLCA0ODAgKS5wYXJlbnQoICcjY2FudmFzJyApO1xuICAgIGJhY2tncm91bmQoIDU1ICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmF3KCkge1xuICAgIGJhY2tncm91bmQoIDU1ICk7XG4gICAgLy8gY2xpcFxuICAgIG5vRmlsbCgpO1xuICAgIHN0cm9rZVdlaWdodCggMyApO1xuICAgIHN0cm9rZSggMjU1LCAwLCAwLCAxNTAgKTtcbiAgICBiZWdpblNoYXBlKCk7XG4gICAgY2xpcC5tYXAoIHAgPT4gdmVydGV4LmFwcGx5KCB0aGlzLCBwICkgKTtcbiAgICBlbmRTaGFwZSggQ0xPU0UgKTtcblxuICAgIC8vIG9nIHNoYXBlXG4gICAgZmlsbCggMCwgMjU1LCAwLCA1MCApO1xuICAgIHN0cm9rZVdlaWdodCggMyApO1xuICAgIHN0cm9rZSggMCwgMjU1LCAwLCAxNTAgKTtcbiAgICBiZWdpblNoYXBlKCk7XG4gICAgcG9seVBvaW50cy5tYXAoIHAgPT4gdmVydGV4LmFwcGx5KCB0aGlzLCBwICkgKTtcbiAgICBlbmRTaGFwZSggQ0xPU0UgKTtcbiAgICBjb25zdCB6ID0gZ3JlaW5lckhvcm1hbm47XG4gICAgLy8gY2xpcHBlZCBzaGFwZVxuICAgIGxldCBjbGlwcGVkOiBhbnkgPSBncmVpbmVySG9ybWFubi5pbnRlcnNlY3Rpb24oXG4gICAgICAgIHBvbHlQb2ludHMsXG4gICAgICAgIGNsaXBcbiAgICApO1xuICAgIGNsaXBwZWQgPSBjbGlwcGVkWzBdO1xuICAgIGZpbGwoIDAsIDAsIDI1NSwgNTAgKTtcbiAgICBzdHJva2VXZWlnaHQoIDMgKTtcbiAgICBzdHJva2UoIDAsIDAsIDI1NSwgMTUwICk7XG4gICAgYmVnaW5TaGFwZSgpO1xuICAgIGNsaXBwZWQubWFwKCBwID0+IHZlcnRleC5hcHBseSggdGhpcywgcCApICk7XG4gICAgZW5kU2hhcGUoKTtcbiAgICAvLyBwYWRkZWRcbiAgICBjb25zdCBwYWRkZWQgPSBuZXcgcGFkKClcbiAgICAgICAgLmRhdGEoIGNsaXBwZWQgKVxuICAgICAgICAucGFkZGluZyggcGFkZGluZyApO1xuICAgIGZpbGwoIDI1NSwgMjU1LCAyNTUsIDUwICk7XG4gICAgc3Ryb2tlV2VpZ2h0KCAzICk7XG4gICAgc3Ryb2tlKCAyNTUsIDI1NSwgMjU1LCAxNTAgKTtcbiAgICBiZWdpblNoYXBlKCk7XG4gICAgcGFkZGVkWzBdLm1hcCggcCA9PiB2ZXJ0ZXguYXBwbHkoIHRoaXMsIHAgKSApO1xuICAgIGVuZFNoYXBlKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3VzZVByZXNzZWQoKSB7fVxuZXhwb3J0IGZ1bmN0aW9uIGtleVJlbGVhc2VkKCkge1xuICAgIHN3aXRjaCAoIGtleSApIHtcbiAgICAgICAgY2FzZSAnQSc6XG4gICAgICAgICAgICBwYWRkaW5nIC09IHBhZGRpbmcgPiAxID8gMSA6IDA7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyggcGFkZGluZyApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgICAgcGFkZGluZyArPSBwYWRkaW5nIDwgMTUgPyAxIDogMDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCBwYWRkaW5nICk7XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIHNrZXRjaEhvb2tzIGZyb20gJy4vc2tldGNoL21haW4nO1xuXG4odyA9PlxuICBPYmplY3Qua2V5cyhza2V0Y2hIb29rcykuZm9yRWFjaChob29rID0+IHtcbiAgICB3W2hvb2tdID0gc2tldGNoSG9va3NbaG9va107XG4gIH0pKSh3aW5kb3cpO1xuIiwiLyoqXG4gKiBAcGFyYW0gIHsqfSBhcnJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbnZhciBpc0FycmF5ID0gbW9kdWxlLmV4cG9ydHMuaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5cbi8qKlxuICogQHBhcmFtICB7QXJyYXkuPE51bWJlcj59IHAxXG4gKiBAcGFyYW0gIHtBcnJheS48TnVtYmVyPn0gcDJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbm1vZHVsZS5leHBvcnRzLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyhwMSwgcDIpIHtcbiAgcmV0dXJuIHAxWzBdID09PSBwMlswXSAmJiBwMVsxXSA9PT0gcDJbMV07XG59O1xuXG5cbi8qKlxuICogQHBhcmFtICB7Kn0gICAgICAgY29vcmRpbmF0ZXNcbiAqIEBwYXJhbSAge051bWJlcj19IGRlcHRoXG4gKiBAcmV0dXJuIHsqfVxuICovXG5tb2R1bGUuZXhwb3J0cy5vcmllbnRSaW5ncyA9IGZ1bmN0aW9uIG9yaWVudFJpbmdzKGNvb3JkaW5hdGVzLCBkZXB0aCwgaXNIb2xlKSB7XG4gIGRlcHRoID0gZGVwdGggfHwgMDtcbiAgdmFyIGksIGxlbjtcbiAgaWYgKGlzQXJyYXkoY29vcmRpbmF0ZXMpICYmIHR5cGVvZiBjb29yZGluYXRlc1swXVswXSA9PT0gJ251bWJlcicpIHtcbiAgICB2YXIgYXJlYSA9IDA7XG4gICAgdmFyIHJpbmcgPSBjb29yZGluYXRlcztcblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IHJpbmcubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBwdDEgPSByaW5nW2ldO1xuICAgICAgdmFyIHB0MiA9IHJpbmdbKGkgKyAxKSAlIGxlbl07XG4gICAgICBhcmVhICs9IHB0MVswXSAqIHB0MlsxXTtcbiAgICAgIGFyZWEgLT0gcHQyWzBdICogcHQxWzFdO1xuICAgIH1cbiAgICBpZiAoKCFpc0hvbGUgJiYgYXJlYSA+IDApIHx8IChpc0hvbGUgJiYgYXJlYSA8IDApKSB7XG4gICAgICByaW5nLnJldmVyc2UoKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yIChpID0gMCwgbGVuID0gY29vcmRpbmF0ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIG9yaWVudFJpbmdzKGNvb3JkaW5hdGVzW2ldLCBkZXB0aCArIDEsIGkgPiAwKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29vcmRpbmF0ZXM7XG59OyIsInZhciBFUFNJTE9OID0gMWUtOTtcblxuLyoqXG4gKiBGaW5kcyB0aGUgbWFnbml0dWRlIG9mIHRoZSBjcm9zcyBwcm9kdWN0IG9mIHR3byB2ZWN0b3JzIChpZiB3ZSBwcmV0ZW5kXG4gKiB0aGV5J3JlIGluIHRocmVlIGRpbWVuc2lvbnMpXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGEgRmlyc3QgdmVjdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gYiBTZWNvbmQgdmVjdG9yXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge051bWJlcn0gVGhlIG1hZ25pdHVkZSBvZiB0aGUgY3Jvc3MgcHJvZHVjdFxuICovXG5mdW5jdGlvbiBrcm9zc1Byb2R1Y3QoYSwgYikge1xuICByZXR1cm4gYVswXSAqIGJbMV0gLSBhWzFdICogYlswXTtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgZG90IHByb2R1Y3Qgb2YgdHdvIHZlY3RvcnMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGEgRmlyc3QgdmVjdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gYiBTZWNvbmQgdmVjdG9yXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge051bWJlcn0gVGhlIGRvdCBwcm9kdWN0XG4gKi9cbmZ1bmN0aW9uIGRvdFByb2R1Y3QoYSwgYikge1xuICByZXR1cm4gYVswXSAqIGJbMF0gKyBhWzFdICogYlsxXTtcbn1cblxuLyoqXG4gKiBGaW5kcyB0aGUgaW50ZXJzZWN0aW9uIChpZiBhbnkpIGJldHdlZW4gdHdvIGxpbmUgc2VnbWVudHMgYSBhbmQgYiwgZ2l2ZW4gdGhlXG4gKiBsaW5lIHNlZ21lbnRzJyBlbmQgcG9pbnRzIGExLCBhMiBhbmQgYjEsIGIyLlxuICpcbiAqIFRoaXMgYWxnb3JpdGhtIGlzIGJhc2VkIG9uIFNjaG5laWRlciBhbmQgRWJlcmx5LlxuICogaHR0cDovL3d3dy5jaW1lYy5vcmcuYXIvfm5jYWx2by9TY2huZWlkZXJfRWJlcmx5LnBkZlxuICogUGFnZSAyNDQuXG4gKlxuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gYTEgcG9pbnQgb2YgZmlyc3QgbGluZVxuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gYTIgcG9pbnQgb2YgZmlyc3QgbGluZVxuICogQHBhcmFtIHtBcnJheS48TnVtYmVyPn0gYjEgcG9pbnQgb2Ygc2Vjb25kIGxpbmVcbiAqIEBwYXJhbSB7QXJyYXkuPE51bWJlcj59IGIyIHBvaW50IG9mIHNlY29uZCBsaW5lXG4gKiBAcGFyYW0ge0Jvb2xlYW49fSAgICAgICBub0VuZHBvaW50VG91Y2ggd2hldGhlciB0byBza2lwIHNpbmdsZSB0b3VjaHBvaW50c1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtZWFuaW5nIGNvbm5lY3RlZCBzZWdtZW50cykgYXNcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRlcnNlY3Rpb25zXG4gKiBAcmV0dXJucyB7QXJyYXkuPEFycmF5LjxOdW1iZXI+PnxOdWxsfSBJZiB0aGUgbGluZXMgaW50ZXJzZWN0LCB0aGUgcG9pbnQgb2ZcbiAqIGludGVyc2VjdGlvbi4gSWYgdGhleSBvdmVybGFwLCB0aGUgdHdvIGVuZCBwb2ludHMgb2YgdGhlIG92ZXJsYXBwaW5nIHNlZ21lbnQuXG4gKiBPdGhlcndpc2UsIG51bGwuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYTEsIGEyLCBiMSwgYjIsIG5vRW5kcG9pbnRUb3VjaCkge1xuICAvLyBUaGUgYWxnb3JpdGhtIGV4cGVjdHMgb3VyIGxpbmVzIGluIHRoZSBmb3JtIFAgKyBzZCwgd2hlcmUgUCBpcyBhIHBvaW50LFxuICAvLyBzIGlzIG9uIHRoZSBpbnRlcnZhbCBbMCwgMV0sIGFuZCBkIGlzIGEgdmVjdG9yLlxuICAvLyBXZSBhcmUgcGFzc2VkIHR3byBwb2ludHMuIFAgY2FuIGJlIHRoZSBmaXJzdCBwb2ludCBvZiBlYWNoIHBhaXIuIFRoZVxuICAvLyB2ZWN0b3IsIHRoZW4sIGNvdWxkIGJlIHRob3VnaHQgb2YgYXMgdGhlIGRpc3RhbmNlIChpbiB4IGFuZCB5IGNvbXBvbmVudHMpXG4gIC8vIGZyb20gdGhlIGZpcnN0IHBvaW50IHRvIHRoZSBzZWNvbmQgcG9pbnQuXG4gIC8vIFNvIGZpcnN0LCBsZXQncyBtYWtlIG91ciB2ZWN0b3JzOlxuICB2YXIgdmEgPSBbYTJbMF0gLSBhMVswXSwgYTJbMV0gLSBhMVsxXV07XG4gIHZhciB2YiA9IFtiMlswXSAtIGIxWzBdLCBiMlsxXSAtIGIxWzFdXTtcbiAgLy8gV2UgYWxzbyBkZWZpbmUgYSBmdW5jdGlvbiB0byBjb252ZXJ0IGJhY2sgdG8gcmVndWxhciBwb2ludCBmb3JtOlxuXG4gIC8qIGVzbGludC1kaXNhYmxlIGFycm93LWJvZHktc3R5bGUgKi9cblxuICBmdW5jdGlvbiB0b1BvaW50KHAsIHMsIGQpIHtcbiAgICByZXR1cm4gW1xuICAgICAgcFswXSArIHMgKiBkWzBdLFxuICAgICAgcFsxXSArIHMgKiBkWzFdXG4gICAgXTtcbiAgfVxuXG4gIC8qIGVzbGludC1lbmFibGUgYXJyb3ctYm9keS1zdHlsZSAqL1xuXG4gIC8vIFRoZSByZXN0IGlzIHByZXR0eSBtdWNoIGEgc3RyYWlnaHQgcG9ydCBvZiB0aGUgYWxnb3JpdGhtLlxuICB2YXIgZSA9IFtiMVswXSAtIGExWzBdLCBiMVsxXSAtIGExWzFdXTtcbiAgdmFyIGtyb3NzID0ga3Jvc3NQcm9kdWN0KHZhLCB2Yik7XG4gIHZhciBzcXJLcm9zcyA9IGtyb3NzICoga3Jvc3M7XG4gIHZhciBzcXJMZW5BID0gZG90UHJvZHVjdCh2YSwgdmEpO1xuICB2YXIgc3FyTGVuQiA9IGRvdFByb2R1Y3QodmIsIHZiKTtcblxuICAvLyBDaGVjayBmb3IgbGluZSBpbnRlcnNlY3Rpb24uIFRoaXMgd29ya3MgYmVjYXVzZSBvZiB0aGUgcHJvcGVydGllcyBvZiB0aGVcbiAgLy8gY3Jvc3MgcHJvZHVjdCAtLSBzcGVjaWZpY2FsbHksIHR3byB2ZWN0b3JzIGFyZSBwYXJhbGxlbCBpZiBhbmQgb25seSBpZiB0aGVcbiAgLy8gY3Jvc3MgcHJvZHVjdCBpcyB0aGUgMCB2ZWN0b3IuIFRoZSBmdWxsIGNhbGN1bGF0aW9uIGludm9sdmVzIHJlbGF0aXZlIGVycm9yXG4gIC8vIHRvIGFjY291bnQgZm9yIHBvc3NpYmxlIHZlcnkgc21hbGwgbGluZSBzZWdtZW50cy4gU2VlIFNjaG5laWRlciAmIEViZXJseVxuICAvLyBmb3IgZGV0YWlscy5cbiAgaWYgKHNxcktyb3NzID4gRVBTSUxPTiAqIHNxckxlbkEgKiBzcXJMZW5CKSB7XG4gICAgLy8gSWYgdGhleSdyZSBub3QgcGFyYWxsZWwsIHRoZW4gKGJlY2F1c2UgdGhlc2UgYXJlIGxpbmUgc2VnbWVudHMpIHRoZXlcbiAgICAvLyBzdGlsbCBtaWdodCBub3QgYWN0dWFsbHkgaW50ZXJzZWN0LiBUaGlzIGNvZGUgY2hlY2tzIHRoYXQgdGhlXG4gICAgLy8gaW50ZXJzZWN0aW9uIHBvaW50IG9mIHRoZSBsaW5lcyBpcyBhY3R1YWxseSBvbiBib3RoIGxpbmUgc2VnbWVudHMuXG4gICAgdmFyIHMgPSBrcm9zc1Byb2R1Y3QoZSwgdmIpIC8ga3Jvc3M7XG4gICAgaWYgKHMgPCAwIHx8IHMgPiAxKSB7XG4gICAgICAvLyBub3Qgb24gbGluZSBzZWdtZW50IGFcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgdCA9IGtyb3NzUHJvZHVjdChlLCB2YSkgLyBrcm9zcztcbiAgICBpZiAodCA8IDAgfHwgdCA+IDEpIHtcbiAgICAgIC8vIG5vdCBvbiBsaW5lIHNlZ21lbnQgYlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBub0VuZHBvaW50VG91Y2ggPyBudWxsIDogW3RvUG9pbnQoYTEsIHMsIHZhKV07XG4gIH1cblxuICAvLyBJZiB3ZSd2ZSByZWFjaGVkIHRoaXMgcG9pbnQsIHRoZW4gdGhlIGxpbmVzIGFyZSBlaXRoZXIgcGFyYWxsZWwgb3IgdGhlXG4gIC8vIHNhbWUsIGJ1dCB0aGUgc2VnbWVudHMgY291bGQgb3ZlcmxhcCBwYXJ0aWFsbHkgb3IgZnVsbHksIG9yIG5vdCBhdCBhbGwuXG4gIC8vIFNvIHdlIG5lZWQgdG8gZmluZCB0aGUgb3ZlcmxhcCwgaWYgYW55LiBUbyBkbyB0aGF0LCB3ZSBjYW4gdXNlIGUsIHdoaWNoIGlzXG4gIC8vIHRoZSAodmVjdG9yKSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIHR3byBpbml0aWFsIHBvaW50cy4gSWYgdGhpcyBpcyBwYXJhbGxlbFxuICAvLyB3aXRoIHRoZSBsaW5lIGl0c2VsZiwgdGhlbiB0aGUgdHdvIGxpbmVzIGFyZSB0aGUgc2FtZSBsaW5lLCBhbmQgdGhlcmUgd2lsbFxuICAvLyBiZSBvdmVybGFwLlxuICB2YXIgc3FyTGVuRSA9IGRvdFByb2R1Y3QoZSwgZSk7XG4gIGtyb3NzID0ga3Jvc3NQcm9kdWN0KGUsIHZhKTtcbiAgc3FyS3Jvc3MgPSBrcm9zcyAqIGtyb3NzO1xuXG4gIGlmIChzcXJLcm9zcyA+IEVQU0lMT04gKiBzcXJMZW5BICogc3FyTGVuRSkge1xuICAgIC8vIExpbmVzIGFyZSBqdXN0IHBhcmFsbGVsLCBub3QgdGhlIHNhbWUuIE5vIG92ZXJsYXAuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgc2EgPSBkb3RQcm9kdWN0KHZhLCBlKSAvIHNxckxlbkE7XG4gIHZhciBzYiA9IHNhICsgZG90UHJvZHVjdCh2YSwgdmIpIC8gc3FyTGVuQTtcbiAgdmFyIHNtaW4gPSBNYXRoLm1pbihzYSwgc2IpO1xuICB2YXIgc21heCA9IE1hdGgubWF4KHNhLCBzYik7XG5cbiAgLy8gdGhpcyBpcywgZXNzZW50aWFsbHksIHRoZSBGaW5kSW50ZXJzZWN0aW9uIGFjdGluZyBvbiBmbG9hdHMgZnJvbVxuICAvLyBTY2huZWlkZXIgJiBFYmVybHksIGp1c3QgaW5saW5lZCBpbnRvIHRoaXMgZnVuY3Rpb24uXG4gIGlmIChzbWluIDw9IDEgJiYgc21heCA+PSAwKSB7XG5cbiAgICAvLyBvdmVybGFwIG9uIGFuIGVuZCBwb2ludFxuICAgIGlmIChzbWluID09PSAxKSB7XG4gICAgICByZXR1cm4gbm9FbmRwb2ludFRvdWNoID8gbnVsbCA6IFt0b1BvaW50KGExLCBzbWluID4gMCA/IHNtaW4gOiAwLCB2YSldO1xuICAgIH1cblxuICAgIGlmIChzbWF4ID09PSAwKSB7XG4gICAgICByZXR1cm4gbm9FbmRwb2ludFRvdWNoID8gbnVsbCA6IFt0b1BvaW50KGExLCBzbWF4IDwgMSA/IHNtYXggOiAxLCB2YSldO1xuICAgIH1cblxuICAgIGlmIChub0VuZHBvaW50VG91Y2ggJiYgc21pbiA9PT0gMCAmJiBzbWF4ID09PSAxKSByZXR1cm4gbnVsbDtcblxuICAgIC8vIFRoZXJlJ3Mgb3ZlcmxhcCBvbiBhIHNlZ21lbnQgLS0gdHdvIHBvaW50cyBvZiBpbnRlcnNlY3Rpb24uIFJldHVybiBib3RoLlxuICAgIHJldHVybiBbXG4gICAgICB0b1BvaW50KGExLCBzbWluID4gMCA/IHNtaW4gOiAwLCB2YSksXG4gICAgICB0b1BvaW50KGExLCBzbWF4IDwgMSA/IHNtYXggOiAxLCB2YSksXG4gICAgXTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcbiIsInZhciBzaWduZWRBcmVhICAgID0gcmVxdWlyZSgnLi9zaWduZWRfYXJlYScpO1xudmFyIGNvbXBhcmVFdmVudHMgPSByZXF1aXJlKCcuL2NvbXBhcmVfZXZlbnRzJyk7XG52YXIgZXF1YWxzICAgICAgICA9IHJlcXVpcmUoJy4vZXF1YWxzJyk7XG5cblxuLyoqXG4gKiBAcGFyYW0gIHtTd2VlcEV2ZW50fSBsZTFcbiAqIEBwYXJhbSAge1N3ZWVwRXZlbnR9IGxlMlxuICogQHJldHVybiB7TnVtYmVyfVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbXBhcmVTZWdtZW50cyhsZTEsIGxlMikge1xuICBpZiAobGUxID09PSBsZTIpIHJldHVybiAwO1xuXG4gIC8vIFNlZ21lbnRzIGFyZSBub3QgY29sbGluZWFyXG4gIGlmIChzaWduZWRBcmVhKGxlMS5wb2ludCwgbGUxLm90aGVyRXZlbnQucG9pbnQsIGxlMi5wb2ludCkgIT09IDAgfHxcbiAgICBzaWduZWRBcmVhKGxlMS5wb2ludCwgbGUxLm90aGVyRXZlbnQucG9pbnQsIGxlMi5vdGhlckV2ZW50LnBvaW50KSAhPT0gMCkge1xuXG4gICAgLy8gSWYgdGhleSBzaGFyZSB0aGVpciBsZWZ0IGVuZHBvaW50IHVzZSB0aGUgcmlnaHQgZW5kcG9pbnQgdG8gc29ydFxuICAgIGlmIChlcXVhbHMobGUxLnBvaW50LCBsZTIucG9pbnQpKSByZXR1cm4gbGUxLmlzQmVsb3cobGUyLm90aGVyRXZlbnQucG9pbnQpID8gLTEgOiAxO1xuXG4gICAgLy8gRGlmZmVyZW50IGxlZnQgZW5kcG9pbnQ6IHVzZSB0aGUgbGVmdCBlbmRwb2ludCB0byBzb3J0XG4gICAgaWYgKGxlMS5wb2ludFswXSA9PT0gbGUyLnBvaW50WzBdKSByZXR1cm4gbGUxLnBvaW50WzFdIDwgbGUyLnBvaW50WzFdID8gLTEgOiAxO1xuXG4gICAgLy8gaGFzIHRoZSBsaW5lIHNlZ21lbnQgYXNzb2NpYXRlZCB0byBlMSBiZWVuIGluc2VydGVkXG4gICAgLy8gaW50byBTIGFmdGVyIHRoZSBsaW5lIHNlZ21lbnQgYXNzb2NpYXRlZCB0byBlMiA/XG4gICAgaWYgKGNvbXBhcmVFdmVudHMobGUxLCBsZTIpID09PSAxKSByZXR1cm4gbGUyLmlzQWJvdmUobGUxLnBvaW50KSA/IC0xIDogMTtcblxuICAgIC8vIFRoZSBsaW5lIHNlZ21lbnQgYXNzb2NpYXRlZCB0byBlMiBoYXMgYmVlbiBpbnNlcnRlZFxuICAgIC8vIGludG8gUyBhZnRlciB0aGUgbGluZSBzZWdtZW50IGFzc29jaWF0ZWQgdG8gZTFcbiAgICByZXR1cm4gbGUxLmlzQmVsb3cobGUyLnBvaW50KSA/IC0xIDogMTtcbiAgfVxuXG4gIGlmIChsZTEuaXNTdWJqZWN0ID09PSBsZTIuaXNTdWJqZWN0KSB7IC8vIHNhbWUgcG9seWdvblxuICAgIGlmIChlcXVhbHMobGUxLnBvaW50LCBsZTIucG9pbnQpKSB7XG4gICAgICBpZiAoZXF1YWxzKGxlMS5vdGhlckV2ZW50LnBvaW50LCBsZTIub3RoZXJFdmVudC5wb2ludCkpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbGUxLmNvbnRvdXJJZCA+IGxlMi5jb250b3VySWQgPyAxIDogLTE7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgeyAvLyBTZWdtZW50cyBhcmUgY29sbGluZWFyLCBidXQgYmVsb25nIHRvIHNlcGFyYXRlIHBvbHlnb25zXG4gICAgcmV0dXJuIGxlMS5pc1N1YmplY3QgPyAtMSA6IDE7XG4gIH1cblxuICByZXR1cm4gY29tcGFyZUV2ZW50cyhsZTEsIGxlMikgPT09IDEgPyAxIDogLTE7XG59O1xuIiwidmFyIHNpZ25lZEFyZWEgPSByZXF1aXJlKCcuL3NpZ25lZF9hcmVhJyk7XG52YXIgRWRnZVR5cGUgICA9IHJlcXVpcmUoJy4vZWRnZV90eXBlJyk7XG5cblxuLyoqXG4gKiBTd2VlcGxpbmUgZXZlbnRcbiAqXG4gKiBAcGFyYW0ge0FycmF5LjxOdW1iZXI+fSAgcG9pbnRcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gICAgICAgICBsZWZ0XG4gKiBAcGFyYW0ge1N3ZWVwRXZlbnQ9fSAgICAgb3RoZXJFdmVudFxuICogQHBhcmFtIHtCb29sZWFufSAgICAgICAgIGlzU3ViamVjdFxuICogQHBhcmFtIHtOdW1iZXJ9ICAgICAgICAgIGVkZ2VUeXBlXG4gKi9cbmZ1bmN0aW9uIFN3ZWVwRXZlbnQocG9pbnQsIGxlZnQsIG90aGVyRXZlbnQsIGlzU3ViamVjdCwgZWRnZVR5cGUpIHtcblxuICAvKipcbiAgICogSXMgbGVmdCBlbmRwb2ludD9cbiAgICogQHR5cGUge0Jvb2xlYW59XG4gICAqL1xuICB0aGlzLmxlZnQgPSBsZWZ0O1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7QXJyYXkuPE51bWJlcj59XG4gICAqL1xuICB0aGlzLnBvaW50ID0gcG9pbnQ7XG5cbiAgLyoqXG4gICAqIE90aGVyIGVkZ2UgcmVmZXJlbmNlXG4gICAqIEB0eXBlIHtTd2VlcEV2ZW50fVxuICAgKi9cbiAgdGhpcy5vdGhlckV2ZW50ID0gb3RoZXJFdmVudDtcblxuICAvKipcbiAgICogQmVsb25ncyB0byBzb3VyY2Ugb3IgY2xpcHBpbmcgcG9seWdvblxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICovXG4gIHRoaXMuaXNTdWJqZWN0ID0gaXNTdWJqZWN0O1xuXG4gIC8qKlxuICAgKiBFZGdlIGNvbnRyaWJ1dGlvbiB0eXBlXG4gICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAqL1xuICB0aGlzLnR5cGUgPSBlZGdlVHlwZSB8fCBFZGdlVHlwZS5OT1JNQUw7XG5cblxuICAvKipcbiAgICogSW4tb3V0IHRyYW5zaXRpb24gZm9yIHRoZSBzd2VlcGxpbmUgY3Jvc3NpbmcgcG9seWdvblxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICovXG4gIHRoaXMuaW5PdXQgPSBmYWxzZTtcblxuXG4gIC8qKlxuICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICovXG4gIHRoaXMub3RoZXJJbk91dCA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBQcmV2aW91cyBldmVudCBpbiByZXN1bHQ/XG4gICAqIEB0eXBlIHtTd2VlcEV2ZW50fVxuICAgKi9cbiAgdGhpcy5wcmV2SW5SZXN1bHQgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBEb2VzIGV2ZW50IGJlbG9uZyB0byByZXN1bHQ/XG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKi9cbiAgdGhpcy5pblJlc3VsdCA9IGZhbHNlO1xuXG5cbiAgLy8gY29ubmVjdGlvbiBzdGVwXG5cbiAgLyoqXG4gICAqIEB0eXBlIHtCb29sZWFufVxuICAgKi9cbiAgdGhpcy5yZXN1bHRJbk91dCA9IGZhbHNlO1xufVxuXG5cblN3ZWVwRXZlbnQucHJvdG90eXBlID0ge1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gIHtBcnJheS48TnVtYmVyPn0gIHBcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICovXG4gIGlzQmVsb3c6IGZ1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gdGhpcy5sZWZ0ID9cbiAgICAgIHNpZ25lZEFyZWEgKHRoaXMucG9pbnQsIHRoaXMub3RoZXJFdmVudC5wb2ludCwgcCkgPiAwIDpcbiAgICAgIHNpZ25lZEFyZWEgKHRoaXMub3RoZXJFdmVudC5wb2ludCwgdGhpcy5wb2ludCwgcCkgPiAwO1xuICB9LFxuXG5cbiAgLyoqXG4gICAqIEBwYXJhbSAge0FycmF5LjxOdW1iZXI+fSAgcFxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKi9cbiAgaXNBYm92ZTogZnVuY3Rpb24ocCkge1xuICAgIHJldHVybiAhdGhpcy5pc0JlbG93KHApO1xuICB9LFxuXG5cbiAgLyoqXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqL1xuICBpc1ZlcnRpY2FsOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5wb2ludFswXSA9PT0gdGhpcy5vdGhlckV2ZW50LnBvaW50WzBdO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN3ZWVwRXZlbnQ7XG4iLCJcbnZhciBUcmVlQmFzZSA9IHJlcXVpcmUoJy4vdHJlZWJhc2UnKTtcblxuZnVuY3Rpb24gTm9kZShkYXRhKSB7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB0aGlzLmxlZnQgPSBudWxsO1xuICAgIHRoaXMucmlnaHQgPSBudWxsO1xufVxuXG5Ob2RlLnByb3RvdHlwZS5nZXRfY2hpbGQgPSBmdW5jdGlvbihkaXIpIHtcbiAgICByZXR1cm4gZGlyID8gdGhpcy5yaWdodCA6IHRoaXMubGVmdDtcbn07XG5cbk5vZGUucHJvdG90eXBlLnNldF9jaGlsZCA9IGZ1bmN0aW9uKGRpciwgdmFsKSB7XG4gICAgaWYoZGlyKSB7XG4gICAgICAgIHRoaXMucmlnaHQgPSB2YWw7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmxlZnQgPSB2YWw7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gQmluVHJlZShjb21wYXJhdG9yKSB7XG4gICAgdGhpcy5fcm9vdCA9IG51bGw7XG4gICAgdGhpcy5fY29tcGFyYXRvciA9IGNvbXBhcmF0b3I7XG4gICAgdGhpcy5zaXplID0gMDtcbn1cblxuQmluVHJlZS5wcm90b3R5cGUgPSBuZXcgVHJlZUJhc2UoKTtcblxuLy8gcmV0dXJucyB0cnVlIGlmIGluc2VydGVkLCBmYWxzZSBpZiBkdXBsaWNhdGVcbkJpblRyZWUucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBpZih0aGlzLl9yb290ID09PSBudWxsKSB7XG4gICAgICAgIC8vIGVtcHR5IHRyZWVcbiAgICAgICAgdGhpcy5fcm9vdCA9IG5ldyBOb2RlKGRhdGEpO1xuICAgICAgICB0aGlzLnNpemUrKztcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIGRpciA9IDA7XG5cbiAgICAvLyBzZXR1cFxuICAgIHZhciBwID0gbnVsbDsgLy8gcGFyZW50XG4gICAgdmFyIG5vZGUgPSB0aGlzLl9yb290O1xuXG4gICAgLy8gc2VhcmNoIGRvd25cbiAgICB3aGlsZSh0cnVlKSB7XG4gICAgICAgIGlmKG5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGluc2VydCBuZXcgbm9kZSBhdCB0aGUgYm90dG9tXG4gICAgICAgICAgICBub2RlID0gbmV3IE5vZGUoZGF0YSk7XG4gICAgICAgICAgICBwLnNldF9jaGlsZChkaXIsIG5vZGUpO1xuICAgICAgICAgICAgcmV0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc2l6ZSsrO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdG9wIGlmIGZvdW5kXG4gICAgICAgIGlmKHRoaXMuX2NvbXBhcmF0b3Iobm9kZS5kYXRhLCBkYXRhKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZGlyID0gdGhpcy5fY29tcGFyYXRvcihub2RlLmRhdGEsIGRhdGEpIDwgMDtcblxuICAgICAgICAvLyB1cGRhdGUgaGVscGVyc1xuICAgICAgICBwID0gbm9kZTtcbiAgICAgICAgbm9kZSA9IG5vZGUuZ2V0X2NoaWxkKGRpcik7XG4gICAgfVxufTtcblxuLy8gcmV0dXJucyB0cnVlIGlmIHJlbW92ZWQsIGZhbHNlIGlmIG5vdCBmb3VuZFxuQmluVHJlZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIGlmKHRoaXMuX3Jvb3QgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBoZWFkID0gbmV3IE5vZGUodW5kZWZpbmVkKTsgLy8gZmFrZSB0cmVlIHJvb3RcbiAgICB2YXIgbm9kZSA9IGhlYWQ7XG4gICAgbm9kZS5yaWdodCA9IHRoaXMuX3Jvb3Q7XG4gICAgdmFyIHAgPSBudWxsOyAvLyBwYXJlbnRcbiAgICB2YXIgZm91bmQgPSBudWxsOyAvLyBmb3VuZCBpdGVtXG4gICAgdmFyIGRpciA9IDE7XG5cbiAgICB3aGlsZShub2RlLmdldF9jaGlsZChkaXIpICE9PSBudWxsKSB7XG4gICAgICAgIHAgPSBub2RlO1xuICAgICAgICBub2RlID0gbm9kZS5nZXRfY2hpbGQoZGlyKTtcbiAgICAgICAgdmFyIGNtcCA9IHRoaXMuX2NvbXBhcmF0b3IoZGF0YSwgbm9kZS5kYXRhKTtcbiAgICAgICAgZGlyID0gY21wID4gMDtcblxuICAgICAgICBpZihjbXAgPT09IDApIHtcbiAgICAgICAgICAgIGZvdW5kID0gbm9kZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmKGZvdW5kICE9PSBudWxsKSB7XG4gICAgICAgIGZvdW5kLmRhdGEgPSBub2RlLmRhdGE7XG4gICAgICAgIHAuc2V0X2NoaWxkKHAucmlnaHQgPT09IG5vZGUsIG5vZGUuZ2V0X2NoaWxkKG5vZGUubGVmdCA9PT0gbnVsbCkpO1xuXG4gICAgICAgIHRoaXMuX3Jvb3QgPSBoZWFkLnJpZ2h0O1xuICAgICAgICB0aGlzLnNpemUtLTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBCaW5UcmVlO1xuXG4iLCJcbnZhciBUcmVlQmFzZSA9IHJlcXVpcmUoJy4vdHJlZWJhc2UnKTtcblxuZnVuY3Rpb24gTm9kZShkYXRhKSB7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB0aGlzLmxlZnQgPSBudWxsO1xuICAgIHRoaXMucmlnaHQgPSBudWxsO1xuICAgIHRoaXMucmVkID0gdHJ1ZTtcbn1cblxuTm9kZS5wcm90b3R5cGUuZ2V0X2NoaWxkID0gZnVuY3Rpb24oZGlyKSB7XG4gICAgcmV0dXJuIGRpciA/IHRoaXMucmlnaHQgOiB0aGlzLmxlZnQ7XG59O1xuXG5Ob2RlLnByb3RvdHlwZS5zZXRfY2hpbGQgPSBmdW5jdGlvbihkaXIsIHZhbCkge1xuICAgIGlmKGRpcikge1xuICAgICAgICB0aGlzLnJpZ2h0ID0gdmFsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5sZWZ0ID0gdmFsO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIFJCVHJlZShjb21wYXJhdG9yKSB7XG4gICAgdGhpcy5fcm9vdCA9IG51bGw7XG4gICAgdGhpcy5fY29tcGFyYXRvciA9IGNvbXBhcmF0b3I7XG4gICAgdGhpcy5zaXplID0gMDtcbn1cblxuUkJUcmVlLnByb3RvdHlwZSA9IG5ldyBUcmVlQmFzZSgpO1xuXG4vLyByZXR1cm5zIHRydWUgaWYgaW5zZXJ0ZWQsIGZhbHNlIGlmIGR1cGxpY2F0ZVxuUkJUcmVlLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgdmFyIHJldCA9IGZhbHNlO1xuXG4gICAgaWYodGhpcy5fcm9vdCA9PT0gbnVsbCkge1xuICAgICAgICAvLyBlbXB0eSB0cmVlXG4gICAgICAgIHRoaXMuX3Jvb3QgPSBuZXcgTm9kZShkYXRhKTtcbiAgICAgICAgcmV0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zaXplKys7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgaGVhZCA9IG5ldyBOb2RlKHVuZGVmaW5lZCk7IC8vIGZha2UgdHJlZSByb290XG5cbiAgICAgICAgdmFyIGRpciA9IDA7XG4gICAgICAgIHZhciBsYXN0ID0gMDtcblxuICAgICAgICAvLyBzZXR1cFxuICAgICAgICB2YXIgZ3AgPSBudWxsOyAvLyBncmFuZHBhcmVudFxuICAgICAgICB2YXIgZ2dwID0gaGVhZDsgLy8gZ3JhbmQtZ3JhbmQtcGFyZW50XG4gICAgICAgIHZhciBwID0gbnVsbDsgLy8gcGFyZW50XG4gICAgICAgIHZhciBub2RlID0gdGhpcy5fcm9vdDtcbiAgICAgICAgZ2dwLnJpZ2h0ID0gdGhpcy5fcm9vdDtcblxuICAgICAgICAvLyBzZWFyY2ggZG93blxuICAgICAgICB3aGlsZSh0cnVlKSB7XG4gICAgICAgICAgICBpZihub2RlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gaW5zZXJ0IG5ldyBub2RlIGF0IHRoZSBib3R0b21cbiAgICAgICAgICAgICAgICBub2RlID0gbmV3IE5vZGUoZGF0YSk7XG4gICAgICAgICAgICAgICAgcC5zZXRfY2hpbGQoZGlyLCBub2RlKTtcbiAgICAgICAgICAgICAgICByZXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihpc19yZWQobm9kZS5sZWZ0KSAmJiBpc19yZWQobm9kZS5yaWdodCkpIHtcbiAgICAgICAgICAgICAgICAvLyBjb2xvciBmbGlwXG4gICAgICAgICAgICAgICAgbm9kZS5yZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG5vZGUubGVmdC5yZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBub2RlLnJpZ2h0LnJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBmaXggcmVkIHZpb2xhdGlvblxuICAgICAgICAgICAgaWYoaXNfcmVkKG5vZGUpICYmIGlzX3JlZChwKSkge1xuICAgICAgICAgICAgICAgIHZhciBkaXIyID0gZ2dwLnJpZ2h0ID09PSBncDtcblxuICAgICAgICAgICAgICAgIGlmKG5vZGUgPT09IHAuZ2V0X2NoaWxkKGxhc3QpKSB7XG4gICAgICAgICAgICAgICAgICAgIGdncC5zZXRfY2hpbGQoZGlyMiwgc2luZ2xlX3JvdGF0ZShncCwgIWxhc3QpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGdncC5zZXRfY2hpbGQoZGlyMiwgZG91YmxlX3JvdGF0ZShncCwgIWxhc3QpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjbXAgPSB0aGlzLl9jb21wYXJhdG9yKG5vZGUuZGF0YSwgZGF0YSk7XG5cbiAgICAgICAgICAgIC8vIHN0b3AgaWYgZm91bmRcbiAgICAgICAgICAgIGlmKGNtcCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsYXN0ID0gZGlyO1xuICAgICAgICAgICAgZGlyID0gY21wIDwgMDtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIGhlbHBlcnNcbiAgICAgICAgICAgIGlmKGdwICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ2dwID0gZ3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBncCA9IHA7XG4gICAgICAgICAgICBwID0gbm9kZTtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLmdldF9jaGlsZChkaXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlIHJvb3RcbiAgICAgICAgdGhpcy5fcm9vdCA9IGhlYWQucmlnaHQ7XG4gICAgfVxuXG4gICAgLy8gbWFrZSByb290IGJsYWNrXG4gICAgdGhpcy5fcm9vdC5yZWQgPSBmYWxzZTtcblxuICAgIHJldHVybiByZXQ7XG59O1xuXG4vLyByZXR1cm5zIHRydWUgaWYgcmVtb3ZlZCwgZmFsc2UgaWYgbm90IGZvdW5kXG5SQlRyZWUucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBpZih0aGlzLl9yb290ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgaGVhZCA9IG5ldyBOb2RlKHVuZGVmaW5lZCk7IC8vIGZha2UgdHJlZSByb290XG4gICAgdmFyIG5vZGUgPSBoZWFkO1xuICAgIG5vZGUucmlnaHQgPSB0aGlzLl9yb290O1xuICAgIHZhciBwID0gbnVsbDsgLy8gcGFyZW50XG4gICAgdmFyIGdwID0gbnVsbDsgLy8gZ3JhbmQgcGFyZW50XG4gICAgdmFyIGZvdW5kID0gbnVsbDsgLy8gZm91bmQgaXRlbVxuICAgIHZhciBkaXIgPSAxO1xuXG4gICAgd2hpbGUobm9kZS5nZXRfY2hpbGQoZGlyKSAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgbGFzdCA9IGRpcjtcblxuICAgICAgICAvLyB1cGRhdGUgaGVscGVyc1xuICAgICAgICBncCA9IHA7XG4gICAgICAgIHAgPSBub2RlO1xuICAgICAgICBub2RlID0gbm9kZS5nZXRfY2hpbGQoZGlyKTtcblxuICAgICAgICB2YXIgY21wID0gdGhpcy5fY29tcGFyYXRvcihkYXRhLCBub2RlLmRhdGEpO1xuXG4gICAgICAgIGRpciA9IGNtcCA+IDA7XG5cbiAgICAgICAgLy8gc2F2ZSBmb3VuZCBub2RlXG4gICAgICAgIGlmKGNtcCA9PT0gMCkge1xuICAgICAgICAgICAgZm91bmQgPSBub2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcHVzaCB0aGUgcmVkIG5vZGUgZG93blxuICAgICAgICBpZighaXNfcmVkKG5vZGUpICYmICFpc19yZWQobm9kZS5nZXRfY2hpbGQoZGlyKSkpIHtcbiAgICAgICAgICAgIGlmKGlzX3JlZChub2RlLmdldF9jaGlsZCghZGlyKSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3IgPSBzaW5nbGVfcm90YXRlKG5vZGUsIGRpcik7XG4gICAgICAgICAgICAgICAgcC5zZXRfY2hpbGQobGFzdCwgc3IpO1xuICAgICAgICAgICAgICAgIHAgPSBzcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoIWlzX3JlZChub2RlLmdldF9jaGlsZCghZGlyKSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2libGluZyA9IHAuZ2V0X2NoaWxkKCFsYXN0KTtcbiAgICAgICAgICAgICAgICBpZihzaWJsaW5nICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKCFpc19yZWQoc2libGluZy5nZXRfY2hpbGQoIWxhc3QpKSAmJiAhaXNfcmVkKHNpYmxpbmcuZ2V0X2NoaWxkKGxhc3QpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29sb3IgZmxpcFxuICAgICAgICAgICAgICAgICAgICAgICAgcC5yZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpYmxpbmcucmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXIyID0gZ3AucmlnaHQgPT09IHA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzX3JlZChzaWJsaW5nLmdldF9jaGlsZChsYXN0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncC5zZXRfY2hpbGQoZGlyMiwgZG91YmxlX3JvdGF0ZShwLCBsYXN0KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKGlzX3JlZChzaWJsaW5nLmdldF9jaGlsZCghbGFzdCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3Auc2V0X2NoaWxkKGRpcjIsIHNpbmdsZV9yb3RhdGUocCwgbGFzdCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlbnN1cmUgY29ycmVjdCBjb2xvcmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdwYyA9IGdwLmdldF9jaGlsZChkaXIyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdwYy5yZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5yZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3BjLmxlZnQucmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBncGMucmlnaHQucmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyByZXBsYWNlIGFuZCByZW1vdmUgaWYgZm91bmRcbiAgICBpZihmb3VuZCAhPT0gbnVsbCkge1xuICAgICAgICBmb3VuZC5kYXRhID0gbm9kZS5kYXRhO1xuICAgICAgICBwLnNldF9jaGlsZChwLnJpZ2h0ID09PSBub2RlLCBub2RlLmdldF9jaGlsZChub2RlLmxlZnQgPT09IG51bGwpKTtcbiAgICAgICAgdGhpcy5zaXplLS07XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIHJvb3QgYW5kIG1ha2UgaXQgYmxhY2tcbiAgICB0aGlzLl9yb290ID0gaGVhZC5yaWdodDtcbiAgICBpZih0aGlzLl9yb290ICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX3Jvb3QucmVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZvdW5kICE9PSBudWxsO1xufTtcblxuZnVuY3Rpb24gaXNfcmVkKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZSAhPT0gbnVsbCAmJiBub2RlLnJlZDtcbn1cblxuZnVuY3Rpb24gc2luZ2xlX3JvdGF0ZShyb290LCBkaXIpIHtcbiAgICB2YXIgc2F2ZSA9IHJvb3QuZ2V0X2NoaWxkKCFkaXIpO1xuXG4gICAgcm9vdC5zZXRfY2hpbGQoIWRpciwgc2F2ZS5nZXRfY2hpbGQoZGlyKSk7XG4gICAgc2F2ZS5zZXRfY2hpbGQoZGlyLCByb290KTtcblxuICAgIHJvb3QucmVkID0gdHJ1ZTtcbiAgICBzYXZlLnJlZCA9IGZhbHNlO1xuXG4gICAgcmV0dXJuIHNhdmU7XG59XG5cbmZ1bmN0aW9uIGRvdWJsZV9yb3RhdGUocm9vdCwgZGlyKSB7XG4gICAgcm9vdC5zZXRfY2hpbGQoIWRpciwgc2luZ2xlX3JvdGF0ZShyb290LmdldF9jaGlsZCghZGlyKSwgIWRpcikpO1xuICAgIHJldHVybiBzaW5nbGVfcm90YXRlKHJvb3QsIGRpcik7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUkJUcmVlO1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgUkJUcmVlOiByZXF1aXJlKCcuL2xpYi9yYnRyZWUnKSxcbiAgICBCaW5UcmVlOiByZXF1aXJlKCcuL2xpYi9iaW50cmVlJylcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gVGlueVF1ZXVlO1xubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IFRpbnlRdWV1ZTtcblxuZnVuY3Rpb24gVGlueVF1ZXVlKGRhdGEsIGNvbXBhcmUpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVGlueVF1ZXVlKSkgcmV0dXJuIG5ldyBUaW55UXVldWUoZGF0YSwgY29tcGFyZSk7XG5cbiAgICB0aGlzLmRhdGEgPSBkYXRhIHx8IFtdO1xuICAgIHRoaXMubGVuZ3RoID0gdGhpcy5kYXRhLmxlbmd0aDtcbiAgICB0aGlzLmNvbXBhcmUgPSBjb21wYXJlIHx8IGRlZmF1bHRDb21wYXJlO1xuXG4gICAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKHZhciBpID0gKHRoaXMubGVuZ3RoID4+IDEpIC0gMTsgaSA+PSAwOyBpLS0pIHRoaXMuX2Rvd24oaSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0Q29tcGFyZShhLCBiKSB7XG4gICAgcmV0dXJuIGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiAwO1xufVxuXG5UaW55UXVldWUucHJvdG90eXBlID0ge1xuXG4gICAgcHVzaDogZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdGhpcy5kYXRhLnB1c2goaXRlbSk7XG4gICAgICAgIHRoaXMubGVuZ3RoKys7XG4gICAgICAgIHRoaXMuX3VwKHRoaXMubGVuZ3RoIC0gMSk7XG4gICAgfSxcblxuICAgIHBvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICAgICAgdmFyIHRvcCA9IHRoaXMuZGF0YVswXTtcbiAgICAgICAgdGhpcy5sZW5ndGgtLTtcblxuICAgICAgICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFbMF0gPSB0aGlzLmRhdGFbdGhpcy5sZW5ndGhdO1xuICAgICAgICAgICAgdGhpcy5fZG93bigwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRhdGEucG9wKCk7XG5cbiAgICAgICAgcmV0dXJuIHRvcDtcbiAgICB9LFxuXG4gICAgcGVlazogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhWzBdO1xuICAgIH0sXG5cbiAgICBfdXA6IGZ1bmN0aW9uIChwb3MpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgICAgIHZhciBjb21wYXJlID0gdGhpcy5jb21wYXJlO1xuICAgICAgICB2YXIgaXRlbSA9IGRhdGFbcG9zXTtcblxuICAgICAgICB3aGlsZSAocG9zID4gMCkge1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9IChwb3MgLSAxKSA+PiAxO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSBkYXRhW3BhcmVudF07XG4gICAgICAgICAgICBpZiAoY29tcGFyZShpdGVtLCBjdXJyZW50KSA+PSAwKSBicmVhaztcbiAgICAgICAgICAgIGRhdGFbcG9zXSA9IGN1cnJlbnQ7XG4gICAgICAgICAgICBwb3MgPSBwYXJlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhW3Bvc10gPSBpdGVtO1xuICAgIH0sXG5cbiAgICBfZG93bjogZnVuY3Rpb24gKHBvcykge1xuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICAgICAgdmFyIGNvbXBhcmUgPSB0aGlzLmNvbXBhcmU7XG4gICAgICAgIHZhciBoYWxmTGVuZ3RoID0gdGhpcy5sZW5ndGggPj4gMTtcbiAgICAgICAgdmFyIGl0ZW0gPSBkYXRhW3Bvc107XG5cbiAgICAgICAgd2hpbGUgKHBvcyA8IGhhbGZMZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBsZWZ0ID0gKHBvcyA8PCAxKSArIDE7XG4gICAgICAgICAgICB2YXIgcmlnaHQgPSBsZWZ0ICsgMTtcbiAgICAgICAgICAgIHZhciBiZXN0ID0gZGF0YVtsZWZ0XTtcblxuICAgICAgICAgICAgaWYgKHJpZ2h0IDwgdGhpcy5sZW5ndGggJiYgY29tcGFyZShkYXRhW3JpZ2h0XSwgYmVzdCkgPCAwKSB7XG4gICAgICAgICAgICAgICAgbGVmdCA9IHJpZ2h0O1xuICAgICAgICAgICAgICAgIGJlc3QgPSBkYXRhW3JpZ2h0XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb21wYXJlKGJlc3QsIGl0ZW0pID49IDApIGJyZWFrO1xuXG4gICAgICAgICAgICBkYXRhW3Bvc10gPSBiZXN0O1xuICAgICAgICAgICAgcG9zID0gbGVmdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRhdGFbcG9zXSA9IGl0ZW07XG4gICAgfVxufTtcbiIsInZhciBJTlRFUlNFQ1RJT04gICAgPSAwO1xudmFyIFVOSU9OICAgICAgICAgICA9IDE7XG52YXIgRElGRkVSRU5DRSAgICAgID0gMjtcbnZhciBYT1IgICAgICAgICAgICAgPSAzO1xuXG52YXIgRU1QVFkgICAgICAgICAgID0gW107XG5cbnZhciBlZGdlVHlwZSAgICAgICAgPSByZXF1aXJlKCcuL2VkZ2VfdHlwZScpO1xuXG52YXIgUXVldWUgICAgICAgICAgID0gcmVxdWlyZSgndGlueXF1ZXVlJyk7XG52YXIgVHJlZSAgICAgICAgICAgID0gcmVxdWlyZSgnYmludHJlZXMnKS5SQlRyZWU7XG52YXIgU3dlZXBFdmVudCAgICAgID0gcmVxdWlyZSgnLi9zd2VlcF9ldmVudCcpO1xuXG52YXIgY29tcGFyZUV2ZW50cyAgID0gcmVxdWlyZSgnLi9jb21wYXJlX2V2ZW50cycpO1xudmFyIGNvbXBhcmVTZWdtZW50cyA9IHJlcXVpcmUoJy4vY29tcGFyZV9zZWdtZW50cycpO1xudmFyIGludGVyc2VjdGlvbiAgICA9IHJlcXVpcmUoJy4vc2VnbWVudF9pbnRlcnNlY3Rpb24nKTtcbnZhciBlcXVhbHMgICAgICAgICAgPSByZXF1aXJlKCcuL2VxdWFscycpO1xuXG52YXIgbWF4ID0gTWF0aC5tYXg7XG52YXIgbWluID0gTWF0aC5taW47XG5cbi8vIGdsb2JhbC5UcmVlID0gVHJlZTtcbi8vIGdsb2JhbC5jb21wYXJlU2VnbWVudHMgPSBjb21wYXJlU2VnbWVudHM7XG4vLyBnbG9iYWwuU3dlZXBFdmVudCA9IFN3ZWVwRXZlbnQ7XG4vLyBnbG9iYWwuc2lnbmVkQXJlYSA9IHJlcXVpcmUoJy4vc2lnbmVkX2FyZWEnKTtcblxuLyoqXG4gKiBAcGFyYW0gIHs8QXJyYXkuPE51bWJlcj59IHMxXG4gKiBAcGFyYW0gIHs8QXJyYXkuPE51bWJlcj59IHMyXG4gKiBAcGFyYW0gIHtCb29sZWFufSAgICAgICAgIGlzU3ViamVjdFxuICogQHBhcmFtICB7UXVldWV9ICAgICAgICAgICBldmVudFF1ZXVlXG4gKiBAcGFyYW0gIHtBcnJheS48TnVtYmVyPn0gIGJib3hcbiAqL1xuZnVuY3Rpb24gcHJvY2Vzc1NlZ21lbnQoczEsIHMyLCBpc1N1YmplY3QsIGRlcHRoLCBldmVudFF1ZXVlLCBiYm94KSB7XG4gIC8vIFBvc3NpYmxlIGRlZ2VuZXJhdGUgY29uZGl0aW9uLlxuICAvLyBpZiAoZXF1YWxzKHMxLCBzMikpIHJldHVybjtcblxuICB2YXIgZTEgPSBuZXcgU3dlZXBFdmVudChzMSwgZmFsc2UsIHVuZGVmaW5lZCwgaXNTdWJqZWN0KTtcbiAgdmFyIGUyID0gbmV3IFN3ZWVwRXZlbnQoczIsIGZhbHNlLCBlMSwgICAgICAgIGlzU3ViamVjdCk7XG4gIGUxLm90aGVyRXZlbnQgPSBlMjtcblxuICBlMS5jb250b3VySWQgPSBlMi5jb250b3VySWQgPSBkZXB0aDtcblxuICBpZiAoY29tcGFyZUV2ZW50cyhlMSwgZTIpID4gMCkge1xuICAgIGUyLmxlZnQgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGUxLmxlZnQgPSB0cnVlO1xuICB9XG5cbiAgYmJveFswXSA9IG1pbihiYm94WzBdLCBzMVswXSk7XG4gIGJib3hbMV0gPSBtaW4oYmJveFsxXSwgczFbMV0pO1xuICBiYm94WzJdID0gbWF4KGJib3hbMl0sIHMxWzBdKTtcbiAgYmJveFszXSA9IG1heChiYm94WzNdLCBzMVsxXSk7XG5cbiAgLy8gUHVzaGluZyBpdCBzbyB0aGUgcXVldWUgaXMgc29ydGVkIGZyb20gbGVmdCB0byByaWdodCxcbiAgLy8gd2l0aCBvYmplY3Qgb24gdGhlIGxlZnQgaGF2aW5nIHRoZSBoaWdoZXN0IHByaW9yaXR5LlxuICBldmVudFF1ZXVlLnB1c2goZTEpO1xuICBldmVudFF1ZXVlLnB1c2goZTIpO1xufVxuXG52YXIgY29udG91cklkID0gMDtcblxuZnVuY3Rpb24gcHJvY2Vzc1BvbHlnb24ocG9seWdvbiwgaXNTdWJqZWN0LCBkZXB0aCwgcXVldWUsIGJib3gpIHtcbiAgdmFyIGksIGxlbjtcbiAgaWYgKHR5cGVvZiBwb2x5Z29uWzBdWzBdID09PSAnbnVtYmVyJykge1xuICAgIGZvciAoaSA9IDAsIGxlbiA9IHBvbHlnb24ubGVuZ3RoIC0gMTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBwcm9jZXNzU2VnbWVudChwb2x5Z29uW2ldLCBwb2x5Z29uW2kgKyAxXSwgaXNTdWJqZWN0LCBkZXB0aCArIDEsIHF1ZXVlLCBiYm94KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yIChpID0gMCwgbGVuID0gcG9seWdvbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29udG91cklkKys7XG4gICAgICBwcm9jZXNzUG9seWdvbihwb2x5Z29uW2ldLCBpc1N1YmplY3QsIGNvbnRvdXJJZCwgcXVldWUsIGJib3gpO1xuICAgIH1cbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGZpbGxRdWV1ZShzdWJqZWN0LCBjbGlwcGluZywgc2Jib3gsIGNiYm94KSB7XG4gIHZhciBldmVudFF1ZXVlID0gbmV3IFF1ZXVlKG51bGwsIGNvbXBhcmVFdmVudHMpO1xuICBjb250b3VySWQgPSAwO1xuXG4gIHByb2Nlc3NQb2x5Z29uKHN1YmplY3QsICB0cnVlLCAgMCwgZXZlbnRRdWV1ZSwgc2Jib3gpO1xuICBwcm9jZXNzUG9seWdvbihjbGlwcGluZywgZmFsc2UsIDAsIGV2ZW50UXVldWUsIGNiYm94KTtcblxuICByZXR1cm4gZXZlbnRRdWV1ZTtcbn1cblxuXG5mdW5jdGlvbiBjb21wdXRlRmllbGRzKGV2ZW50LCBwcmV2LCBzd2VlcExpbmUsIG9wZXJhdGlvbikge1xuICAvLyBjb21wdXRlIGluT3V0IGFuZCBvdGhlckluT3V0IGZpZWxkc1xuICBpZiAocHJldiA9PT0gbnVsbCkge1xuICAgIGV2ZW50LmluT3V0ICAgICAgPSBmYWxzZTtcbiAgICBldmVudC5vdGhlckluT3V0ID0gdHJ1ZTtcblxuICAvLyBwcmV2aW91cyBsaW5lIHNlZ21lbnQgaW4gc3dlZXBsaW5lIGJlbG9uZ3MgdG8gdGhlIHNhbWUgcG9seWdvblxuICB9IGVsc2UgaWYgKGV2ZW50LmlzU3ViamVjdCA9PT0gcHJldi5pc1N1YmplY3QpIHtcbiAgICBldmVudC5pbk91dCAgICAgID0gIXByZXYuaW5PdXQ7XG4gICAgZXZlbnQub3RoZXJJbk91dCA9IHByZXYub3RoZXJJbk91dDtcblxuICAvLyBwcmV2aW91cyBsaW5lIHNlZ21lbnQgaW4gc3dlZXBsaW5lIGJlbG9uZ3MgdG8gdGhlIGNsaXBwaW5nIHBvbHlnb25cbiAgfSBlbHNlIHtcbiAgICBldmVudC5pbk91dCAgICAgID0gIXByZXYub3RoZXJJbk91dDtcbiAgICBldmVudC5vdGhlckluT3V0ID0gcHJldi5pc1ZlcnRpY2FsKCkgPyAhcHJldi5pbk91dCA6IHByZXYuaW5PdXQ7XG4gIH1cblxuICAvLyBjb21wdXRlIHByZXZJblJlc3VsdCBmaWVsZFxuICBpZiAocHJldikge1xuICAgIGV2ZW50LnByZXZJblJlc3VsdCA9ICghaW5SZXN1bHQocHJldiwgb3BlcmF0aW9uKSB8fCBwcmV2LmlzVmVydGljYWwoKSkgP1xuICAgICAgIHByZXYucHJldkluUmVzdWx0IDogcHJldjtcbiAgfVxuICAvLyBjaGVjayBpZiB0aGUgbGluZSBzZWdtZW50IGJlbG9uZ3MgdG8gdGhlIEJvb2xlYW4gb3BlcmF0aW9uXG4gIGV2ZW50LmluUmVzdWx0ID0gaW5SZXN1bHQoZXZlbnQsIG9wZXJhdGlvbik7XG59XG5cblxuZnVuY3Rpb24gaW5SZXN1bHQoZXZlbnQsIG9wZXJhdGlvbikge1xuICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICBjYXNlIGVkZ2VUeXBlLk5PUk1BTDpcbiAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XG4gICAgICAgIGNhc2UgSU5URVJTRUNUSU9OOlxuICAgICAgICAgIHJldHVybiAhZXZlbnQub3RoZXJJbk91dDtcbiAgICAgICAgY2FzZSBVTklPTjpcbiAgICAgICAgICByZXR1cm4gZXZlbnQub3RoZXJJbk91dDtcbiAgICAgICAgY2FzZSBESUZGRVJFTkNFOlxuICAgICAgICAgIHJldHVybiAoZXZlbnQuaXNTdWJqZWN0ICYmIGV2ZW50Lm90aGVySW5PdXQpIHx8XG4gICAgICAgICAgICAgICAgICghZXZlbnQuaXNTdWJqZWN0ICYmICFldmVudC5vdGhlckluT3V0KTtcbiAgICAgICAgY2FzZSBYT1I6XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgY2FzZSBlZGdlVHlwZS5TQU1FX1RSQU5TSVRJT046XG4gICAgICByZXR1cm4gb3BlcmF0aW9uID09PSBJTlRFUlNFQ1RJT04gfHwgb3BlcmF0aW9uID09PSBVTklPTjtcbiAgICBjYXNlIGVkZ2VUeXBlLkRJRkZFUkVOVF9UUkFOU0lUSU9OOlxuICAgICAgcmV0dXJuIG9wZXJhdGlvbiA9PT0gRElGRkVSRU5DRTtcbiAgICBjYXNlIGVkZ2VUeXBlLk5PTl9DT05UUklCVVRJTkc6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8qKlxuICogQHBhcmFtICB7U3dlZXBFdmVudH0gc2UxXG4gKiBAcGFyYW0gIHtTd2VlcEV2ZW50fSBzZTJcbiAqIEBwYXJhbSAge1F1ZXVlfSAgICAgIHF1ZXVlXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIHBvc3NpYmxlSW50ZXJzZWN0aW9uKHNlMSwgc2UyLCBxdWV1ZSkge1xuICAvLyB0aGF0IGRpc2FsbG93cyBzZWxmLWludGVyc2VjdGluZyBwb2x5Z29ucyxcbiAgLy8gZGlkIGNvc3QgdXMgaGFsZiBhIGRheSwgc28gSSdsbCBsZWF2ZSBpdFxuICAvLyBvdXQgb2YgcmVzcGVjdFxuICAvLyBpZiAoc2UxLmlzU3ViamVjdCA9PT0gc2UyLmlzU3ViamVjdCkgcmV0dXJuO1xuXG4gIHZhciBpbnRlciA9IGludGVyc2VjdGlvbihcbiAgICBzZTEucG9pbnQsIHNlMS5vdGhlckV2ZW50LnBvaW50LFxuICAgIHNlMi5wb2ludCwgc2UyLm90aGVyRXZlbnQucG9pbnRcbiAgKTtcblxuICB2YXIgbmludGVyc2VjdGlvbnMgPSBpbnRlciA/IGludGVyLmxlbmd0aCA6IDA7XG4gIGlmIChuaW50ZXJzZWN0aW9ucyA9PT0gMCkgcmV0dXJuIDA7IC8vIG5vIGludGVyc2VjdGlvblxuXG4gIC8vIHRoZSBsaW5lIHNlZ21lbnRzIGludGVyc2VjdCBhdCBhbiBlbmRwb2ludCBvZiBib3RoIGxpbmUgc2VnbWVudHNcbiAgaWYgKChuaW50ZXJzZWN0aW9ucyA9PT0gMSkgJiZcbiAgICAgIChlcXVhbHMoc2UxLnBvaW50LCBzZTIucG9pbnQpIHx8XG4gICAgICAgZXF1YWxzKHNlMS5vdGhlckV2ZW50LnBvaW50LCBzZTIub3RoZXJFdmVudC5wb2ludCkpKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBpZiAobmludGVyc2VjdGlvbnMgPT09IDIgJiYgc2UxLmlzU3ViamVjdCA9PT0gc2UyLmlzU3ViamVjdCl7XG4gICAgaWYoc2UxLmNvbnRvdXJJZCA9PT0gc2UyLmNvbnRvdXJJZCl7XG4gICAgY29uc29sZS53YXJuKCdFZGdlcyBvZiB0aGUgc2FtZSBwb2x5Z29uIG92ZXJsYXAnLFxuICAgICAgc2UxLnBvaW50LCBzZTEub3RoZXJFdmVudC5wb2ludCwgc2UyLnBvaW50LCBzZTIub3RoZXJFdmVudC5wb2ludCk7XG4gICAgfVxuICAgIC8vdGhyb3cgbmV3IEVycm9yKCdFZGdlcyBvZiB0aGUgc2FtZSBwb2x5Z29uIG92ZXJsYXAnKTtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIC8vIFRoZSBsaW5lIHNlZ21lbnRzIGFzc29jaWF0ZWQgdG8gc2UxIGFuZCBzZTIgaW50ZXJzZWN0XG4gIGlmIChuaW50ZXJzZWN0aW9ucyA9PT0gMSkge1xuXG4gICAgLy8gaWYgdGhlIGludGVyc2VjdGlvbiBwb2ludCBpcyBub3QgYW4gZW5kcG9pbnQgb2Ygc2UxXG4gICAgaWYgKCFlcXVhbHMoc2UxLnBvaW50LCBpbnRlclswXSkgJiYgIWVxdWFscyhzZTEub3RoZXJFdmVudC5wb2ludCwgaW50ZXJbMF0pKSB7XG4gICAgICBkaXZpZGVTZWdtZW50KHNlMSwgaW50ZXJbMF0sIHF1ZXVlKTtcbiAgICB9XG5cbiAgICAvLyBpZiB0aGUgaW50ZXJzZWN0aW9uIHBvaW50IGlzIG5vdCBhbiBlbmRwb2ludCBvZiBzZTJcbiAgICBpZiAoIWVxdWFscyhzZTIucG9pbnQsIGludGVyWzBdKSAmJiAhZXF1YWxzKHNlMi5vdGhlckV2ZW50LnBvaW50LCBpbnRlclswXSkpIHtcbiAgICAgIGRpdmlkZVNlZ21lbnQoc2UyLCBpbnRlclswXSwgcXVldWUpO1xuICAgIH1cbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIC8vIFRoZSBsaW5lIHNlZ21lbnRzIGFzc29jaWF0ZWQgdG8gc2UxIGFuZCBzZTIgb3ZlcmxhcFxuICB2YXIgZXZlbnRzICAgICAgICA9IFtdO1xuICB2YXIgbGVmdENvaW5jaWRlICA9IGZhbHNlO1xuICB2YXIgcmlnaHRDb2luY2lkZSA9IGZhbHNlO1xuXG4gIGlmIChlcXVhbHMoc2UxLnBvaW50LCBzZTIucG9pbnQpKSB7XG4gICAgbGVmdENvaW5jaWRlID0gdHJ1ZTsgLy8gbGlua2VkXG4gIH0gZWxzZSBpZiAoY29tcGFyZUV2ZW50cyhzZTEsIHNlMikgPT09IDEpIHtcbiAgICBldmVudHMucHVzaChzZTIsIHNlMSk7XG4gIH0gZWxzZSB7XG4gICAgZXZlbnRzLnB1c2goc2UxLCBzZTIpO1xuICB9XG5cbiAgaWYgKGVxdWFscyhzZTEub3RoZXJFdmVudC5wb2ludCwgc2UyLm90aGVyRXZlbnQucG9pbnQpKSB7XG4gICAgcmlnaHRDb2luY2lkZSA9IHRydWU7XG4gIH0gZWxzZSBpZiAoY29tcGFyZUV2ZW50cyhzZTEub3RoZXJFdmVudCwgc2UyLm90aGVyRXZlbnQpID09PSAxKSB7XG4gICAgZXZlbnRzLnB1c2goc2UyLm90aGVyRXZlbnQsIHNlMS5vdGhlckV2ZW50KTtcbiAgfSBlbHNlIHtcbiAgICBldmVudHMucHVzaChzZTEub3RoZXJFdmVudCwgc2UyLm90aGVyRXZlbnQpO1xuICB9XG5cbiAgaWYgKChsZWZ0Q29pbmNpZGUgJiYgcmlnaHRDb2luY2lkZSkgfHwgbGVmdENvaW5jaWRlKSB7XG4gICAgLy8gYm90aCBsaW5lIHNlZ21lbnRzIGFyZSBlcXVhbCBvciBzaGFyZSB0aGUgbGVmdCBlbmRwb2ludFxuICAgIHNlMS50eXBlID0gZWRnZVR5cGUuTk9OX0NPTlRSSUJVVElORztcbiAgICBzZTIudHlwZSA9IChzZTEuaW5PdXQgPT09IHNlMi5pbk91dCkgP1xuICAgICAgZWRnZVR5cGUuU0FNRV9UUkFOU0lUSU9OIDpcbiAgICAgIGVkZ2VUeXBlLkRJRkZFUkVOVF9UUkFOU0lUSU9OO1xuXG4gICAgaWYgKGxlZnRDb2luY2lkZSAmJiAhcmlnaHRDb2luY2lkZSkge1xuICAgICAgLy8gaG9uZXN0bHkgbm8gaWRlYSwgYnV0IGNoYW5naW5nIGV2ZW50cyBzZWxlY3Rpb24gZnJvbSBbMiwgMV1cbiAgICAgIC8vIHRvIFswLCAxXSBmaXhlcyB0aGUgb3ZlcmxhcHBpbmcgc2VsZi1pbnRlcnNlY3RpbmcgcG9seWdvbnMgaXNzdWVcbiAgICAgIGRpdmlkZVNlZ21lbnQoZXZlbnRzWzBdLm90aGVyRXZlbnQsIGV2ZW50c1sxXS5wb2ludCwgcXVldWUpO1xuICAgIH1cbiAgICByZXR1cm4gMjtcbiAgfVxuXG4gIC8vIHRoZSBsaW5lIHNlZ21lbnRzIHNoYXJlIHRoZSByaWdodCBlbmRwb2ludFxuICBpZiAocmlnaHRDb2luY2lkZSkge1xuICAgIGRpdmlkZVNlZ21lbnQoZXZlbnRzWzBdLCBldmVudHNbMV0ucG9pbnQsIHF1ZXVlKTtcbiAgICByZXR1cm4gMztcbiAgfVxuXG4gIC8vIG5vIGxpbmUgc2VnbWVudCBpbmNsdWRlcyB0b3RhbGx5IHRoZSBvdGhlciBvbmVcbiAgaWYgKGV2ZW50c1swXSAhPT0gZXZlbnRzWzNdLm90aGVyRXZlbnQpIHtcbiAgICBkaXZpZGVTZWdtZW50KGV2ZW50c1swXSwgZXZlbnRzWzFdLnBvaW50LCBxdWV1ZSk7XG4gICAgZGl2aWRlU2VnbWVudChldmVudHNbMV0sIGV2ZW50c1syXS5wb2ludCwgcXVldWUpO1xuICAgIHJldHVybiAzO1xuICB9XG5cbiAgLy8gb25lIGxpbmUgc2VnbWVudCBpbmNsdWRlcyB0aGUgb3RoZXIgb25lXG4gIGRpdmlkZVNlZ21lbnQoZXZlbnRzWzBdLCBldmVudHNbMV0ucG9pbnQsIHF1ZXVlKTtcbiAgZGl2aWRlU2VnbWVudChldmVudHNbM10ub3RoZXJFdmVudCwgZXZlbnRzWzJdLnBvaW50LCBxdWV1ZSk7XG5cbiAgcmV0dXJuIDM7XG59XG5cblxuLyoqXG4gKiBAcGFyYW0gIHtTd2VlcEV2ZW50fSBzZVxuICogQHBhcmFtICB7QXJyYXkuPE51bWJlcj59IHBcbiAqIEBwYXJhbSAge1F1ZXVlfSBxdWV1ZVxuICogQHJldHVybiB7UXVldWV9XG4gKi9cbmZ1bmN0aW9uIGRpdmlkZVNlZ21lbnQoc2UsIHAsIHF1ZXVlKSAge1xuICB2YXIgciA9IG5ldyBTd2VlcEV2ZW50KHAsIGZhbHNlLCBzZSwgICAgICAgICAgICBzZS5pc1N1YmplY3QpO1xuICB2YXIgbCA9IG5ldyBTd2VlcEV2ZW50KHAsIHRydWUsICBzZS5vdGhlckV2ZW50LCBzZS5pc1N1YmplY3QpO1xuXG4gIGlmIChlcXVhbHMoc2UucG9pbnQsIHNlLm90aGVyRXZlbnQucG9pbnQpKSB7XG4gICAgY29uc29sZS53YXJuKCd3aGF0IGlzIHRoYXQ/Jywgc2UpO1xuICB9XG5cbiAgci5jb250b3VySWQgPSBsLmNvbnRvdXJJZCA9IHNlLmNvbnRvdXJJZDtcblxuICAvLyBhdm9pZCBhIHJvdW5kaW5nIGVycm9yLiBUaGUgbGVmdCBldmVudCB3b3VsZCBiZSBwcm9jZXNzZWQgYWZ0ZXIgdGhlIHJpZ2h0IGV2ZW50XG4gIGlmIChjb21wYXJlRXZlbnRzKGwsIHNlLm90aGVyRXZlbnQpID4gMCkge1xuICAgIHNlLm90aGVyRXZlbnQubGVmdCA9IHRydWU7XG4gICAgbC5sZWZ0ID0gZmFsc2U7XG4gIH1cblxuICAvLyBhdm9pZCBhIHJvdW5kaW5nIGVycm9yLiBUaGUgbGVmdCBldmVudCB3b3VsZCBiZSBwcm9jZXNzZWQgYWZ0ZXIgdGhlIHJpZ2h0IGV2ZW50XG4gIC8vIGlmIChjb21wYXJlRXZlbnRzKHNlLCByKSA+IDApIHt9XG5cbiAgc2Uub3RoZXJFdmVudC5vdGhlckV2ZW50ID0gbDtcbiAgc2Uub3RoZXJFdmVudCA9IHI7XG5cbiAgcXVldWUucHVzaChsKTtcbiAgcXVldWUucHVzaChyKTtcblxuICByZXR1cm4gcXVldWU7XG59XG5cblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMsIG5vLWRlYnVnZ2VyICovXG5mdW5jdGlvbiBpdGVyYXRvckVxdWFscyhpdDEsIGl0Mikge1xuICByZXR1cm4gaXQxLl9jdXJzb3IgPT09IGl0Mi5fY3Vyc29yO1xufVxuXG5cbmZ1bmN0aW9uIF9yZW5kZXJTd2VlcExpbmUoc3dlZXBMaW5lLCBwb3MsIGV2ZW50KSB7XG4gIHZhciBtYXAgPSB3aW5kb3cubWFwO1xuICBpZiAoIW1hcCkgcmV0dXJuO1xuICBpZiAod2luZG93LnN3cykgd2luZG93LnN3cy5mb3JFYWNoKGZ1bmN0aW9uKHApIHtcbiAgICBtYXAucmVtb3ZlTGF5ZXIocCk7XG4gIH0pO1xuICB3aW5kb3cuc3dzID0gW107XG4gIHN3ZWVwTGluZS5lYWNoKGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgcG9seSA9IEwucG9seWxpbmUoW2UucG9pbnQuc2xpY2UoKS5yZXZlcnNlKCksIGUub3RoZXJFdmVudC5wb2ludC5zbGljZSgpLnJldmVyc2UoKV0sIHsgY29sb3I6ICdncmVlbicgfSkuYWRkVG8obWFwKTtcbiAgICB3aW5kb3cuc3dzLnB1c2gocG9seSk7XG4gIH0pO1xuXG4gIGlmICh3aW5kb3cudnQpIG1hcC5yZW1vdmVMYXllcih3aW5kb3cudnQpO1xuICB2YXIgdiA9IHBvcy5zbGljZSgpO1xuICB2YXIgYiA9IG1hcC5nZXRCb3VuZHMoKTtcbiAgd2luZG93LnZ0ID0gTC5wb2x5bGluZShbW2IuZ2V0Tm9ydGgoKSwgdlswXV0sIFtiLmdldFNvdXRoKCksIHZbMF1dXSwge2NvbG9yOiAnZ3JlZW4nLCB3ZWlnaHQ6IDF9KS5hZGRUbyhtYXApO1xuXG4gIGlmICh3aW5kb3cucHMpIG1hcC5yZW1vdmVMYXllcih3aW5kb3cucHMpO1xuICB3aW5kb3cucHMgPSBMLnBvbHlsaW5lKFtldmVudC5wb2ludC5zbGljZSgpLnJldmVyc2UoKSwgZXZlbnQub3RoZXJFdmVudC5wb2ludC5zbGljZSgpLnJldmVyc2UoKV0sIHtjb2xvcjogJ2JsYWNrJywgd2VpZ2h0OiA5LCBvcGFjaXR5OiAwLjR9KS5hZGRUbyhtYXApO1xuICBkZWJ1Z2dlcjtcbn1cbi8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLXZhcnMsIG5vLWRlYnVnZ2VyICovXG5cblxuZnVuY3Rpb24gc3ViZGl2aWRlU2VnbWVudHMoZXZlbnRRdWV1ZSwgc3ViamVjdCwgY2xpcHBpbmcsIHNiYm94LCBjYmJveCwgb3BlcmF0aW9uKSB7XG4gIHZhciBzb3J0ZWRFdmVudHMgPSBbXTtcbiAgdmFyIHByZXYsIG5leHQ7XG5cbiAgdmFyIHN3ZWVwTGluZSA9IG5ldyBUcmVlKGNvbXBhcmVTZWdtZW50cyk7XG4gIHZhciBzb3J0ZWRFdmVudHMgPSBbXTtcblxuICB2YXIgcmlnaHRib3VuZCA9IG1pbihzYmJveFsyXSwgY2Jib3hbMl0pO1xuXG4gIHZhciBwcmV2LCBuZXh0O1xuXG4gIHdoaWxlIChldmVudFF1ZXVlLmxlbmd0aCkge1xuICAgIHZhciBldmVudCA9IGV2ZW50UXVldWUucG9wKCk7XG4gICAgc29ydGVkRXZlbnRzLnB1c2goZXZlbnQpO1xuXG4gICAgLy8gb3B0aW1pemF0aW9uIGJ5IGJib3hlcyBmb3IgaW50ZXJzZWN0aW9uIGFuZCBkaWZmZXJlbmNlIGdvZXMgaGVyZVxuICAgIGlmICgob3BlcmF0aW9uID09PSBJTlRFUlNFQ1RJT04gJiYgZXZlbnQucG9pbnRbMF0gPiByaWdodGJvdW5kKSB8fFxuICAgICAgICAob3BlcmF0aW9uID09PSBESUZGRVJFTkNFICAgJiYgZXZlbnQucG9pbnRbMF0gPiBzYmJveFsyXSkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChldmVudC5sZWZ0KSB7XG4gICAgICBzd2VlcExpbmUuaW5zZXJ0KGV2ZW50KTtcbiAgICAgIC8vIF9yZW5kZXJTd2VlcExpbmUoc3dlZXBMaW5lLCBldmVudC5wb2ludCwgZXZlbnQpO1xuXG4gICAgICBuZXh0ID0gc3dlZXBMaW5lLmZpbmRJdGVyKGV2ZW50KTtcbiAgICAgIHByZXYgPSBzd2VlcExpbmUuZmluZEl0ZXIoZXZlbnQpO1xuICAgICAgZXZlbnQuaXRlcmF0b3IgPSBzd2VlcExpbmUuZmluZEl0ZXIoZXZlbnQpO1xuXG4gICAgICAvLyBDYW5ub3QgZ2V0IG91dCBvZiB0aGUgdHJlZSB3aGF0IHdlIGp1c3QgcHV0IHRoZXJlXG4gICAgICBpZiAoIXByZXYgfHwgIW5leHQpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2JydXRlJyk7XG4gICAgICAgIHZhciBpdGVyYXRvcnMgPSBmaW5kSXRlckJydXRlKHN3ZWVwTGluZSk7XG4gICAgICAgIHByZXYgPSBpdGVyYXRvcnNbMF07XG4gICAgICAgIG5leHQgPSBpdGVyYXRvcnNbMV07XG4gICAgICB9XG5cbiAgICAgIGlmIChwcmV2LmRhdGEoKSAhPT0gc3dlZXBMaW5lLm1pbigpKSB7XG4gICAgICAgIHByZXYucHJldigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJldiA9IHN3ZWVwTGluZS5pdGVyYXRvcigpOyAvL2ZpbmRJdGVyKHN3ZWVwTGluZS5tYXgoKSk7XG4gICAgICAgIHByZXYucHJldigpO1xuICAgICAgICBwcmV2Lm5leHQoKTtcbiAgICAgIH1cbiAgICAgIG5leHQubmV4dCgpO1xuXG4gICAgICBjb21wdXRlRmllbGRzKGV2ZW50LCBwcmV2LmRhdGEoKSwgc3dlZXBMaW5lLCBvcGVyYXRpb24pO1xuXG4gICAgICBpZiAobmV4dC5kYXRhKCkpIHtcbiAgICAgICAgaWYgKHBvc3NpYmxlSW50ZXJzZWN0aW9uKGV2ZW50LCBuZXh0LmRhdGEoKSwgZXZlbnRRdWV1ZSkgPT09IDIpIHtcbiAgICAgICAgICBjb21wdXRlRmllbGRzKGV2ZW50LCBwcmV2LmRhdGEoKSwgc3dlZXBMaW5lLCBvcGVyYXRpb24pO1xuICAgICAgICAgIGNvbXB1dGVGaWVsZHMoZXZlbnQsIG5leHQuZGF0YSgpLCBzd2VlcExpbmUsIG9wZXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHByZXYuZGF0YSgpKSB7XG4gICAgICAgIGlmIChwb3NzaWJsZUludGVyc2VjdGlvbihwcmV2LmRhdGEoKSwgZXZlbnQsIGV2ZW50UXVldWUpID09PSAyKSB7XG4gICAgICAgICAgdmFyIHByZXZwcmV2ID0gc3dlZXBMaW5lLmZpbmRJdGVyKHByZXYuZGF0YSgpKTtcbiAgICAgICAgICBpZiAocHJldnByZXYuZGF0YSgpICE9PSBzd2VlcExpbmUubWluKCkpIHtcbiAgICAgICAgICAgIHByZXZwcmV2LnByZXYoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJldnByZXYgPSBzd2VlcExpbmUuZmluZEl0ZXIoc3dlZXBMaW5lLm1heCgpKTtcbiAgICAgICAgICAgIHByZXZwcmV2Lm5leHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29tcHV0ZUZpZWxkcyhwcmV2LmRhdGEoKSwgcHJldnByZXYuZGF0YSgpLCBzd2VlcExpbmUsIG9wZXJhdGlvbik7XG4gICAgICAgICAgY29tcHV0ZUZpZWxkcyhldmVudCwgcHJldi5kYXRhKCksIHN3ZWVwTGluZSwgb3BlcmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBldmVudCA9IGV2ZW50Lm90aGVyRXZlbnQ7XG4gICAgICBuZXh0ID0gc3dlZXBMaW5lLmZpbmRJdGVyKGV2ZW50KTtcbiAgICAgIHByZXYgPSBzd2VlcExpbmUuZmluZEl0ZXIoZXZlbnQpO1xuXG4gICAgICAvLyBfcmVuZGVyU3dlZXBMaW5lKHN3ZWVwTGluZSwgZXZlbnQub3RoZXJFdmVudC5wb2ludCwgZXZlbnQpO1xuXG4gICAgICBpZiAoIShwcmV2ICYmIG5leHQpKSBjb250aW51ZTtcblxuICAgICAgaWYgKHByZXYuZGF0YSgpICE9PSBzd2VlcExpbmUubWluKCkpIHtcbiAgICAgICAgcHJldi5wcmV2KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmV2ID0gc3dlZXBMaW5lLml0ZXJhdG9yKCk7XG4gICAgICAgIHByZXYucHJldigpOyAvLyBzd2VlcExpbmUuZmluZEl0ZXIoc3dlZXBMaW5lLm1heCgpKTtcbiAgICAgICAgcHJldi5uZXh0KCk7XG4gICAgICB9XG4gICAgICBuZXh0Lm5leHQoKTtcbiAgICAgIHN3ZWVwTGluZS5yZW1vdmUoZXZlbnQpO1xuXG4gICAgICAvL19yZW5kZXJTd2VlcExpbmUoc3dlZXBMaW5lLCBldmVudC5vdGhlckV2ZW50LnBvaW50LCBldmVudCk7XG5cbiAgICAgIGlmIChuZXh0LmRhdGEoKSAmJiBwcmV2LmRhdGEoKSkge1xuICAgICAgICBwb3NzaWJsZUludGVyc2VjdGlvbihwcmV2LmRhdGEoKSwgbmV4dC5kYXRhKCksIGV2ZW50UXVldWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gc29ydGVkRXZlbnRzO1xufVxuXG5mdW5jdGlvbiBmaW5kSXRlckJydXRlKHN3ZWVwTGluZSwgcSkge1xuICB2YXIgcHJldiA9IHN3ZWVwTGluZS5pdGVyYXRvcigpO1xuICB2YXIgbmV4dCA9IHN3ZWVwTGluZS5pdGVyYXRvcigpO1xuICB2YXIgaXQgICA9IHN3ZWVwTGluZS5pdGVyYXRvcigpLCBkYXRhO1xuICB3aGlsZSgoZGF0YSA9IGl0Lm5leHQoKSkgIT09IG51bGwpIHtcbiAgICBwcmV2Lm5leHQoKTtcbiAgICBuZXh0Lm5leHQoKTtcbiAgICBpZiAoZGF0YSA9PT0gZXZlbnQpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gW3ByZXYsIG5leHRdO1xufVxuXG5cbmZ1bmN0aW9uIHN3YXAgKGFyciwgaSwgbikge1xuICB2YXIgdGVtcCA9IGFycltpXTtcbiAgYXJyW2ldID0gYXJyW25dO1xuICBhcnJbbl0gPSB0ZW1wO1xufVxuXG5cbmZ1bmN0aW9uIGNoYW5nZU9yaWVudGF0aW9uKGNvbnRvdXIpIHtcbiAgcmV0dXJuIGNvbnRvdXIucmV2ZXJzZSgpO1xufVxuXG5cbmZ1bmN0aW9uIGlzQXJyYXkgKGFycikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cblxuZnVuY3Rpb24gYWRkSG9sZShjb250b3VyLCBpZHgpIHtcbiAgaWYgKGlzQXJyYXkoY29udG91clswXSkgJiYgIWlzQXJyYXkoY29udG91clswXVswXSkpIHtcbiAgICBjb250b3VyID0gW2NvbnRvdXJdO1xuICB9XG4gIGNvbnRvdXJbaWR4XSA9IFtdO1xuICByZXR1cm4gY29udG91cjtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSAge0FycmF5LjxTd2VlcEV2ZW50Pn0gc29ydGVkRXZlbnRzXG4gKiBAcmV0dXJuIHtBcnJheS48U3dlZXBFdmVudD59XG4gKi9cbmZ1bmN0aW9uIG9yZGVyRXZlbnRzKHNvcnRlZEV2ZW50cykge1xuICB2YXIgZXZlbnQsIGksIGxlbjtcbiAgdmFyIHJlc3VsdEV2ZW50cyA9IFtdO1xuICBmb3IgKGkgPSAwLCBsZW4gPSBzb3J0ZWRFdmVudHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBldmVudCA9IHNvcnRlZEV2ZW50c1tpXTtcbiAgICBpZiAoKGV2ZW50LmxlZnQgJiYgZXZlbnQuaW5SZXN1bHQpIHx8XG4gICAgICAoIWV2ZW50LmxlZnQgJiYgZXZlbnQub3RoZXJFdmVudC5pblJlc3VsdCkpIHtcbiAgICAgIHJlc3VsdEV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgICB9XG4gIH1cblxuICAvLyBEdWUgdG8gb3ZlcmxhcHBpbmcgZWRnZXMgdGhlIHJlc3VsdEV2ZW50cyBhcnJheSBjYW4gYmUgbm90IHdob2xseSBzb3J0ZWRcbiAgdmFyIHNvcnRlZCA9IGZhbHNlO1xuICB3aGlsZSAoIXNvcnRlZCkge1xuICAgIHNvcnRlZCA9IHRydWU7XG4gICAgZm9yIChpID0gMCwgbGVuID0gcmVzdWx0RXZlbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoKGkgKyAxKSA8IGxlbiAmJlxuICAgICAgICBjb21wYXJlRXZlbnRzKHJlc3VsdEV2ZW50c1tpXSwgcmVzdWx0RXZlbnRzW2kgKyAxXSkgPT09IDEpIHtcbiAgICAgICAgc3dhcChyZXN1bHRFdmVudHMsIGksIGkgKyAxKTtcbiAgICAgICAgc29ydGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZm9yIChpID0gMCwgbGVuID0gcmVzdWx0RXZlbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgcmVzdWx0RXZlbnRzW2ldLnBvcyA9IGk7XG4gIH1cblxuICBmb3IgKGkgPSAwLCBsZW4gPSByZXN1bHRFdmVudHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoIXJlc3VsdEV2ZW50c1tpXS5sZWZ0KSB7XG4gICAgICB2YXIgdGVtcCA9IHJlc3VsdEV2ZW50c1tpXS5wb3M7XG4gICAgICByZXN1bHRFdmVudHNbaV0ucG9zID0gcmVzdWx0RXZlbnRzW2ldLm90aGVyRXZlbnQucG9zO1xuICAgICAgcmVzdWx0RXZlbnRzW2ldLm90aGVyRXZlbnQucG9zID0gdGVtcDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0RXZlbnRzO1xufVxuXG5cbi8qKlxuICogQHBhcmFtICB7QXJyYXkuPFN3ZWVwRXZlbnQ+fSBzb3J0ZWRFdmVudHNcbiAqIEByZXR1cm4ge0FycmF5LjwqPn0gcG9seWdvbnNcbiAqL1xuZnVuY3Rpb24gY29ubmVjdEVkZ2VzKHNvcnRlZEV2ZW50cykge1xuICB2YXIgaSwgbGVuO1xuICB2YXIgcmVzdWx0RXZlbnRzID0gb3JkZXJFdmVudHMoc29ydGVkRXZlbnRzKTtcblxuXG4gIC8vIFwiZmFsc2VcIi1maWxsZWQgYXJyYXlcbiAgdmFyIHByb2Nlc3NlZCA9IEFycmF5KHJlc3VsdEV2ZW50cy5sZW5ndGgpO1xuICB2YXIgcmVzdWx0ID0gW107XG5cbiAgdmFyIGRlcHRoICA9IFtdO1xuICB2YXIgaG9sZU9mID0gW107XG4gIHZhciBpc0hvbGUgPSB7fTtcblxuICBmb3IgKGkgPSAwLCBsZW4gPSByZXN1bHRFdmVudHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAocHJvY2Vzc2VkW2ldKSBjb250aW51ZTtcblxuICAgIHZhciBjb250b3VyID0gW107XG4gICAgcmVzdWx0LnB1c2goY29udG91cik7XG5cbiAgICB2YXIgcmluZ0lkID0gcmVzdWx0Lmxlbmd0aCAtIDE7XG4gICAgZGVwdGgucHVzaCgwKTtcbiAgICBob2xlT2YucHVzaCgtMSk7XG5cblxuICAgIGlmIChyZXN1bHRFdmVudHNbaV0ucHJldkluUmVzdWx0KSB7XG4gICAgICB2YXIgbG93ZXJDb250b3VySWQgPSByZXN1bHRFdmVudHNbaV0ucHJldkluUmVzdWx0LmNvbnRvdXJJZDtcbiAgICAgIGlmICghcmVzdWx0RXZlbnRzW2ldLnByZXZJblJlc3VsdC5yZXN1bHRJbk91dCkge1xuICAgICAgICBhZGRIb2xlKHJlc3VsdFtsb3dlckNvbnRvdXJJZF0sIHJpbmdJZCk7XG4gICAgICAgIGhvbGVPZltyaW5nSWRdID0gbG93ZXJDb250b3VySWQ7XG4gICAgICAgIGRlcHRoW3JpbmdJZF0gID0gZGVwdGhbbG93ZXJDb250b3VySWRdICsgMTtcbiAgICAgICAgaXNIb2xlW3JpbmdJZF0gPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChpc0hvbGVbbG93ZXJDb250b3VySWRdKSB7XG4gICAgICAgIGFkZEhvbGUocmVzdWx0W2hvbGVPZltsb3dlckNvbnRvdXJJZF1dLCByaW5nSWQpO1xuICAgICAgICBob2xlT2ZbcmluZ0lkXSA9IGhvbGVPZltsb3dlckNvbnRvdXJJZF07XG4gICAgICAgIGRlcHRoW3JpbmdJZF0gID0gZGVwdGhbbG93ZXJDb250b3VySWRdO1xuICAgICAgICBpc0hvbGVbcmluZ0lkXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHBvcyA9IGk7XG4gICAgdmFyIGluaXRpYWwgPSByZXN1bHRFdmVudHNbaV0ucG9pbnQ7XG4gICAgY29udG91ci5wdXNoKGluaXRpYWwpO1xuXG4gICAgd2hpbGUgKHBvcyA+PSBpKSB7XG4gICAgICBwcm9jZXNzZWRbcG9zXSA9IHRydWU7XG5cbiAgICAgIGlmIChyZXN1bHRFdmVudHNbcG9zXS5sZWZ0KSB7XG4gICAgICAgIHJlc3VsdEV2ZW50c1twb3NdLnJlc3VsdEluT3V0ID0gZmFsc2U7XG4gICAgICAgIHJlc3VsdEV2ZW50c1twb3NdLmNvbnRvdXJJZCAgID0gcmluZ0lkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0RXZlbnRzW3Bvc10ub3RoZXJFdmVudC5yZXN1bHRJbk91dCA9IHRydWU7XG4gICAgICAgIHJlc3VsdEV2ZW50c1twb3NdLm90aGVyRXZlbnQuY29udG91cklkICAgPSByaW5nSWQ7XG4gICAgICB9XG5cbiAgICAgIHBvcyA9IHJlc3VsdEV2ZW50c1twb3NdLnBvcztcbiAgICAgIHByb2Nlc3NlZFtwb3NdID0gdHJ1ZTtcblxuICAgICAgY29udG91ci5wdXNoKHJlc3VsdEV2ZW50c1twb3NdLnBvaW50KTtcbiAgICAgIHBvcyA9IG5leHRQb3MocG9zLCByZXN1bHRFdmVudHMsIHByb2Nlc3NlZCk7XG4gICAgfVxuXG4gICAgcG9zID0gcG9zID09PSAtMSA/IGkgOiBwb3M7XG5cbiAgICBwcm9jZXNzZWRbcG9zXSA9IHByb2Nlc3NlZFtyZXN1bHRFdmVudHNbcG9zXS5wb3NdID0gdHJ1ZTtcbiAgICByZXN1bHRFdmVudHNbcG9zXS5vdGhlckV2ZW50LnJlc3VsdEluT3V0ID0gdHJ1ZTtcbiAgICByZXN1bHRFdmVudHNbcG9zXS5vdGhlckV2ZW50LmNvbnRvdXJJZCAgID0gcmluZ0lkO1xuXG5cbiAgICAvLyBkZXB0aCBpcyBldmVuXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tYml0d2lzZSAqL1xuICAgIGlmIChkZXB0aFtyaW5nSWRdICYgMSkge1xuICAgICAgY2hhbmdlT3JpZW50YXRpb24oY29udG91cik7XG4gICAgfVxuICAgIC8qIGVzbGludC1lbmFibGUgbm8tYml0d2lzZSAqL1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSAge051bWJlcn0gcG9zXG4gKiBAcGFyYW0gIHtBcnJheS48U3dlZXBFdmVudD59IHJlc3VsdEV2ZW50c1xuICogQHBhcmFtICB7QXJyYXkuPEJvb2xlYW4+fSAgICBwcm9jZXNzZWRcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqL1xuZnVuY3Rpb24gbmV4dFBvcyhwb3MsIHJlc3VsdEV2ZW50cywgcHJvY2Vzc2VkKSB7XG4gIHZhciBuZXdQb3MgPSBwb3MgKyAxO1xuICB2YXIgbGVuZ3RoID0gcmVzdWx0RXZlbnRzLmxlbmd0aDtcbiAgd2hpbGUgKG5ld1BvcyA8IGxlbmd0aCAmJlxuICAgICAgICAgZXF1YWxzKHJlc3VsdEV2ZW50c1tuZXdQb3NdLnBvaW50LCByZXN1bHRFdmVudHNbcG9zXS5wb2ludCkpIHtcbiAgICBpZiAoIXByb2Nlc3NlZFtuZXdQb3NdKSB7XG4gICAgICByZXR1cm4gbmV3UG9zO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdQb3MgPSBuZXdQb3MgKyAxO1xuICAgIH1cbiAgfVxuXG4gIG5ld1BvcyA9IHBvcyAtIDE7XG5cbiAgd2hpbGUgKHByb2Nlc3NlZFtuZXdQb3NdKSB7XG4gICAgbmV3UG9zID0gbmV3UG9zIC0gMTtcbiAgfVxuICByZXR1cm4gbmV3UG9zO1xufVxuXG5cbmZ1bmN0aW9uIHRyaXZpYWxPcGVyYXRpb24oc3ViamVjdCwgY2xpcHBpbmcsIG9wZXJhdGlvbikge1xuICB2YXIgcmVzdWx0ID0gbnVsbDtcbiAgaWYgKHN1YmplY3QubGVuZ3RoICogY2xpcHBpbmcubGVuZ3RoID09PSAwKSB7XG4gICAgaWYgKG9wZXJhdGlvbiA9PT0gSU5URVJTRUNUSU9OKSB7XG4gICAgICByZXN1bHQgPSBFTVBUWTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdGlvbiA9PT0gRElGRkVSRU5DRSkge1xuICAgICAgcmVzdWx0ID0gc3ViamVjdDtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdGlvbiA9PT0gVU5JT04gfHwgb3BlcmF0aW9uID09PSBYT1IpIHtcbiAgICAgIHJlc3VsdCA9IChzdWJqZWN0Lmxlbmd0aCA9PT0gMCkgPyBjbGlwcGluZyA6IHN1YmplY3Q7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuZnVuY3Rpb24gY29tcGFyZUJCb3hlcyhzdWJqZWN0LCBjbGlwcGluZywgc2Jib3gsIGNiYm94LCBvcGVyYXRpb24pIHtcbiAgdmFyIHJlc3VsdCA9IG51bGw7XG4gIGlmIChzYmJveFswXSA+IGNiYm94WzJdIHx8XG4gICAgICBjYmJveFswXSA+IHNiYm94WzJdIHx8XG4gICAgICBzYmJveFsxXSA+IGNiYm94WzNdIHx8XG4gICAgICBjYmJveFsxXSA+IHNiYm94WzNdKSB7XG4gICAgaWYgKG9wZXJhdGlvbiA9PT0gSU5URVJTRUNUSU9OKSB7XG4gICAgICByZXN1bHQgPSBFTVBUWTtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdGlvbiA9PT0gRElGRkVSRU5DRSkge1xuICAgICAgcmVzdWx0ID0gc3ViamVjdDtcbiAgICB9IGVsc2UgaWYgKG9wZXJhdGlvbiA9PT0gVU5JT04gfHwgb3BlcmF0aW9uID09PSBYT1IpIHtcbiAgICAgIHJlc3VsdCA9IHN1YmplY3QuY29uY2F0KGNsaXBwaW5nKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG5mdW5jdGlvbiBib29sZWFuKHN1YmplY3QsIGNsaXBwaW5nLCBvcGVyYXRpb24pIHtcbiAgdmFyIHRyaXZpYWwgPSB0cml2aWFsT3BlcmF0aW9uKHN1YmplY3QsIGNsaXBwaW5nLCBvcGVyYXRpb24pO1xuICBpZiAodHJpdmlhbCkge1xuICAgIHJldHVybiB0cml2aWFsID09PSBFTVBUWSA/IG51bGwgOiB0cml2aWFsO1xuICB9XG4gIHZhciBzYmJveCA9IFtJbmZpbml0eSwgSW5maW5pdHksIC1JbmZpbml0eSwgLUluZmluaXR5XTtcbiAgdmFyIGNiYm94ID0gW0luZmluaXR5LCBJbmZpbml0eSwgLUluZmluaXR5LCAtSW5maW5pdHldO1xuXG4gIHZhciBldmVudFF1ZXVlID0gZmlsbFF1ZXVlKHN1YmplY3QsIGNsaXBwaW5nLCBzYmJveCwgY2Jib3gpO1xuXG4gIHRyaXZpYWwgPSBjb21wYXJlQkJveGVzKHN1YmplY3QsIGNsaXBwaW5nLCBzYmJveCwgY2Jib3gsIG9wZXJhdGlvbik7XG4gIGlmICh0cml2aWFsKSB7XG4gICAgcmV0dXJuIHRyaXZpYWwgPT09IEVNUFRZID8gbnVsbCA6IHRyaXZpYWw7XG4gIH1cbiAgdmFyIHNvcnRlZEV2ZW50cyA9IHN1YmRpdmlkZVNlZ21lbnRzKGV2ZW50UXVldWUsIHN1YmplY3QsIGNsaXBwaW5nLCBzYmJveCwgY2Jib3gsIG9wZXJhdGlvbik7XG4gIHJldHVybiBjb25uZWN0RWRnZXMoc29ydGVkRXZlbnRzKTtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGJvb2xlYW47XG5cblxubW9kdWxlLmV4cG9ydHMudW5pb24gPSBmdW5jdGlvbihzdWJqZWN0LCBjbGlwcGluZykge1xuICByZXR1cm4gYm9vbGVhbihzdWJqZWN0LCBjbGlwcGluZywgVU5JT04pO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cy5kaWZmID0gZnVuY3Rpb24oc3ViamVjdCwgY2xpcHBpbmcpIHtcbiAgcmV0dXJuIGJvb2xlYW4oc3ViamVjdCwgY2xpcHBpbmcsIERJRkZFUkVOQ0UpO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cy54b3IgPSBmdW5jdGlvbihzdWJqZWN0LCBjbGlwcGluZykge1xuICByZXR1cm4gYm9vbGVhbihzdWJqZWN0LCBjbGlwcGluZywgWE9SKTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMuaW50ZXJzZWN0aW9uID0gZnVuY3Rpb24oc3ViamVjdCwgY2xpcHBpbmcpIHtcbiAgcmV0dXJuIGJvb2xlYW4oc3ViamVjdCwgY2xpcHBpbmcsIElOVEVSU0VDVElPTik7XG59O1xuXG5cbi8qKlxuICogQGVudW0ge051bWJlcn1cbiAqL1xubW9kdWxlLmV4cG9ydHMub3BlcmF0aW9ucyA9IHtcbiAgSU5URVJTRUNUSU9OOiBJTlRFUlNFQ1RJT04sXG4gIERJRkZFUkVOQ0U6ICAgRElGRkVSRU5DRSxcbiAgVU5JT046ICAgICAgICBVTklPTixcbiAgWE9SOiAgICAgICAgICBYT1Jcbn07XG5cblxuLy8gZm9yIHRlc3Rpbmdcbm1vZHVsZS5leHBvcnRzLmZpbGxRdWV1ZSAgICAgICAgICAgID0gZmlsbFF1ZXVlO1xubW9kdWxlLmV4cG9ydHMuY29tcHV0ZUZpZWxkcyAgICAgICAgPSBjb21wdXRlRmllbGRzO1xubW9kdWxlLmV4cG9ydHMuc3ViZGl2aWRlU2VnbWVudHMgICAgPSBzdWJkaXZpZGVTZWdtZW50cztcbm1vZHVsZS5leHBvcnRzLmRpdmlkZVNlZ21lbnQgICAgICAgID0gZGl2aWRlU2VnbWVudDtcbm1vZHVsZS5leHBvcnRzLnBvc3NpYmxlSW50ZXJzZWN0aW9uID0gcG9zc2libGVJbnRlcnNlY3Rpb247XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vc3JjL2luZGV4Jyk7XG4iLCIvKipcbiAqIE9mZnNldCBlZGdlIG9mIHRoZSBwb2x5Z29uXG4gKlxuICogQHBhcmFtICB7T2JqZWN0fSBjdXJyZW50XG4gKiBAcGFyYW0gIHtPYmplY3R9IG5leHRcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBFZGdlKGN1cnJlbnQsIG5leHQpIHtcblxuICAvKipcbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gIHRoaXMuY3VycmVudCA9IGN1cnJlbnQ7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICB0aGlzLm5leHQgPSBuZXh0O1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgdGhpcy5faW5Ob3JtYWwgID0gdGhpcy5pbndhcmRzTm9ybWFsKCk7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICB0aGlzLl9vdXROb3JtYWwgPSB0aGlzLm91dHdhcmRzTm9ybWFsKCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBvdXR3YXJkcyBub3JtYWxcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuRWRnZS5wcm90b3R5cGUub3V0d2FyZHNOb3JtYWwgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGlud2FyZHMgPSB0aGlzLmlud2FyZHNOb3JtYWwoKTtcbiAgcmV0dXJuIFtcbiAgICAtaW53YXJkc1swXSxcbiAgICAtaW53YXJkc1sxXVxuICBdO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGlud2FyZHMgbm9ybWFsXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbkVkZ2UucHJvdG90eXBlLmlud2FyZHNOb3JtYWwgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGR4ID0gdGhpcy5uZXh0WzBdIC0gdGhpcy5jdXJyZW50WzBdLFxuICAgICAgZHkgPSB0aGlzLm5leHRbMV0gLSB0aGlzLmN1cnJlbnRbMV0sXG4gICAgICBlZGdlTGVuZ3RoID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcblxuICBpZiAoZWRnZUxlbmd0aCA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKCdWZXJ0aWNlcyBvdmVybGFwJyk7XG5cbiAgcmV0dXJuIFtcbiAgICAtZHkgLyBlZGdlTGVuZ3RoLFxuICAgICBkeCAvIGVkZ2VMZW5ndGhcbiAgXTtcbn07XG5cbi8qKlxuICogT2Zmc2V0cyB0aGUgZWRnZSBieSBkeCwgZHlcbiAqIEBwYXJhbSAge051bWJlcn0gZHhcbiAqIEBwYXJhbSAge051bWJlcn0gZHlcbiAqIEByZXR1cm4ge0VkZ2V9XG4gKi9cbkVkZ2UucHJvdG90eXBlLm9mZnNldCA9IGZ1bmN0aW9uKGR4LCBkeSkge1xuICByZXR1cm4gRWRnZS5vZmZzZXRFZGdlKHRoaXMuY3VycmVudCwgdGhpcy5uZXh0LCBkeCwgZHkpO1xufTtcblxuXG4vKipcbiAqIEBwYXJhbSAge051bWJlcn0gZHhcbiAqIEBwYXJhbSAge051bWJlcn0gZHlcbiAqIEByZXR1cm4ge0VkZ2V9XG4gKi9cbkVkZ2UucHJvdG90eXBlLmludmVyc2VPZmZzZXQgPSBmdW5jdGlvbihkeCwgZHkpIHtcbiAgcmV0dXJuIEVkZ2Uub2Zmc2V0RWRnZSh0aGlzLm5leHQsIHRoaXMuY3VycmVudCwgZHgsIGR5KTtcbn07XG5cblxuLyoqXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0gIHtBcnJheS48TnVtYmVyPn0gY3VycmVudFxuICogQHBhcmFtICB7QXJyYXkuPE51bWJlcj59IG5leHRcbiAqIEBwYXJhbSAge051bWJlcn0gICAgICAgICBkeFxuICogQHBhcmFtICB7TnVtYmVyfSAgICAgICAgIGR5XG4gKiBAcmV0dXJuIHtFZGdlfVxuICovXG5FZGdlLm9mZnNldEVkZ2UgPSBmdW5jdGlvbihjdXJyZW50LCBuZXh0LCBkeCwgZHkpIHtcbiAgcmV0dXJuIG5ldyBFZGdlKFtcbiAgICBjdXJyZW50WzBdICsgZHgsXG4gICAgY3VycmVudFsxXSArIGR5XG4gIF0sIFtcbiAgICBuZXh0WzBdICsgZHgsXG4gICAgbmV4dFsxXSArIGR5XG4gIF0pO1xufTtcblxuXG4vKipcbiAqXG4gKiBAcmV0dXJuIHtFZGdlfVxuICovXG5FZGdlLnByb3RvdHlwZS5pbnZlcnNlID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gbmV3IEVkZ2UodGhpcy5uZXh0LCB0aGlzLmN1cnJlbnQpO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IEVkZ2U7XG4iLCIvKipcbiAqIEludGVyc2VjdGlvblxuICogQHBhcmFtIHtWZXJ0ZXh9IHMxXG4gKiBAcGFyYW0ge1ZlcnRleH0gczJcbiAqIEBwYXJhbSB7VmVydGV4fSBjMVxuICogQHBhcmFtIHtWZXJ0ZXh9IGMyXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIEludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKHMxLCBzMiwgYzEsIGMyKSB7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMueCA9IDAuMDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy55ID0gMC4wO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRvU291cmNlID0gMC4wO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRvQ2xpcCA9IDAuMDtcblxuICAgIHZhciBkID0gKGMyLnkgLSBjMS55KSAqIChzMi54IC0gczEueCkgLSAoYzIueCAtIGMxLngpICogKHMyLnkgLSBzMS55KTtcblxuICAgIGlmIChkID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMudG9Tb3VyY2UgPSAoKGMyLnggLSBjMS54KSAqIChzMS55IC0gYzEueSkgLSAoYzIueSAtIGMxLnkpICogKHMxLnggLSBjMS54KSkgLyBkO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRvQ2xpcCA9ICgoczIueCAtIHMxLngpICogKHMxLnkgLSBjMS55KSAtIChzMi55IC0gczEueSkgKiAoczEueCAtIGMxLngpKSAvIGQ7XG5cbiAgICBpZiAodGhpcy52YWxpZCgpKSB7XG4gICAgICAgIHRoaXMueCA9IHMxLnggKyB0aGlzLnRvU291cmNlICogKHMyLnggLSBzMS54KTtcbiAgICAgICAgdGhpcy55ID0gczEueSArIHRoaXMudG9Tb3VyY2UgKiAoczIueSAtIHMxLnkpO1xuICAgIH1cbn07XG5cbi8qKlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuSW50ZXJzZWN0aW9uLnByb3RvdHlwZS52YWxpZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoMCA8IHRoaXMudG9Tb3VyY2UgJiYgdGhpcy50b1NvdXJjZSA8IDEpICYmICgwIDwgdGhpcy50b0NsaXAgJiYgdGhpcy50b0NsaXAgPCAxKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW50ZXJzZWN0aW9uO1xuIiwiLyoqXG4gKiBWZXJ0ZXggcmVwcmVzZW50YXRpb25cbiAqXG4gKiBAcGFyYW0ge051bWJlcnxBcnJheS48TnVtYmVyPn0geFxuICogQHBhcmFtIHtOdW1iZXI9fSAgICAgICAgICAgICAgIHlcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIFZlcnRleCA9IGZ1bmN0aW9uKHgsIHkpIHtcblxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIC8vIENvb3Jkc1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgICAgICAgICAgeSA9IHhbMV07XG4gICAgICAgICAgICB4ID0geFswXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHkgPSB4Lnk7XG4gICAgICAgICAgICB4ID0geC54O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogWCBjb29yZGluYXRlXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnggPSB4O1xuXG4gICAgLyoqXG4gICAgICogWSBjb29yZGluYXRlXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgLyoqXG4gICAgICogTmV4dCBub2RlXG4gICAgICogQHR5cGUge1ZlcnRleH1cbiAgICAgKi9cbiAgICB0aGlzLm5leHQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogUHJldmlvdXMgdmVydGV4XG4gICAgICogQHR5cGUge1ZlcnRleH1cbiAgICAgKi9cbiAgICB0aGlzLnByZXYgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQ29ycmVzcG9uZGluZyBpbnRlcnNlY3Rpb24gaW4gb3RoZXIgcG9seWdvblxuICAgICAqL1xuICAgIHRoaXMuX2NvcnJlc3BvbmRpbmcgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogRGlzdGFuY2UgZnJvbSBwcmV2aW91c1xuICAgICAqL1xuICAgIHRoaXMuX2Rpc3RhbmNlID0gMC4wO1xuXG4gICAgLyoqXG4gICAgICogRW50cnkvZXhpdCBwb2ludCBpbiBhbm90aGVyIHBvbHlnb25cbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLl9pc0VudHJ5ID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIEludGVyc2VjdGlvbiB2ZXJ0ZXggZmxhZ1xuICAgICAqIEB0eXBlIHtCb29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuX2lzSW50ZXJzZWN0aW9uID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBMb29wIGNoZWNrXG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5fdmlzaXRlZCA9IGZhbHNlO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGludGVyc2VjdGlvbiB2ZXJ0ZXhcbiAqIEBwYXJhbSAge051bWJlcn0geFxuICogQHBhcmFtICB7TnVtYmVyfSB5XG4gKiBAcGFyYW0gIHtOdW1iZXJ9IGRpc3RhbmNlXG4gKiBAcmV0dXJuIHtWZXJ0ZXh9XG4gKi9cblZlcnRleC5jcmVhdGVJbnRlcnNlY3Rpb24gPSBmdW5jdGlvbih4LCB5LCBkaXN0YW5jZSkge1xuICAgIHZhciB2ZXJ0ZXggPSBuZXcgVmVydGV4KHgsIHkpO1xuICAgIHZlcnRleC5fZGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICB2ZXJ0ZXguX2lzSW50ZXJzZWN0aW9uID0gdHJ1ZTtcbiAgICB2ZXJ0ZXguX2lzRW50cnkgPSBmYWxzZTtcbiAgICByZXR1cm4gdmVydGV4O1xufTtcblxuLyoqXG4gKiBNYXJrIGFzIHZpc2l0ZWRcbiAqL1xuVmVydGV4LnByb3RvdHlwZS52aXNpdCA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX3Zpc2l0ZWQgPSB0cnVlO1xuICAgIGlmICh0aGlzLl9jb3JyZXNwb25kaW5nICE9PSBudWxsICYmICF0aGlzLl9jb3JyZXNwb25kaW5nLl92aXNpdGVkKSB7XG4gICAgICAgIHRoaXMuX2NvcnJlc3BvbmRpbmcudmlzaXQoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIENvbnZlbmllbmNlXG4gKiBAcGFyYW0gIHtWZXJ0ZXh9ICB2XG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5WZXJ0ZXgucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uKHYpIHtcbiAgICByZXR1cm4gdGhpcy54ID09PSB2LnggJiYgdGhpcy55ID09PSB2Lnk7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIHZlcnRleCBpcyBpbnNpZGUgYSBwb2x5Z29uIGJ5IG9kZC1ldmVuIHJ1bGU6XG4gKiBJZiB0aGUgbnVtYmVyIG9mIGludGVyc2VjdGlvbnMgb2YgYSByYXkgb3V0IG9mIHRoZSBwb2ludCBhbmQgcG9seWdvblxuICogc2VnbWVudHMgaXMgb2RkIC0gdGhlIHBvaW50IGlzIGluc2lkZS5cbiAqIEBwYXJhbSB7UG9seWdvbn0gcG9seVxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuVmVydGV4LnByb3RvdHlwZS5pc0luc2lkZSA9IGZ1bmN0aW9uKHBvbHkpIHtcbiAgICB2YXIgb2RkTm9kZXMgPSBmYWxzZSxcbiAgICAgICAgdmVydGV4ID0gcG9seS5maXJzdCxcbiAgICAgICAgbmV4dCA9IHZlcnRleC5uZXh0LFxuICAgICAgICB4ID0gdGhpcy54LFxuICAgICAgICB5ID0gdGhpcy55O1xuXG4gICAgZG8ge1xuICAgICAgICBpZiAoKHZlcnRleC55IDwgeSAmJiBuZXh0LnkgPj0geSB8fFxuICAgICAgICAgICAgICAgIG5leHQueSA8IHkgJiYgdmVydGV4LnkgPj0geSkgJiZcbiAgICAgICAgICAgICh2ZXJ0ZXgueCA8PSB4IHx8IG5leHQueCA8PSB4KSkge1xuXG4gICAgICAgICAgICBvZGROb2RlcyBePSAodmVydGV4LnggKyAoeSAtIHZlcnRleC55KSAvXG4gICAgICAgICAgICAgICAgKG5leHQueSAtIHZlcnRleC55KSAqIChuZXh0LnggLSB2ZXJ0ZXgueCkgPCB4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZlcnRleCA9IHZlcnRleC5uZXh0O1xuICAgICAgICBuZXh0ID0gdmVydGV4Lm5leHQgfHwgcG9seS5maXJzdDtcbiAgICB9IHdoaWxlICghdmVydGV4LmVxdWFscyhwb2x5LmZpcnN0KSk7XG5cbiAgICByZXR1cm4gb2RkTm9kZXM7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZlcnRleDtcbiIsInZhciBWZXJ0ZXggPSByZXF1aXJlKCcuL3ZlcnRleCcpO1xudmFyIEludGVyc2VjdGlvbiA9IHJlcXVpcmUoJy4vaW50ZXJzZWN0aW9uJyk7XG5cbi8qKlxuICogUG9seWdvbiByZXByZXNlbnRhdGlvblxuICogQHBhcmFtIHtBcnJheS48QXJyYXkuPE51bWJlcj4+fSBwXG4gKiBAcGFyYW0ge0Jvb2xlYW49fSAgICAgICAgICAgICAgIGFycmF5VmVydGljZXNcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIFBvbHlnb24gPSBmdW5jdGlvbihwLCBhcnJheVZlcnRpY2VzKSB7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7VmVydGV4fVxuICAgICAqL1xuICAgIHRoaXMuZmlyc3QgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge051bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnZlcnRpY2VzID0gMDtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtWZXJ0ZXh9XG4gICAgICovXG4gICAgdGhpcy5fbGFzdFVucHJvY2Vzc2VkID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdG8gaGFuZGxlIGlucHV0IGFuZCBvdXRwdXQgYXMgW3gseV0gb3Ige3g6eCx5Onl9XG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5fYXJyYXlWZXJ0aWNlcyA9ICh0eXBlb2YgYXJyYXlWZXJ0aWNlcyA9PT0gXCJ1bmRlZmluZWRcIikgP1xuICAgICAgICBBcnJheS5pc0FycmF5KHBbMF0pIDpcbiAgICAgICAgYXJyYXlWZXJ0aWNlcztcblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBwLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHRoaXMuYWRkVmVydGV4KG5ldyBWZXJ0ZXgocFtpXSkpO1xuICAgIH1cbn07XG5cbi8qKlxuICogQWRkIGEgdmVydGV4IG9iamVjdCB0byB0aGUgcG9seWdvblxuICogKHZlcnRleCBpcyBhZGRlZCBhdCB0aGUgJ2VuZCcgb2YgdGhlIGxpc3QnKVxuICpcbiAqIEBwYXJhbSB2ZXJ0ZXhcbiAqL1xuUG9seWdvbi5wcm90b3R5cGUuYWRkVmVydGV4ID0gZnVuY3Rpb24odmVydGV4KSB7XG4gICAgaWYgKHRoaXMuZmlyc3QgPT0gbnVsbCkge1xuICAgICAgICB0aGlzLmZpcnN0ID0gdmVydGV4O1xuICAgICAgICB0aGlzLmZpcnN0Lm5leHQgPSB2ZXJ0ZXg7XG4gICAgICAgIHRoaXMuZmlyc3QucHJldiA9IHZlcnRleDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbmV4dCA9IHRoaXMuZmlyc3QsXG4gICAgICAgICAgICBwcmV2ID0gbmV4dC5wcmV2O1xuXG4gICAgICAgIG5leHQucHJldiA9IHZlcnRleDtcbiAgICAgICAgdmVydGV4Lm5leHQgPSBuZXh0O1xuICAgICAgICB2ZXJ0ZXgucHJldiA9IHByZXY7XG4gICAgICAgIHByZXYubmV4dCA9IHZlcnRleDtcbiAgICB9XG4gICAgdGhpcy52ZXJ0aWNlcysrO1xufTtcblxuLyoqXG4gKiBJbnNlcnRzIGEgdmVydGV4IGluYmV0d2VlbiBzdGFydCBhbmQgZW5kXG4gKlxuICogQHBhcmFtIHtWZXJ0ZXh9IHZlcnRleFxuICogQHBhcmFtIHtWZXJ0ZXh9IHN0YXJ0XG4gKiBAcGFyYW0ge1ZlcnRleH0gZW5kXG4gKi9cblBvbHlnb24ucHJvdG90eXBlLmluc2VydFZlcnRleCA9IGZ1bmN0aW9uKHZlcnRleCwgc3RhcnQsIGVuZCkge1xuICAgIHZhciBwcmV2LCBjdXJyID0gc3RhcnQ7XG5cbiAgICB3aGlsZSAoIWN1cnIuZXF1YWxzKGVuZCkgJiYgY3Vyci5fZGlzdGFuY2UgPCB2ZXJ0ZXguX2Rpc3RhbmNlKSB7XG4gICAgICAgIGN1cnIgPSBjdXJyLm5leHQ7XG4gICAgfVxuXG4gICAgdmVydGV4Lm5leHQgPSBjdXJyO1xuICAgIHByZXYgPSBjdXJyLnByZXY7XG5cbiAgICB2ZXJ0ZXgucHJldiA9IHByZXY7XG4gICAgcHJldi5uZXh0ID0gdmVydGV4O1xuICAgIGN1cnIucHJldiA9IHZlcnRleDtcblxuICAgIHRoaXMudmVydGljZXMrKztcbn07XG5cbi8qKlxuICogR2V0IG5leHQgbm9uLWludGVyc2VjdGlvbiBwb2ludFxuICogQHBhcmFtICB7VmVydGV4fSB2XG4gKiBAcmV0dXJuIHtWZXJ0ZXh9XG4gKi9cblBvbHlnb24ucHJvdG90eXBlLmdldE5leHQgPSBmdW5jdGlvbih2KSB7XG4gICAgdmFyIGMgPSB2O1xuICAgIHdoaWxlIChjLl9pc0ludGVyc2VjdGlvbikge1xuICAgICAgICBjID0gYy5uZXh0O1xuICAgIH1cbiAgICByZXR1cm4gYztcbn07XG5cbi8qKlxuICogVW52aXNpdGVkIGludGVyc2VjdGlvblxuICogQHJldHVybiB7VmVydGV4fVxuICovXG5Qb2x5Z29uLnByb3RvdHlwZS5nZXRGaXJzdEludGVyc2VjdCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdGhpcy5fZmlyc3RJbnRlcnNlY3QgfHwgdGhpcy5maXJzdDtcblxuICAgIGRvIHtcbiAgICAgICAgaWYgKHYuX2lzSW50ZXJzZWN0aW9uICYmICF2Ll92aXNpdGVkKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHYgPSB2Lm5leHQ7XG4gICAgfSB3aGlsZSAoIXYuZXF1YWxzKHRoaXMuZmlyc3QpKTtcblxuICAgIHRoaXMuX2ZpcnN0SW50ZXJzZWN0ID0gdjtcbiAgICByZXR1cm4gdjtcbn07XG5cbi8qKlxuICogRG9lcyB0aGUgcG9seWdvbiBoYXZlIHVudmlzaXRlZCB2ZXJ0aWNlc1xuICogQHJldHVybiB7Qm9vbGVhbn0gW2Rlc2NyaXB0aW9uXVxuICovXG5Qb2x5Z29uLnByb3RvdHlwZS5oYXNVbnByb2Nlc3NlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2ID0gdGhpcy5fbGFzdFVucHJvY2Vzc2VkIHx8IHRoaXMuZmlyc3Q7XG4gICAgZG8ge1xuICAgICAgICBpZiAodi5faXNJbnRlcnNlY3Rpb24gJiYgIXYuX3Zpc2l0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RVbnByb2Nlc3NlZCA9IHY7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHYgPSB2Lm5leHQ7XG4gICAgfSB3aGlsZSAoIXYuZXF1YWxzKHRoaXMuZmlyc3QpKTtcblxuICAgIHRoaXMuX2xhc3RVbnByb2Nlc3NlZCA9IG51bGw7XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBUaGUgb3V0cHV0IGRlcGVuZHMgb24gd2hhdCB5b3UgcHV0IGluLCBhcnJheXMgb3Igb2JqZWN0c1xuICogQHJldHVybiB7QXJyYXkuPEFycmF5PE51bWJlcj58QXJyYXkuPE9iamVjdD59XG4gKi9cblBvbHlnb24ucHJvdG90eXBlLmdldFBvaW50cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwb2ludHMgPSBbXSxcbiAgICAgICAgdiA9IHRoaXMuZmlyc3Q7XG5cbiAgICBpZiAodGhpcy5fYXJyYXlWZXJ0aWNlcykge1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBwb2ludHMucHVzaChbdi54LCB2LnldKTtcbiAgICAgICAgICAgIHYgPSB2Lm5leHQ7XG4gICAgICAgIH0gd2hpbGUgKHYgIT09IHRoaXMuZmlyc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICB4OiB2LngsXG4gICAgICAgICAgICAgICAgeTogdi55XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHYgPSB2Lm5leHQ7XG4gICAgICAgIH0gd2hpbGUgKHYgIT09IHRoaXMuZmlyc3QpO1xuICAgIH1cblxuICAgIHJldHVybiBwb2ludHM7XG59O1xuXG4vKipcbiAqIENsaXAgcG9seWdvbiBhZ2FpbnN0IGFub3RoZXIgb25lLlxuICogUmVzdWx0IGRlcGVuZHMgb24gYWxnb3JpdGhtIGRpcmVjdGlvbjpcbiAqXG4gKiBJbnRlcnNlY3Rpb246IGZvcndhcmRzIGZvcndhcmRzXG4gKiBVbmlvbjogICAgICAgIGJhY2t3YXJzIGJhY2t3YXJkc1xuICogRGlmZjogICAgICAgICBiYWNrd2FyZHMgZm9yd2FyZHNcbiAqXG4gKiBAcGFyYW0ge1BvbHlnb259IGNsaXBcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gc291cmNlRm9yd2FyZHNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gY2xpcEZvcndhcmRzXG4gKi9cblBvbHlnb24ucHJvdG90eXBlLmNsaXAgPSBmdW5jdGlvbihjbGlwLCBzb3VyY2VGb3J3YXJkcywgY2xpcEZvcndhcmRzKSB7XG4gICAgdmFyIHNvdXJjZVZlcnRleCA9IHRoaXMuZmlyc3QsXG4gICAgICAgIGNsaXBWZXJ0ZXggPSBjbGlwLmZpcnN0LFxuICAgICAgICBzb3VyY2VJbkNsaXAsIGNsaXBJblNvdXJjZTtcblxuICAgIHZhciBpc1VuaW9uICAgICAgICA9ICFzb3VyY2VGb3J3YXJkcyAmJiAhY2xpcEZvcndhcmRzO1xuICAgIHZhciBpc0ludGVyc2VjdGlvbiA9IHNvdXJjZUZvcndhcmRzICYmIGNsaXBGb3J3YXJkcztcbiAgICB2YXIgaXNEaWZmICAgICAgICAgPSAhaXNVbmlvbiAmJiAhaXNJbnRlcnNlY3Rpb247XG5cbiAgICAvLyBjYWxjdWxhdGUgYW5kIG1hcmsgaW50ZXJzZWN0aW9uc1xuICAgIGRvIHtcbiAgICAgICAgaWYgKCFzb3VyY2VWZXJ0ZXguX2lzSW50ZXJzZWN0aW9uKSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKCFjbGlwVmVydGV4Ll9pc0ludGVyc2VjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IG5ldyBJbnRlcnNlY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VWZXJ0ZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldE5leHQoc291cmNlVmVydGV4Lm5leHQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpcFZlcnRleCwgY2xpcC5nZXROZXh0KGNsaXBWZXJ0ZXgubmV4dCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpLnZhbGlkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2VJbnRlcnNlY3Rpb24gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZlcnRleC5jcmVhdGVJbnRlcnNlY3Rpb24oaS54LCBpLnksIGkudG9Tb3VyY2UpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBJbnRlcnNlY3Rpb24gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZlcnRleC5jcmVhdGVJbnRlcnNlY3Rpb24oaS54LCBpLnksIGkudG9DbGlwKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlSW50ZXJzZWN0aW9uLl9jb3JyZXNwb25kaW5nID0gY2xpcEludGVyc2VjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBJbnRlcnNlY3Rpb24uX2NvcnJlc3BvbmRpbmcgPSBzb3VyY2VJbnRlcnNlY3Rpb247XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0VmVydGV4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUludGVyc2VjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VWZXJ0ZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXROZXh0KHNvdXJjZVZlcnRleC5uZXh0KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGlwLmluc2VydFZlcnRleChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGlwSW50ZXJzZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBWZXJ0ZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpcC5nZXROZXh0KGNsaXBWZXJ0ZXgubmV4dCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNsaXBWZXJ0ZXggPSBjbGlwVmVydGV4Lm5leHQ7XG4gICAgICAgICAgICB9IHdoaWxlICghY2xpcFZlcnRleC5lcXVhbHMoY2xpcC5maXJzdCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc291cmNlVmVydGV4ID0gc291cmNlVmVydGV4Lm5leHQ7XG4gICAgfSB3aGlsZSAoIXNvdXJjZVZlcnRleC5lcXVhbHModGhpcy5maXJzdCkpO1xuXG4gICAgLy8gcGhhc2UgdHdvIC0gaWRlbnRpZnkgZW50cnkvZXhpdCBwb2ludHNcbiAgICBzb3VyY2VWZXJ0ZXggPSB0aGlzLmZpcnN0O1xuICAgIGNsaXBWZXJ0ZXggPSBjbGlwLmZpcnN0O1xuXG4gICAgc291cmNlSW5DbGlwID0gc291cmNlVmVydGV4LmlzSW5zaWRlKGNsaXApO1xuICAgIGNsaXBJblNvdXJjZSA9IGNsaXBWZXJ0ZXguaXNJbnNpZGUodGhpcyk7XG5cbiAgICBzb3VyY2VGb3J3YXJkcyBePSBzb3VyY2VJbkNsaXA7XG4gICAgY2xpcEZvcndhcmRzIF49IGNsaXBJblNvdXJjZTtcblxuICAgIGRvIHtcbiAgICAgICAgaWYgKHNvdXJjZVZlcnRleC5faXNJbnRlcnNlY3Rpb24pIHtcbiAgICAgICAgICAgIHNvdXJjZVZlcnRleC5faXNFbnRyeSA9IHNvdXJjZUZvcndhcmRzO1xuICAgICAgICAgICAgc291cmNlRm9yd2FyZHMgPSAhc291cmNlRm9yd2FyZHM7XG4gICAgICAgIH1cbiAgICAgICAgc291cmNlVmVydGV4ID0gc291cmNlVmVydGV4Lm5leHQ7XG4gICAgfSB3aGlsZSAoIXNvdXJjZVZlcnRleC5lcXVhbHModGhpcy5maXJzdCkpO1xuXG4gICAgZG8ge1xuICAgICAgICBpZiAoY2xpcFZlcnRleC5faXNJbnRlcnNlY3Rpb24pIHtcbiAgICAgICAgICAgIGNsaXBWZXJ0ZXguX2lzRW50cnkgPSBjbGlwRm9yd2FyZHM7XG4gICAgICAgICAgICBjbGlwRm9yd2FyZHMgPSAhY2xpcEZvcndhcmRzO1xuICAgICAgICB9XG4gICAgICAgIGNsaXBWZXJ0ZXggPSBjbGlwVmVydGV4Lm5leHQ7XG4gICAgfSB3aGlsZSAoIWNsaXBWZXJ0ZXguZXF1YWxzKGNsaXAuZmlyc3QpKTtcblxuICAgIC8vIHBoYXNlIHRocmVlIC0gY29uc3RydWN0IGEgbGlzdCBvZiBjbGlwcGVkIHBvbHlnb25zXG4gICAgdmFyIGxpc3QgPSBbXTtcblxuICAgIHdoaWxlICh0aGlzLmhhc1VucHJvY2Vzc2VkKCkpIHtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLmdldEZpcnN0SW50ZXJzZWN0KCksXG4gICAgICAgICAgICAvLyBrZWVwIGZvcm1hdFxuICAgICAgICAgICAgY2xpcHBlZCA9IG5ldyBQb2x5Z29uKFtdLCB0aGlzLl9hcnJheVZlcnRpY2VzKTtcblxuICAgICAgICBjbGlwcGVkLmFkZFZlcnRleChuZXcgVmVydGV4KGN1cnJlbnQueCwgY3VycmVudC55KSk7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGN1cnJlbnQudmlzaXQoKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50Ll9pc0VudHJ5KSB7XG4gICAgICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuICAgICAgICAgICAgICAgICAgICBjbGlwcGVkLmFkZFZlcnRleChuZXcgVmVydGV4KGN1cnJlbnQueCwgY3VycmVudC55KSk7XG4gICAgICAgICAgICAgICAgfSB3aGlsZSAoIWN1cnJlbnQuX2lzSW50ZXJzZWN0aW9uKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnByZXY7XG4gICAgICAgICAgICAgICAgICAgIGNsaXBwZWQuYWRkVmVydGV4KG5ldyBWZXJ0ZXgoY3VycmVudC54LCBjdXJyZW50LnkpKTtcbiAgICAgICAgICAgICAgICB9IHdoaWxlICghY3VycmVudC5faXNJbnRlcnNlY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuX2NvcnJlc3BvbmRpbmc7XG4gICAgICAgIH0gd2hpbGUgKCFjdXJyZW50Ll92aXNpdGVkKTtcblxuICAgICAgICBsaXN0LnB1c2goY2xpcHBlZC5nZXRQb2ludHMoKSk7XG4gICAgfVxuXG4gICAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGlmIChpc1VuaW9uKSB7XG4gICAgICAgICAgICBpZiAoc291cmNlSW5DbGlwKSAgICAgIGxpc3QucHVzaChjbGlwLmdldFBvaW50cygpKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGNsaXBJblNvdXJjZSkgbGlzdC5wdXNoKHRoaXMuZ2V0UG9pbnRzKCkpO1xuICAgICAgICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2godGhpcy5nZXRQb2ludHMoKSwgY2xpcC5nZXRQb2ludHMoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNJbnRlcnNlY3Rpb24pIHsgLy8gaW50ZXJzZWN0aW9uXG4gICAgICAgICAgICBpZiAoc291cmNlSW5DbGlwKSAgICAgIGxpc3QucHVzaCh0aGlzLmdldFBvaW50cygpKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGNsaXBJblNvdXJjZSkgbGlzdC5wdXNoKGNsaXAuZ2V0UG9pbnRzKCkpO1xuICAgICAgICB9IGVsc2UgeyAvLyBkaWZmXG4gICAgICAgICAgICBpZiAoc291cmNlSW5DbGlwKSAgICAgIGxpc3QucHVzaChjbGlwLmdldFBvaW50cygpLCB0aGlzLmdldFBvaW50cygpKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKGNsaXBJblNvdXJjZSkgbGlzdC5wdXNoKHRoaXMuZ2V0UG9pbnRzKCksIGNsaXAuZ2V0UG9pbnRzKCkpO1xuICAgICAgICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICBsaXN0LnB1c2godGhpcy5nZXRQb2ludHMoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSBsaXN0ID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gbGlzdDtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUG9seWdvbjtcbiIsInZhciBQb2x5Z29uID0gcmVxdWlyZSgnLi9wb2x5Z29uJyk7XG5cbi8qKlxuICogR3JlaW5lci1Ib3JtYW5uIHBvbHlnb24gY2xpcHBpbmdcbiAqIEBsaWNlbnNlIE1JVFxuICogQGF1dGhvciBNaWxldnNraSBBbGV4YW5kZXIgKGMpIDIwMTRcbiAqIEBwcmVzZXJ2ZVxuICovXG5cblxuLyoqXG4gKiBDbGlwIGRyaXZlclxuICogQGFwaVxuICogQHBhcmFtICB7QXJyYXkuPEFycmF5LjxOdW1iZXI+Pn0gcG9seWdvbkFcbiAqIEBwYXJhbSAge0FycmF5LjxBcnJheS48TnVtYmVyPj59IHBvbHlnb25CXG4gKiBAcGFyYW0gIHtCb29sZWFufSAgICAgICAgICAgICAgICBzb3VyY2VGb3J3YXJkc1xuICogQHBhcmFtICB7Qm9vbGVhbn0gICAgICAgICAgICAgICAgY2xpcEZvcndhcmRzXG4gKiBAcmV0dXJuIHtBcnJheS48QXJyYXkuPE51bWJlcj4+fVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHBvbHlnb25BLCBwb2x5Z29uQiwgZUEsIGVCKSB7XG4gICAgdmFyIHJlc3VsdCwgc291cmNlID0gbmV3IFBvbHlnb24ocG9seWdvbkEpLFxuICAgICAgICBjbGlwID0gbmV3IFBvbHlnb24ocG9seWdvbkIpLFxuICAgICAgICByZXN1bHQgPSBzb3VyY2UuY2xpcChjbGlwLCBlQSwgZUIpO1xuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9